{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u5e8f","text":"<p>\u591a\u5e74\u4ee5\u6765\uff0cPython\u4e00\u76f4\u5360\u636eTOBIE\u6700\u70ed\u95e8\u7f16\u7a0b\u8bed\u8a00\u7684\u699c\u5355\u524d\u4e09\uff0c\u6bcf\u5e74\u90fd\u5438\u5f15\u65e0\u6570\u4eba\u4ece\u5176\u5b83\u8bed\u8a00\u8f6c\u884c\u8fc7\u6765\u3002\u6b63\u6240\u8c13\u540d\u6ee1\u5929\u4e0b\uff0c\u8c24\u4ea6\u968f\u4e4b\uff0c\u4e00\u76f4\u4ee5\u6765\uff0c\u4e89\u8bae\u4e00\u76f4\u4f34\u968f\u7740Python\u3002\u5176\u4e00\u662f\u6027\u80fd\uff0c\u5176\u4e8c\u662f\u52a8\u6001\u7c7b\u578b\u5bfc\u81f4Python\u9879\u76ee\u65e0\u6cd5\u5927\u578b\u5316\u3002\u5728\u77e5\u4e4e\u4e0a\uff0c\u8bdd\u9898\"\u5927\u578b\u9879\u76ee\u4e0a\uff0cPython\u662f\u4e2a\u70c2\u8bed\u8a00\u5417\"\uff0c\u6700\u9ad8\u7684\u4e00\u4e2a\u56de\u7b54\uff0c\u70b9\u8d5e\u6570\u8fbe\u5230\u4e864700\u3002\u8bf4\u660e\u8fd9\u4e2a\u8bdd\u9898\uff0c\u65e0\u8bba\u89c2\u70b9\u662f\u5426\u6b63\u786e\uff0c\u8fd8\u662f\u5f88\u80fd\u5f15\u8d77\u5171\u9e23\u7684\u3002</p> <p>\u6211\u4ece2019\u5e74\u5f00\u59cb\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u5f00\u53d1\u8d77\uff0c\u5c31\u51b3\u5fc3\u628a\u5b83\u6253\u9020\u6210\u4e00\u6b3e\u5f00\u6e90\u4ea7\u54c1\u3002\u4e0d\u4ec5\u4ec5\u662f\u4ee3\u7801\u5f00\u6e90\uff0c\u800c\u662f\u8981\u8fbe\u5230\u5f00\u6e90\u793e\u533a\u7684\u4f18\u79c0\u54c1\u8d28\u6807\u51c6\u3002\u4e00\u8def\u63a2\u7d22\u4e0b\u6765\uff0c\u6211\u638c\u63e1\u4e86\u5982\u4f55\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\uff0c\u5982\u4f55\u4f7f\u7528\u7c7b\u578b\u6ce8\u91ca\uff0c\u5982\u4f55\u63d0\u9ad8\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u7387\uff0c\u5982\u4f55\u8bbe\u7f6e\u597d\u6301\u7eed\u96c6\u6210\u4ee5\u53ca\u5982\u4f55\u64b0\u5199\u9ad8\u8d28\u91cf\u7684\u6280\u672f\u6587\u6863\u3002\u73b0\u5728\uff0c\u5927\u5bcc\u7fc1\u6846\u67b6\u7684\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u7387\u8d85\u8fc7\u4e8690%\uff0c\u6bcf\u6b21\u4ee3\u7801\u63d0\u4ea4\u90fd\u5c06\u89e6\u53d1CI/CD\uff0c\u6211\u4eec\u7684\u6587\u6863\u4e0d\u4ec5\u5305\u542b\u4e86\u8f83\u8be6\u5c3d\u7684API\u6587\u6863\uff0c\u90e8\u5206\u6587\u6863\u8fd8\u8fdb\u884c\u4e86\u6587\u6863\u6d4b\u8bd5\u3002API\u4e4b\u95f4\u7684\u4ea4\u53c9\u5f15\u7528\u76f8\u4fe1\u4e5f\u6bd4\u56fd\u5185\u540c\u7c7b\u4ea7\u54c1\u66f4\u52a0\u5b8c\u5584\u3002\u6211\u8fd8\u4e13\u95e8\u6784\u5efa\u4e86\u4e00\u4e2a\u5411\u5bfc\u5de5\u5177\uff0cpython project wizard\uff0c\u6765\u4fdd\u8bc1\u6bcf\u4e2a\u65b0\u5efa\u7684\u9879\u76ee\uff0c\u90fd\u80fd\u591f\u9075\u5faa\u5f00\u53d1\u89c4\u8303\u7684\u6700\u4f73\u5b9e\u8df5\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u60f3\u6211\u5df2\u7ecf\u6709\u8d44\u683c\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u3002\u5728\u5927\u578b\u9879\u76ee\u4e0a\uff0cPython\u662f\u4e2a\u70c2\u8bed\u8a00\u5417\uff1f\u6070\u6070\u76f8\u53cd\uff0c\u5982\u679c\u56e2\u961f\u90fd\u9075\u5faa\u793e\u533a\u6700\u4f73\u5b9e\u8df5\uff0cPython\u8ddf\u5176\u5b83\u8bed\u8a00\u4e00\u6837\uff0c\u90fd\u80fd\u591f\u5f00\u53d1\u51fa\u9ad8\u8d28\u91cf\u7684\u5927\u578b\u9879\u76ee\u3002\u5982\u679c\u4f60\u5728\u9879\u76ee\u4e2d\u4e25\u683c\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\uff0c\u505a\u597d\u5355\u5143\u6d4b\u8bd5\u3001\u6587\u6863\uff0c\u90a3\u4e48\u4ee3\u7801\u91cd\u6784\u548c\u9605\u8bfb\u4ed6\u4eba\u4ee3\u7801\u4f1a\u5f88\u5bb9\u6613\uff0c\u5e76\u4e14\u8d28\u91cf\u66f4\u6709\u4fdd\u8bc1\u3002Python\u7684\u6027\u80fd\u786e\u5b9e\u6709\u95ee\u9898\uff0c\u4f46\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u7684\u6027\u80fd\u4e3b\u8981\u6765\u81ea\u4e8e\u7cdf\u7cd5\u7684\u67b6\u6784\u3001\u7b56\u7565\u3001\u7b97\u6cd5\u548c\u4ee3\u7801\u3002\u6bd4\u5982\uff0cPython\u7684\u786e\u6ca1\u6709\u5229\u7528\u591a\u6838\u7684\u80fd\u529b\uff0c\u4f46\u662f\uff0c\u5982\u679c\u662f\u4e00\u4e2a\u5927\u578b\u9879\u76ee\uff0c\u96be\u9053\u4e0d\u5e94\u8be5\u4f7f\u7528\u5f02\u6b65\u52a0\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u4ee5\u5145\u5206\u5229\u7528CPU\u8d44\u6e90\u5417\uff1f\u591a\u8fdb\u7a0b\u56fa\u7136\u589e\u52a0\u4e86\u590d\u6742\u5ea6\uff0c\u4f46\u5bf9\u5927\u578b\u9879\u76ee\uff0c\u8fd9\u79cd\u590d\u6742\u5ea6\u7684\u589e\u52a0\u5fae\u4e0d\u8db3\u9053\u3002</p>"},{"location":"chap01/","title":"\u7b2c\u4e00\u7ae0 \u4e3a\u4ec0\u4e48\u662fPython","text":"<p>2020\u5e74\uff0c\u6b27\u6d32\u592a\u7a7a\u7f72\uff08European Space Agency\uff0c\u7b80\u79f0ESA)\u6253\u7b97\u5411\u706b\u661f\u6d3e\u51fa\u4e00\u4e2a\u63a2\u6d4b\u5668\uff0c\u628a\u4e00\u4e9b\u5ca9\u77f3\u6837\u54c1\u5e26\u56de\u5730\u7403\uff0c\u4ee5\u68c0\u6d4b\u706b\u661f\u4e0a\u662f\u5426\u5b58\u5728\u751f\u547d\u3002\u53d7\u71c3\u6599\u9650\u5236\uff0c\u63a2\u6d4b\u5668\u53ea\u88ab\u5141\u8bb8\u5e26\u56de500g\u7684\u706b\u661f\u5ca9\u77f3\u3002\u56e0\u6b64\uff0c\u53ea\u6709\u4e00\u4e9b\u901a\u8fc7\u7cbe\u5fc3\u6311\u9009\u7684\u6837\u672c\u624d\u80fd\u88ab\u5e26\u56de\u5730\u7403\u3002\u79d1\u5b66\u5bb6\u4eec\u51c6\u5907\u6784\u5efa\u4e00\u4e2a\u73b0\u573a\u6311\u9009\u5668\uff0c\u8fd9\u4e2a\u6311\u9009\u5668\u5fc5\u987b\u6709\u89c6\u89c9\u91cd\u5efa\u80fd\u529b\uff0c\u56e0\u6b64\u4ed6\u4eec\u6784\u5efa\u4e86\u4e00\u4e2a\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u3002\u5728\u8fd9\u9879\u4efb\u52a1\u4e2d\uff0c\u65e0\u8bba\u662f\u6784\u5efa\u795e\u7ecf\u7f51\u7edc\u548c\u591aCPU\u96c6\u7fa4\uff0c\u8fd8\u662f\u901a\u8fc7PyCUDA\u6765\u4f7f\u7528NVIIDA\u7684CUDA\u5e93\uff0c\u90fd\u91cd\u5ea6\u4f9d\u8d56Python\u3002</p> <p> \u56fe\u7247\u6765\u6e90: mars-rover-space-traveler</p> <p>\u7b2c\u4e00\u4e2a\u767b\u9646\u706b\u661f\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u662fJava\u3002\u5b83\u4f5c\u4e3a\u52c7\u6c14(Spirit)\u53f7\u63a2\u6d4b\u5668\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\uff0c\u4e8e2004\u5e741\u67084\u53f7\u7740\u9646\u5728\u706b\u661f\u4e0a\u3002\u800c\u8fd9\u4e00\u6b21\uff0c\u4e3a\u4e86\u5b8c\u6210\u66f4\u590d\u6742\u3001\u66f4\u667a\u6167\u7684\u4efb\u52a1\uff0c\u79d1\u5b66\u5bb6\u4eec\u9009\u62e9\u4e86Python\u3002</p> <p>\u505a\u51fa\u8fd9\u4e2a\u9009\u62e9\u5e76\u4e0d\u56f0\u96be\u3002\u5b9e\u9645\u4e0a\uff0c\u968f\u7740\u4eba\u5de5\u667a\u80fd\u7684\u5174\u8d77\uff0cPython\u5df2\u6210\u4e3a\u5f53\u524d\u6700\u7099\u624b\u53ef\u70ed\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5176\u6392\u540d\u5728TIOBE\u6392\u884c\u699c\u4e0a\u9010\u5e74\u6500\u5347\uff1a</p> <p></p> <p>\u4e0d\u4ec5\u5982\u6b64\uff0c\u81ea\u4eceTIOBE\u5f00\u59cb\u7f16\u5236\u5404\u79cd\u5f00\u53d1\u8bed\u8a00\u7684\u6392\u884c\u699c\u4ee5\u6765\uff0cPython\u8fd8\u5206\u522b\u4e8e2020\u5e74\u30012018\u5e74\u30012010\u5e74\u548c2007\u5e74\u83b7\u5f97\u5e74\u5ea6\u4e4b\u661f\u79f0\u53f7\uff0c\u8fd9\u4e5f\u662f\u60df\u4e00\u56db\u6b21\u83b7\u5f97\u8be5\u79f0\u53f7\u7684\u5f00\u53d1\u8bed\u8a00\uff1a</p> <p></p> <p>\u90a3\u4e48\uff0cPython\u7a76\u7adf\u662f\u4e00\u95e8\u4ec0\u4e48\u6837\u7684\u8bed\u8a00\uff1f\u5b83\u5728\u5f00\u53d1\u4e0a\u6709\u4f55\u4f18\u52bf\uff0c\u4ee5\u81f4\u4e8e\u80fd\u5f97\u5230\u5982\u6b64\u8fd9\u822c\u540d\u58f0\u5462\uff1f\u6211\u4eec\u5e38\u5e38\u542c\u4eba\u8bf4\uff08\u5c24\u5176\u662f\u5728\u4e2d\u6587\u793e\u533a\uff09\uff0cPython\u4e0d\u9002\u5408\u5f00\u53d1\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u662f\u771f\u7684\u5417\uff1f\u8fd9\u672c\u4e66\u5c06\u5c1d\u8bd5\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\uff0c\u7279\u522b\u662f\u4ece\u8f6f\u4ef6\u5de5\u7a0b\u7684\u89d2\u5ea6\uff0c\u9610\u8ff0\u5e94\u8be5\u9075\u5faa\u4ec0\u4e48\u6837\u7684\u5f00\u53d1\u6d41\u7a0b\u548c\u89c4\u8303\uff0c\u624d\u80fd\u66f4\u52a0\u5feb\u901f\u5730\u5f00\u53d1\u51fa\u590d\u6742\u7684\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>Python\u662f\u4e00\u95e8\u6709\u7740\u60a0\u4e45\u5386\u53f2\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5b83\u7531\u51fa\u751f\u4e8e\u8377\u5170\u7684\u7a0b\u5e8f\u5458Guido Van Rossum\u5f00\u53d1\u3002Guido Van Rossum\u5728\u56fd\u5185\u88ab\u7c89\u4e1d\u4eb2\u5207\u5730\u79f0\u4f5c\u201c\u9f9f\u53d4\u201d\u3002\u4ece\u521b\u7acb\u8fd9\u95e8\u8bed\u8a00\u8d77\u7684\u957f\u8fbe30\u5e74\u65f6\u95f4\u91cc\uff0cGuido Van Rossum\u4e00\u76f4\u4ee5\u4ed6\u7684\u70ed\u60c5\u548c\u70ed\u7231\u6307\u5f15\u7740\u8fd9\u95e8\u8bed\u8a00\u7684\u672a\u6765\u53d1\u5c55\u65b9\u5411\uff0c\u88ab\u79f0\u4f5c\u201c\u4ec1\u6148\u7684\u7ec8\u8eab\u72ec\u88c1\u8005\u201d\uff08the benevolent dictator for life\uff09\u3002\u5927\u7ea6\u57282018\u5e74\u4ed6\u6709\u8fc7\u4e00\u6bb5\u77ed\u6682\u7684\u9000\u4f11\uff0c\u4e0d\u8fc7\u5f88\u5feb\u4e8e2020\u5e74\u91cd\u65b0\u56de\u5f52\u793e\u533a\uff0c\u52a0\u5165\u5fae\u8f6f\u5e76\u7ee7\u7eed\u9886\u5bfcPython\u7684\u5f00\u53d1\u3002</p> <p>Python\u7684\u6700\u521d\u7248\u672c\u4e8e1994\u5e741\u6708\u53d1\u5e03\uff0c\u751a\u81f3\u8fd8\u8981\u65e9\u4e8eJava1\u3002\u4e00\u5f00\u59cb\u5b83\u5438\u6536\u4e86\u5f88\u591aLisp\u8bed\u8a00\u7684\u7279\u6027\uff0c\u6bd4\u5982\u5f15\u5165\u4e86\u51fd\u6570\u5f0f\u7f16\u7a0b\u5de5\u5177\uff0c\u5176\u75d5\u8ff9\u4e00\u76f4\u9057\u7559\u5230\u4eca\u5929 -- \u8fd9\u5c31\u662f\u73b0\u5728\u4ecd\u7136\u5728\u5e7f\u6cdb\u4f7f\u7528\u7684<code>reduce</code>, <code>filter</code>, <code>map</code>\u7b49\u51fd\u6570\u7684\u51fa\u5904\u3002\u5728\u90a3\u65f6\uff0cPerl\u8fd8\u662f\u4e00\u79cd\u975e\u5e38\u6d41\u884c\u7684\u811a\u672c\u8bed\u8a00\uff0c Python\u4e5f\u4ece\u4e2d\u5438\u6536\u4e86\u5f88\u591a\u6210\u719f\u6a21\u5757\u7684\u529f\u80fd\uff0c\u8fd9\u6837\u5c31\u6210\u529f\u5730\u7559\u4f4f\u4e86\u4e00\u6279\u5bfb\u627ePerl\u7684\u66ff\u6362\u8bed\u8a00\u7684\u7528\u6237\u3002</p> <p>2000\u5e74Python\u53d1\u5e032.0\u7248\uff0c\u5f15\u5165\u4e86\u5217\u8868\u8868\u8fbe\u5f0f\u3002</p> <p>2001\u5e74\u5e95\uff0cPython 2.2\u53d1\u5e03\uff0c\u4ece\u800c\u4f7f\u5f97Python\u6210\u4e3a\u4e00\u95e8\u7eaf\u7cb9\u7684\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u8fd9\u4e00\u6bb5\u65f6\u95f4\uff0cJava\u5728\u4f01\u4e1a\u5e94\u7528\u7aef\u5f00\u679d\u6563\u53f6\uff0c\u800cPython\u5219\u5728\u6570\u636e\u548c\u57fa\u7840\u8bbe\u65bd\u7ba1\u7406\u65b9\u9762\u627e\u5230\u7528\u6b66\u4e4b\u5730\u3002</p> <p>2008\u5e74\uff0cPython 3.0\u7248\u672c\u53d1\u5e03\uff0c\u56e0\u5176\u4e0e2.x\u5b8c\u5168\u4e0d\u517c\u5bb9\uff08Python 2.7.x\u6210\u4e3aPython 2.x\u7684\u6700\u7ec8\u7248\uff09\uff0c\u6210\u4e3aPython\u662f\u53f2\u4e0a\u6700\u5177\u4e89\u8bae\u7684\u4e00\u4e2a\u7248\u672c\uff0c\u4f46\u4e5f\u5c31\u6b64\u7529\u6389\u4e86\u957f\u4e45\u4ee5\u6765\u79ef\u7d2f\u7684\u4e00\u4e9b\u6c89\u91cd\u5305\u88b1\u3002\u6b64\u540ePython\u8f7b\u88c5\u4e0a\u9635\uff0c\u76f4\u52303.6\u7248\u672c\u5f00\u59cb\uff0c\u6210\u4e3aPython 3\u7cfb\u5217\u7b2c\u4e00\u4e2a\u6bd4\u8f83\u7a33\u5b9a\u53ef\u9760\u7684\u7248\u672c\u3002\u4e5f\u662f\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u968f\u7740\u5927\u6570\u636e\u3001\u673a\u5668\u5b66\u4e60\u4e0e\u4eba\u5de5\u667a\u80fd\u7684\u5feb\u901f\u6f14\u8fdb\uff0cPython\u8fdb\u4e00\u6b65\u53d1\u6325\u51fa\u5b83\u7684\u4f18\u52bf\uff0c\u88ab\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\u8ba4\u8bc6\u548c\u4f7f\u7528\u3002</p>"},{"location":"chap01/#python\u8f6f\u4ef6\u5f00\u53d1\u7684\u4f18\u52bf","title":"Python\u8f6f\u4ef6\u5f00\u53d1\u7684\u4f18\u52bf","text":"<p>Python\u662f\u4e00\u95e8\u4f18\u96c5\u8ff7\u4eba\u3001\u6613\u4e8e\u5b66\u4e60\u548c\u9ad8\u6548\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4ece\u4e00\u5f00\u59cb\u8d77\uff0c\u5b83\u5c31\u628a\u4f18\u7f8e\u6613\u8bfb\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u548c\u6613\u4e8e\u5f00\u53d1\u4f5c\u4e3a\u7b2c\u4e00\u76ee\u6807\uff0c\u628a\u7f16\u7a0b\u7684\u5feb\u4e50\u91cd\u65b0\u8fd8\u7ed9\u5f00\u53d1\u8005\u3002\u57281999\u5e74\uff0c\u521b\u59cb\u4ebaGuido Van Rossum\u53d1\u8d77\u4e86\u4e00\u9879\u540d\u4e3aCP4E(Computer Programming for Everybody)\u7684\u8fd0\u52a8\uff0c\u65e8\u5728\u8ba9\u51e0\u4e4e\u6240\u6709\u4eba\u90fd\u80fd\u7f16\u5199\u548c\u6539\u8fdb\u8ba1\u7b97\u673a\u7a0b\u5e8f\u3002\u8fd9\u9879\u8fd0\u52a8\u7684\u53d1\u8d77\u5ba3\u8a00\u5728\u8fd9\u91cc\u3002\u5b83\u5199\u9053\uff0c\u82e5\u5e72\u5e74\u524d\uff0c\u65bd\u4e50\u516c\u53f8\u66fe\u7ecf\u63d0\u51fa\u4e86\u8ba9\u6bcf\u4e2a\u684c\u9762\u90fd\u6446\u4e0a\u4e00\u53f0\u8ba1\u7b97\u673a\u7684\u5b8f\u5927\u613f\u666f\uff0c\u73b0\u5728\u5df2\u7ecf\u505a\u5230\u4e86\u3002\u4f46\u662f\uff0c\u8ba1\u7b97\u673a\u8fd8\u4e0d\u591f\u7075\u6d3b\u3002\u5982\u679c\u8ba9\u6bcf\u4e00\u4e2a\u4eba\u90fd\u6709\u80fd\u529b\u4e3a\u4ed6\u4eec\u7684\u8ba1\u7b97\u673a\u7f16\u7a0b\uff0c\u4f1a\u600e\u6837\uff1f</p> <p>\u8fd9\u9879\u8fd0\u52a8\u7684\u76ee\u6807\u4e4b\u4e00\uff0c\u5c31\u662f\u4e3a\u4e2d\u5b66\u751f\u8bbe\u8ba1\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\u8bfe\u3002\u6211\u4eec\u770b\u5230\uff0c\u56fd\u5185\u5f88\u591a\u7701\u5df2\u7ecf\u5f00\u59cb\u8981\u6c42\u4e2d\u5b66\u751f\u5f00\u59cb\u5b66\u4e60Python\u7f16\u7a0b\uff0c\u53ef\u4ee5\u8bf4\uff0c\u8fd9\u9879\u8fd0\u52a8\u7684\u7406\u5ff5\uff0c\u6709\u610f\u6216\u65e0\u610f\u5730\uff0c\u5728\u4e16\u754c\u8303\u56f4\u5185\u5f97\u5230\u8ba4\u540c\u3002\u5b9e\u9645\u4e0a\uff0c\u6b63\u662f\u7531\u4e8ePython\u8bed\u8a00\u7684\u7b80\u6d01\u4f18\u7f8e\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u3001\u65e0\u987b\u7f16\u8bd1\u7684\u7279\u6027\uff0c\u624d\u4f7f\u5f97CP4E\u7684\u76ee\u6807\u6709\u53ef\u80fd\u5b9e\u73b0\u3002</p> <p>\u5982\u679c\u8bf4\u4f18\u96c5\u8ff7\u4eba\u8fd8\u6709\u4e9b\u4e3b\u89c2\u7684\u6210\u4efd\uff0c\u6bcf\u4e2a\u4eba\u5fc3\u4e2d\u7684\u5973\u795e\u53ef\u80fd\u4e0d\u5c3d\u76f8\u540c\u3002\u4f46\u5f88\u5c11\u4f1a\u6709\u4eba\u4e0d\u627f\u8ba4Pyhon\u7684\u7b80\u6d01\u9ad8\u6548\u3002\u201c\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528Python\u201d\u4e0d\u4ec5\u662f\u4e00\u53e5\u53e3\u53f7\uff0c\u4e5f\u662fPython\u7a0b\u5e8f\u5f00\u53d1\u9ad8\u6548\u7387\u7684\u4e00\u4e2a\u771f\u5b9e\u5199\u7167\u3002</p> <p>\u4e0e\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\u76f8\u6bd4\uff0c\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\uff0c\u5728\u4e0d\u501f\u52a9\u4e8e\u51fd\u6570\u5e93\u7684\u524d\u63d0\u4e0b\uff0cPython\u4ee3\u7801\u59cb\u7ec8\u662f\u6700\u7b80\u5355\u3001\u6700\u6613\u8bfb\u7684\u3002\u5982\u679c\u5728c\u3001Java\u548cPython\u4e09\u8005\u95f4\u8fdb\u884c\u6bd4\u8f83\u7684\u8bdd\uff0cJava\u662f\u4ee3\u7801\u91cf\u6700\u5927\u7684\u8bed\u8a00\uff0c\u8981\u6bd4c\u8bed\u8a00\u957f1.5\u500d\uff0c\u800c\u6bd4Python\u5219\u957f3~4\u500d\u3002\u6211\u4eec\u4ee5\u8f93\u51fa\u4e00\u4e2a\u6570\u7ec4\u7684\u5143\u7d20\u4e3a\u4f8b\u6765\u4f53\u9a8c\u4e00\u4e0b\uff1a</p> <pre><code># Python\narr = [\"Hello, World!\", \"Hi there, Everyone!\", 6]\nfor i in arr:\n    print(i)\n</code></pre> <p><pre><code>// Java\npublic class Test {\npublic static void main(String args[]) {\nString array[] = {\"Hello, World\", \"Hi there, Everyone\", \"6\"};\nfor (String i : array) {\nSystem.out.println(i);\n}\n}\n}\n</code></pre> \u4ec5\u770b\u5b9a\u4e49\u548c\u8f93\u51fa\u6570\u7ec4\u5143\u7d20\u503c\u7684\u90a3\u90e8\u5206\u3002\u4e24\u79cd\u8bed\u8a00\u90fd\u9700\u8981\u4e09\u884c\u4ee3\u7801\uff0c\u4f46\u662fPython\u7684\u4ee3\u7801\u660e\u663e\u66f4\u77ed\uff0c\u66f4\u4e0d\u8981\u8bf4Python\u8fd8\u6709\u6240\u8c13\u7684\u201cpythonic\"\u7684\u5199\u6cd5\uff1a <pre><code># Pythn\narr = [\"Hello, World!\", \"Hi there, Everyone!\", 6]\n[print(i) for i in arr]\n</code></pre></p> <p>\u6211\u4eec\u518d\u770b\u4e00\u4e2a\u53d8\u91cf\u4ea4\u6362\u7684\u4f8b\u5b50\uff1a</p> <pre><code>// C program to swap two variables in single line\n#include &lt;stdio.h&gt;\nint main()\n{\nint x = 5, y = 10;\n//(x ^= y), (y ^= x), (x ^= y);\nint c;\nc = y;\ny = x;\nx = c;\nprintf(\"After Swapping values of x and y are %d %d\", x, y);\nreturn 0;\n}\n</code></pre> <pre><code>// Java program to swap two variables in a single line\nclass GFG {\npublic static void main(String[] args)\n{\nint x = 5, y = 10;\n//x = x ^ y ^ (y = x);\nint c;\nc = y;\ny = x;\nx = c;\nSystem.out.println(\"After Swapping values\"+\" of x and y are \" + x + \" \" + y);\n}\n}\n</code></pre> <pre><code># Python program to swap two variables in a single line\nx, y = 5, 10\nx, y = y, x\nprint(\"After Swapping values of x and y are\", x, y)\n</code></pre> <p>Python\u7684\u8bed\u6cd5\u663e\u7136\u66f4\u7b80\u5355\uff0c\u5b83\u5c31\u8c61\u6211\u4eec\u6bcf\u5929\u4f7f\u7528\u7684\u81ea\u7136\u8bed\u8a00\u4e00\u6837\uff0c\u4f3c\u4e4e\u4e0d\u501f\u52a9\u4efb\u4f55\u590d\u6742\u7684\u6280\u5de7\u3001\u751a\u81f3\u4e0d\u9700\u8981\u61c2\u6240\u8c13\u7684\u7f16\u7a0b\u77e5\u8bc6\uff0c\u5c31\u80fd\u591f\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u3002c\u548cjava\u867d\u7136\u4e5f\u90fd\u80fd\u4e0d\u501f\u52a9\u7b2c\u4e09\u4e2a\u53d8\u91cf\uff0c\u5b9e\u73b0\u4e00\u884c\u4ee3\u7801\u5b8c\u6210\u53d8\u91cf\u7684\u503c\u4ea4\u6362\uff0c\u4f46\u8fd9\u6837\u7684\u4ee3\u7801\u9700\u8981\u4e00\u5b9a\u7684\u6280\u5de7\uff0c\u56e0\u800c\u66f4\u5bb9\u6613\u51fa\u9519\u3002</p> <p>\u7b80\u6d01\uff08\u4f46\u4e0d\u9700\u8981\u501f\u52a9\u4e8e\u590d\u6742\u7684\u6280\u5de7\uff09\u7684\u4ee3\u7801\u663e\u7136\u66f4\u52a0\u5bb9\u6613\u9605\u8bfb\u548c\u7406\u89e3\uff0c\u4ece\u800c\u5927\u5927\u52a0\u5feb\u4e86\u5f00\u53d1\u7684\u901f\u5ea6\u3002\u7684\u786e\uff0c\u5728\u8fd9\u4e2a\u4fe1\u606f\u8fc7\u8f7d\u7684\u65f6\u4ee3\uff0c\u7b80\u6d01\u8d8a\u6765\u8d8a\u663e\u793a\u51fa\u5f3a\u5927\u7684\u529b\u91cf\uff1ajson\u66ff\u6362xml\u6210\u4e3a\u66f4\u591a\u4eba\u7528\u6765\u4f20\u9012\u6570\u636e\u7684\u5de5\u5177\uff1bmarkdown\u66ff\u4ee3\u4e86html\u3001reStructuredText\u548cWord\u3002</p> <p>\u5220\u7e41\u5c31\u7b80\u4e09\u79cb\u6811\uff0c\u6807\u65b0\u7acb\u5f02\u4e8c\u6708\u82b1\u3002\u7e41\u7410\u3001\u5938\u5f20\u7684\u5df4\u6d1b\u514b\u827a\u672f\uff0c\u65e0\u8bba\u5176\u591a\u4e48\u7cbe\u81f4\u3001\u591a\u4e48\u5438\u5f15\u773c\u7403\uff0c\u90fd\u65e0\u6cd5\u5728\u8fd9\u4e2a\u9ad8\u5ea6\u5185\u5377\u7684\u5e74\u4ee3\u9003\u8131\u6279\u5224\u3002\u6211\u4eec\u9700\u8981\u90a3\u4e9b\u80fd\u591f\u6210\u4e3a\u6211\u4eec\u76f4\u89c9\u7684\u5de5\u5177\u3001\u7b26\u53f7\u548c\u601d\u60f3\uff0c\u4ee5\u4fbf\u8ba9\u6211\u4eec\u80fd\u591f\u5feb\u901f\u54cd\u5e94\u8fd9\u65e5\u76ca\u590d\u6742\u7684\u4e16\u754c\u3002</p> <p>\u8bed\u8a00\u7684\u7b80\u6d01\u3001\u4f18\u7f8e\u5728Python\u4e2d\u7684\u5730\u4f4d\u662f\u5982\u6b64\u91cd\u8981\uff0c\u4ee5\u81f3\u4e8e\u5b83\u88ab\u5199\u8fdb\u4e86Python\u201c\u5baa\u7ae0\u201d -- PEP202(2004\u5e748\u6708\uff09\uff1a </p> <p>Zen of Python -  by Tim Peters3</p> <p>Beautiful is better than ugly. \u4f18\u7f8e\u80dc\u4e8e\u4e11\u964b</p> <p>Explicit is better than implicit. \u660e\u4e86\u80dc\u4e8e\u6666\u6da9</p> <p>Simple is better than complex. \u7b80\u5355\u4f18\u4e8e\u590d\u6742</p> <p>Complex is better than complicated. \u590d\u6742\u4f18\u4e8e\u51cc\u4e71</p> <p>Flat is better than nested. \u6241\u5e73\u597d\u8fc7\u5d4c\u5957</p> <p>Sparse is better than dense. \u7a00\u758f\u5f3a\u4e8e\u7a20\u5bc6</p> <p>Readability counts. \u53ef\u8bfb\u6027\u5f88\u91cd\u8981\uff01</p> <p>Special cases aren't special enough to break the rules. \u7279\u4f8b\u4ea6\u4e0d\u53ef\u8fdd\u80cc\u539f\u5219</p> <p>Although practicality beats purity. \u5373\u4f7f\u5b9e\u7528\u6218\u80dc\u4e86\u7eaf\u7cb9</p> <p>Errors should never pass silently. \u9519\u8bef\u7edd\u4e0d\u80fd\u6084\u6084\u5ffd\u7565</p> <p>Unless explicitly silenced. \u9664\u975e\u6211\u4eec\u786e\u5b9a\u9700\u8981\u5982\u6b64</p> <p>In the face of ambiguity, refuse the temptation to guess. \u9762\u5bf9\u4e0d\u786e\u5b9a\u6027\uff0c\u62d2\u7edd\u5984\u52a0\u731c\u6d4b</p> <p>There should be one -- and preferably only one -- obvious way to do it. \u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053</p> <p>Although that way may not be obvious at first unless you're Dutch. \u5373\u4fbf\u89e3\u51b3\u4e4b\u9053\u8d77\u521d\u770b\u8d77\u6765\u5e76\u4e0d\u663e\u800c\u6613\u89c1</p> <p>Now is better than never. \u505a\u603b\u6bd4\u4e0d\u505a\u5f3a</p> <p>Although never is often better than right now. \u7136\u800c\u4e0d\u5047\u601d\u7d22\u8fd8\u4e0d\u5982\u4e0d\u505a</p> <p>If the implementation is hard to explain, it's a bad idea. \u96be\u4ee5\u540d\u72b6\u7684\uff0c\u5fc5\u7136\u662f\u574f\u7684</p> <p>If the implementation is easy to explain, it may be a good idea. \u6613\u4ee5\u8a00\u4f20\u7684\uff0c\u53ef\u80fd\u662f\u597d\u7684</p> <p>Namespaces are one honking great idea -- let's do more of those! \u540d\u5b57\u7a7a\u95f4\u662f\u4e2a\u7edd\u5999\u7684\u4e3b\u610f\uff0c\u8bf7\u597d\u597d\u4f7f\u7528\uff01</p> <p>\u8fd9\u6bb5\u6587\u5b57\u751a\u81f3\u8fd8\u4ee5\u590d\u6d3b\u8282\u5f69\u86cb\u7684\u65b9\u5f0f\u51fa\u73b0\u3002\u5982\u679c\u6267\u884c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a</p> <p><pre><code>python -c 'import this'\n</code></pre> \u5c31\u4f1a\u8f93\u51fa\u4e0a\u9762\u7684\u6587\u5b57\u3002</p> <p>\u5176\u6b21\uff0cPython\u7684\u9ad8\u6548\uff0c\u8fd8\u4f53\u73b0\u5728\u5b83\u65e0\u9700\u7f16\u8bd1\u5373\u53ef\u8fd0\u884c\u4e0a\u3002\u8c61c,Java\u8fd9\u6837\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u5199\u5b8c\u4e00\u5c0f\u6bb5\u7a0b\u5e8f\uff0c\u60f3\u770b\u770b\u5b83\u662f\u5982\u4f55\u8fd0\u884c\u7684\uff0c\u4f60\u5fc5\u987b\u7b49\u5f85\u5b83\u5b8c\u6210\u7f16\u8bd1 -- \u8fd9\u4e2a\u65f6\u95f4\u53ef\u80fd\u662f\u51e0\u5341\u79d2\u6216\u8005\u4ee5\u5206\u949f\u3001\u751a\u81f3\u5c0f\u65f6\u8ba1 --\u8fd9\u6bb5\u65f6\u95f4\u5bfc\u81f4\u7a0b\u5e8f\u5458\u7684\u5de5\u4f5c\u88ab\u6253\u65ad\uff0c\u6548\u7387\u4e0d\u9ad8\u3002\u4e0b\u9762\u7684\u8bbd\u523a\u6f2b\u753b\u53cd\u6620\u4e86\u8fd9\u79cd\u60c5\u51b5\uff1a</p> <p></p> <p>\u800c\u5728Python\u4e2d\uff0c\u4f60\u968f\u65f6\u53ef\u4ee5\u6253\u5f00\u5b83\u7684\u4ea4\u4e92\u5f0f\u754c\u9762(\u5373IPython)\uff0c\u8f93\u5165\u4e00\u5c0f\u6bb5\u4ee3\u7801\u5e76\u9a6c\u4e0a\u770b\u5230\u5b83\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u4e0b\u56fe\u663e\u793a\u4e86\u5982\u4f55\u5728ipython\u754c\u9762\u4e0b\u8ba1\u7b97\u6570\u5b66\u95ee\u9898:</p> <p></p> <p>\u5982\u679c\u4f60\u4e0d\u559c\u6b22\u4f7f\u7528ipython\u8fd9\u79cd\u547d\u4ee4\u884c\u5f0f\u7684\u63a5\u53e3\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5\u4e00\u4e2aJupyter notebook\u6765\u7f16\u5199\u548c\u8fd0\u884c\u4e00\u4e9bPython\u4ee3\u7801\u7247\u6bb5\u3002\u5173\u4e8eJupyter notebook\uff0c\u6211\u4eec\u8fd8\u4f1a\u5728\u4ecb\u7ecdIDE\u65f6\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u3002\u6b64\u5916\uff0c\u968f\u624b\u5199\u4e00\u4e2aUnittest,\u901a\u8fc7Unittest\u6765\u6d4b\u8bd5\u4f60\u521a\u5199\u7684\u65b9\u6cd5\u4e5f\u4f1a\u6bd4\u5176\u5b83\u8bed\u8a00\u6765\u5f97\u66f4\u5bb9\u6613\u3002\u56e0\u6b64\uff0c\u4f7f\u7528Python\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b66\u4e60\u548c\u6210\u957f\u662f\u5982\u6b64\u5bb9\u6613\uff01</p> <p>\u6700\u540e\uff0cPython\u80fd\u6210\u4e3a\u4e00\u95e8\u9ad8\u6548\u5f00\u53d1\u8bed\u8a00\uff0c\u8fd8\u5f97\u76ca\u4e8e\u5b83\u5e9e\u5927\u548c\u6d3b\u8dc3\u7684\u793e\u533a\u3002\u5728Python\u4e16\u754c\u91cc\uff0c\u4f60\u5f88\u5bb9\u6613\u53d1\u73b0\u4e00\u4e9b\u9020\u597d\u7684\u201c\u8f6e\u5b50\u201d\uff0c\u56e0\u6b64\u6784\u5efa\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u8c61\u642d\u79ef\u6728\u4e00\u6837\u65b9\u4fbf\u5feb\u6377\u3002\u6bd4\u5982\uff0c\u6709\u65f6\u5019\u9700\u8981\u663e\u793a\u4e00\u4e9bhtml\u7684\u6587\u6863\uff0c\u6216\u8005\u4ee5web\u7684\u65b9\u5f0f\u5c55\u73b0\u672c\u5730\u6587\u4ef6\u4ee5\u4f9b\u4e0b\u8f7d\uff1a</p> <p><pre><code>python -m http.server\n</code></pre> \u8fd9\u6837\u5c31\u542f\u52a8\u4e86\u4e00\u4e2aweb\u670d\u52a1\u5668\uff0c\u5b83\u4f1a\u5217\u51fa\u547d\u4ee4\u542f\u52a8\u65f6\u7684\u6587\u4ef6\u5939\u76ee\u5f55\uff0c\u800c\u4f60\u4e0d\u9700\u8981\u5b89\u88c5\u548c\u8bbe\u7f6e\u4efb\u4f55\u8f6f\u4ef6\uff01</p> <p>\u540d\u6ee1\u5929\u4e0b\uff0c\u8c24\u4ea6\u968f\u4e4b\u3002\u4f5c\u4e3a\u4e00\u79cd\u9002\u5408\u6240\u6709\u4eba\u4f7f\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\uff0cPython\u5728\u627f\u8f7d\u5e0c\u671b\u7684\u540c\u65f6\uff0c\u4e5f\u627f\u62c5\u4e86\u8bb8\u591a\u8d28\u7591\u3002\u8fd9\u4e9b\u8d28\u7591\u4e2d\u58f0\u91cf\u6700\u5927\u7684\uff0c\u5f53\u5c5e\u5bf9Python\u6027\u80fd\u548c\u6784\u5efa\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u80fd\u529b\u7684\u8d28\u7591\u3002</p> <p>\u8bda\u7136\uff0cPython\u4e0e\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\u76f8\u6bd4\uff0c\u5728\u8fd0\u884c\u901f\u5ea6\u4e0a\u786e\u5b9e\u8981\u843d\u540e\u4e0d\u5c11\u3002\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u8fd9\u79cd\u843d\u540e\u751a\u81f3\u662f\u6709\u610f\u4e3a\u4e4b\uff0c\u56e0\u4e3a\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u4ee5\u6765\uff0cPython\u4e4b\u7236\u5e76\u4e0d\u8ba4\u4e3a\u9700\u8981\u8fc7\u591a\u5730\u5173\u6ce8Python\u7684\u6027\u80fd\u95ee\u9898\uff0c\u5b83\u5df2\u7ecf\u8db3\u591f\u5feb\u4e86\u3002\u786e\u5b9e\uff0c\u5bf999%\u4ee5\u4e0a\u7684\u4efb\u52a1\u6765\u8bf4\uff0cPython\u7684\u6027\u80fd\u662f\u8db3\u591f\u7684\uff0c\u5feb\u5230\u8db3\u591f\u652f\u6491\u65e9\u671f\u7684Google\u548cDropbox\u8fd9\u6837\u7684\u5927\u578b\u4e92\u8054\u7f51\u5e94\u7528--\u8fd9\u662f\u5f88\u591a\u7a0b\u5e8f\u5458\u4e00\u751f\u90fd\u96be\u4ee5\u9047\u5230\u7684\u5e94\u7528\u573a\u666f\u3002\u4f46\u662f\u4eba\u4eec\u4e5f\u6709\u7406\u7531\u8981\u6c42Python\u8fd0\u884c\u5f97\u66f4\u5feb\u3002\u6bd5\u7adf\uff0c\u5982\u679cPython\u672c\u8eab\u8fd0\u884c\u8f83\u6162\uff0c\u5982\u679c\u518d\u52a0\u4e0a\u5e94\u7528\u7a0b\u5e8f\u7684\u67b6\u6784\u8bbe\u8ba1\u5f88\u7cdf\u7cd5\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd8\u662f\u53ef\u80fd\u51fa\u73b0\u6027\u80fd\u74f6\u9888\u7684 -- \u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u7cdf\u7cd5\u7684\u5e94\u7528\u7a0b\u5e8f\u67b6\u6784\u662f\u7edd\u5927\u591a\u6570\u5e94\u7528\u7684\u4ea7\u751f\u6027\u80fd\u74f6\u9888\u7684\u539f\u56e0\uff0c\u800c\u4e0d\u5e94\u8be5\u7531\u5f00\u53d1\u8bed\u8a00\u6765\u80cc\u9ed1\u9505\u3002\u6bd4\u5982\uff0c\u5f88\u591a\u4eba\u8bdf\u75c5Python\u7684GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u4f7f\u5f97Python\u4e2d\u65e0\u6cd5\u5145\u5206\u5229\u7528\u591a\u7ebf\u7a0b\u7684\u4f18\u52bf\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u591a\u7ebf\u7a0b\u5f88\u591a\u65f6\u5019\u662f\u4e2a\u574f\u4e3b\u610f\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528coroutine\u548c\u591a\u8fdb\u7a0b\u6765\u4ee3\u66ff\u5b83\uff0c\u8fd9\u6837\u5f80\u5f80\u80fd\u8fbe\u5230\u66f4\u597d\u7684\u6027\u80fd\u3002</p> <p>\u4e0d\u8fc7\uff0c\u5728\u4e0d\u8fdc\u7684\u5c06\u6765\uff0c\u6211\u4eec\u4e5f\u5c06\u4e0d\u518d\u4e3aPython\u7684\u6027\u80fd\u95ee\u9898\u62c5\u5fe7\uff1a\u57282021\u5e745\u6708\u7684Python\u5f00\u53d1\u8005\u5cf0\u4f1a\u4e0a\uff0cCuido\u5df2\u7ecf\u5ba3\u5e03\u4e86\u4e00\u4e2a\u8ba1\u5212\uff0c\u8981\u5728\u672a\u6765\u56db\u5e74\u91cc\uff0c\u5c06Python\u7684\u6027\u80fd\u63d0\u53475\u500d\u751a\u81f3\u66f4\u591a\u3002</p> <p>\u53e6\u4e00\u4e2a\u95ee\u9898\uff0c\u662f\u5173\u4e8ePython\u662f\u5426\u9002\u5408\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u3002\u5982\u679c\u8bf4\u5bf9Python\u6027\u80fd\u7684\u8d28\u7591\u8fd8\u6709\u5176\u4e8b\u5b9e\u4f9d\u636e\uff0c\u8fd9\u4e2a\u8d28\u7591\u5219\u53ea\u80fd\u53cd\u6620\u63d0\u95ee\u8005\u5bf9Python\u7684\u5f00\u53d1\u7f3a\u4e4f\u4e86\u89e3\u3002\u8fd9\u4e9b\u8d28\u7591\u5177\u4f53\u5730\u8bf4\uff0c\u4e00\u662fPython\u7684\u52a8\u6001\u7c7b\u578b\u7279\u6027\uff0c\u4f7f\u5f97\u7c7b\u578b\u63a8\u65ad\u53d8\u5f97\u56f0\u96be\uff0c\u8fd9\u5bf9\u4ee3\u7801\u7684\u9759\u6001\u68c0\u67e5\u548c\u91cd\u6784\u5341\u5206\u4e0d\u5229\uff1b\u4e8c\u662f\u7531\u4e8ePython\u4ee3\u7801\u6ca1\u6709\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u56e0\u6b64\u5c31\u7f3a\u5c11\u4e86\u7f16\u8bd1\u65f6\u68c0\u67e5\u8fd9\u4e00\u53d1\u73b0\u9519\u8bef\u7684\u673a\u5236\u3002</p> <p>\u5173\u4e8e\u7b2c\u4e00\u4e2a\u8d28\u7591\uff0cPython\u4ece3.3\u8d77\u5c31\u5f15\u5165\u4e86\u7c7b\u578b\u58f0\u660e\uff0c\u56e0\u6b64\u53ea\u8981\u4ee3\u7801\u9075\u5faa\u89c4\u8303\u6765\u7f16\u5199\uff0c\u7c7b\u578b\u63a8\u65ad\u548c\u4ee3\u7801\u91cd\u6784\u5c31\u4e0d\u662f\u95ee\u9898\u3002\u5173\u4e8e\u7b2c\u4e8c\u70b9\uff0c\u7f16\u8bd1\u65f6\u68c0\u67e5\u53ea\u662f\u589e\u5f3a\u4ee3\u7801\u8d28\u91cf\u7684\u4e00\u79cd\u65b9\u6848\uff0c\u800c\u5e76\u4e0d\u662f\u60df\u4e00\u7684\u65b9\u6848\u3002\u68c0\u9a8c\u4ee3\u7801\u8d28\u91cf\u7684\u60df\u4e00\u6807\u51c6\uff0c\u5c31\u662f\u5b83\u8fd0\u884c\u65f6\u80fd\u5426\u6ee1\u8db3\u4f60\u7684\u671f\u671b\u3002\u8fd9\u6b63\u662f\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u6240\u8981\u505a\u7684\u4e8b\u3002\u7531\u4e8ePython\u7684\u52a8\u6001\u7c7b\u578b\u7279\u5f81\uff0c\u4f7f\u5f97\u6784\u5efamock\u5bf9\u8c61\u5341\u5206\u7b80\u5355\uff0c\u56e0\u6b64\u5355\u5143\u6d4b\u8bd5\u4e5f\u53d8\u5f97\u683c\u5916\u5bb9\u6613\u3002\u8fd9\u6837\u4f1a\u9f13\u52b1\u7a0b\u5e8f\u5458\u66f4\u591a\u5730\u8fdb\u884c\u5145\u5206\u548c\u5168\u9762\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u4ece\u800c\u6781\u5927\u5730\u63d0\u9ad8\u4ee3\u7801\u8d28\u91cf\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4f5c\u8005\u770b\u6765\uff0c\u4e00\u4e9b\u4eba\u4e4b\u6240\u4ee5\u8d28\u7591Python\u80fd\u5426\u7528\u4ee5\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\uff0c\u66f4\u591a\u5730\u662f\u56e0\u4e3a\u4ed6\u4eec\u5e76\u4e0d\u4e86\u89e3\u548c\u719f\u6089Python\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u3001\u89c4\u8303\u548c\u5de5\u5177\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u9075\u5faaPython\u8f6f\u4ef6\u5f00\u53d1\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u7528\u597d\u89c4\u8303\u548c\u5de5\u5177\uff0c\u4f7f\u7528Python\u5f00\u53d1\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u76f8\u5f53\u60ca\u4eba\u5730\u7f29\u77ed\u5f00\u53d1\u65f6\u95f4\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d6\u5f97\u5546\u4e1a\u4e0a\u7684\u6210\u529f\u3002</p> <ol> <li> <p>Java 1.0\u7248\u672c\u53d1\u5e03\u4e8e1996\u5e741\u6708\u3002\u00a0\u21a9</p> </li> <li> <p>PEP\u662fPython Ehancement Proposals\u7684\u9996\u5b57\u6bcd\u7f29\u5199\u3002\u5b83\u662f\u5c06\u65b0\u7279\u6027\u5f15\u5165Python\u7684\u91cd\u8981\u65b9\u5f0f\u3002\u00a0\u21a9</p> </li> <li> <p>Tim Peters\u662fPython\u7684\u91cd\u8981\u8d21\u732e\u8005\u4e4b\u4e00\uff0c\u4e5f\u662fTimsort\u6392\u5e8f\u7b97\u6cd5\u7684\u53d1\u660e\u4eba\uff0c\u8fd9\u79cd\u7b97\u6cd5\u88ab\u5e7f\u6cdb\u4f7f\u7528\u4e8e\u5305\u62ecPython\u5728\u5185\u7684\u5404\u79cd\u8bed\u8a00\uff0c\u6bd4\u5982Chrome v8\u5f15\u64ce\u548cnodejs\u3002\u00a0\u21a9</p> </li> <li> <p>Dropbox\u5f53\u65f6\u4f7f\u7528\u7684\u662fPython 2.x\u3002\u00a0\u21a9</p> </li> <li></li> </ol>"},{"location":"chap02/","title":"\u7b2c\u4e8c\u7ae0 Python\u7684\u7f16\u7a0b\u5f00\u53d1\u73af\u5883","text":"<p>\u5c3d\u7ba1\u6761\u6761\u9053\u8def\u901a\u7f57\u9a6c\uff0c\u4f46\u6bd5\u7adf\u6709\u7684\u8def\u8d70\u5f97\u66f4\u5e73\u7a33\u66f4\u5feb\u6377\uff0c\u66f4\u4e0d\u8981\u8bf4\u6709\u7684\u4eba\u751a\u81f3\u5c31\u4f4f\u5728\u7f57\u9a6c\u3002\u6784\u5efa\u4e00\u4e2a\u597d\u7528\u7684\u5f00\u53d1\u73af\u5883\uff0c\u4f60\u7684\u5f00\u53d1\u4e4b\u8def\u5f53\u7136\u4f1a\u8d70\u5f97\u66f4\u5e73\u7a33\u5feb\u6377\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u65c5\u7a0b\u4ece\u8fd9\u91cc\u5f00\u59cb\u3002</p> <p>\u672c\u7ae0\u9996\u5148\u4ecb\u7ecdPython\u5f00\u53d1\u7684\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\uff0c\u7136\u540e\u4ecb\u7ecd\u51e0\u4e2a\u6700\u6d41\u884c\u7684\u96c6\u6210IDE\uff0c\u5e76\u5bf9\u4ed6\u4eec\u7684\u7279\u70b9\u8fdb\u884c\u4e86\u6bd4\u8f83\uff0c\u4f9b\u8bfb\u8005\u9009\u62e9\u3002</p>"},{"location":"chap02/#\u9009\u62e9\u54ea\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf","title":"\u9009\u62e9\u54ea\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff1f","text":"<p>\u770b\u4e0a\u53bb\u64cd\u4f5c\u7cfb\u7edf\u662f\u4e00\u4e2a\u4e0e\u7f16\u7a0b\u8bed\u8a00\u65e0\u5173\u7684\u8bdd\u9898\uff0c\u7279\u522b\u662f\u8c61Python\u8fd9\u6837\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5b83\u7f16\u5199\u7684\u7a0b\u5e8f\u51e0\u4e4e\u53ef\u4ee5\u8fd0\u884c\u5728\u4efb\u4f55\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u5fae\u5999\u7684\u5dee\u5f02\u6211\u4eec\u9700\u8981\u8003\u8651\u3002\u9996\u5148\uff0cPython\u66f4\u9002\u5408\u4e8e\u6570\u636e\u5206\u6790\u3001\u4eba\u5de5\u667a\u80fd\u548c\u540e\u53f0\u5f00\u53d1\uff0c\u800c\u4e0d\u662f\u7528\u4e8e\u5f00\u53d1\u684c\u9762\u548c\u79fb\u52a8\u7aef\u5e94\u7528\u3002\u8fd9\u4e9b\u5e94\u7528\uff0c\u65e0\u8bba\u662f\u5927\u6570\u636e\u5206\u6790\u548c\u4eba\u5de5\u667a\u80fd\uff0c\u8fd8\u662f\u540e\u53f0\u5f00\u53d1\uff0c\u5f80\u5f80\u90fd\u90e8\u7f72\u5728Linux\u670d\u52a1\u5668\u73af\u5883\u4e0b\u3002\u6b64\u5916\uff0c\u8fd9\u4e9b\u5e94\u7528\u6240\u4f9d\u8d56\u7684\u751f\u6001\uff0c\u4e5f\u5f80\u5f80\u6784\u5efa\u5728Linux\u4e0b\uff08\u6bd4\u5982\u5927\u6570\u636e\u5e73\u53f0\u548c\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0\uff09\u3002\u4e00\u4e9b\u91cd\u8981\u7684\u7684\u7a0b\u5e8f\u5e93\uff0c\u5c3d\u7ba1\u5f80\u5f80\u6700\u7ec8\u90fd\u4f1a\u517c\u5bb9\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f46\u7531\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u5b83\u4eec\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u7684\u65b0\u7248\u672c\u53d1\u5e03\u8ba1\u5212\u5f80\u5f80\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4e00\u4e9b\u5f00\u6e90\u7684\u7a0b\u5e8f\u548c\u7c7b\u5e93\u5f80\u5f80\u4f1a\u4f18\u5148\u8003\u8651Linux\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u4eec\u5728Linux\u4e0a\u7684\u6d4b\u8bd5\u4f3c\u4e4e\u4e5f\u66f4\u5145\u5206\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4e3e\u51fa\u5f88\u591a\u8fd9\u6837\u7684\u4f8b\u5b50\uff0c\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ee5\u5bb9\u5668\u4e3a\u4f8b\u3002\u5c3d\u7ba1\u4f60\u53ef\u4ee5\u5728Windows\u673a\u5668\u4e0a\u5b89\u88c5\u684c\u9762\u7248\u7684Docker\uff0c\u7136\u540e\u8fd0\u884c\u4e00\u4e9b\u5bb9\u5668\uff0cWindows\u4e0bDocker\u5bf9\u8d44\u6e90\u7684\u5229\u7528\u8fdc\u4e0d\u5982\u5728Linux\u4e0b\u6765\u5f97\u5145\u5206 -- \u5b83\u4eec\u662f\u5728Docker\u670d\u52a1\u542f\u52a8\u65f6\u5c31\u4ece\u7cfb\u7edf\u4e2d\u5212\u8d70\u7684\uff0c\u65e0\u8bba\u5f53\u4e0b\u662f\u5426\u6709\u5bb9\u5668\u5728\u8fd0\u884c\uff0c\u8fd9\u6b64\u8d44\u6e90\u90fd\u65e0\u6cd5\u88ab\u5176\u5b83Windows\u7a0b\u5e8f\u4f7f\u7528\u3002\u4ece\u6839\u672c\u4e0a\u8bb2\uff0c\u8fd9\u79cd\u5dee\u5f02\u662fWindows\u4e0d\u80fd\u63d0\u4f9b\u5bb9\u5668\u7ea7\u522b\u7684\u8d44\u6e90\u9694\u79bb\u9020\u6210\u7684\u3002</p> <p>\u5728\u672c\u4e66\u7684\u540e\u9762\uff0c\u6211\u4eec\u5c06\u8bb2\u5230CI/CD\uff0c\u8fd9\u4e9b\u90fd\u9700\u8981\u4f7f\u7528\u5bb9\u5668\u6280\u672f\u3002\u90a3\u65f6\uff0c\u60a8\u5c06\u6df1\u5207\u4f53\u4f1a\u5230\u4f7f\u7528Linux\u7684\u79cd\u79cd\u65b9\u4fbf\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u539f\u56e0\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528Linux\u4f5c\u4e3a\u60a8\u7684Python\u5f00\u53d1\u73af\u5883\u3002\u672c\u4e66\u4e2d\u63d0\u5230\u7684\u5de5\u5177\u548c\u793a\u4f8b\uff0c\u4e5f\u90fd\u9ed8\u8ba4\u5730\u4f7f\u7528Linux\u4f5c\u4e3a\u8fd0\u884c\u73af\u5883\u3002</p> <p>\u4f46\u662f\uff0c\u60a8\u5f88\u53ef\u80fd\u5e76\u4e0d\u4f1a\u559c\u6b22\u8fd9\u4e2a\u5efa\u8bae\uff0c\u56e0\u4e3a\u60a8\u7684\u7535\u8111\u5f88\u53ef\u80fd\u662fMacOS\u6216\u8005Windows\u3002</p> <p>\u597d\u6d88\u606f\u662f\uff0cMacOS\u548cLinux\u90fd\u662f\u6240\u8c13\u7684\"\u7c7bUnix\"\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u6781\u9ad8\u7684\u76f8\u4f3c\u5ea6\u3002\u6240\u4ee5\uff0c\u5982\u679c\u60a8\u7684\u7535\u8111\u662fMacOS\u64cd\u4f5c\u7cfb\u7edf\uff0c\u60a8\u5927\u53ef\u4e0d\u5fc5\u5b89\u88c5\u53e6\u4e00\u4e2aLinux\u3002\u5982\u679c\u60a8\u7684\u7535\u8111\u662fWindows\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4e5f\u63d0\u4f9b\u4e86\u4e09\u79cd\u65b9\u6848\uff0c\u53ef\u4ee5\u8ba9\u60a8\u7684\u673a\u5668\u4e5f\u80fd\u8fd0\u884c\u4e00\u4e2a\u865a\u62df\u7684Linux\u64cd\u4f5c\u7cfb\u7edf\u7528\u4e8e\u5f00\u53d1\u3002</p>"},{"location":"chap02/#windows\u4e0b\u7684\u865a\u62dflinux\u73af\u5883","title":"Windows\u4e0b\u7684\u865a\u62dfLinux\u73af\u5883","text":"<p>\u5728Windows\u4e0b\u6709\u4e09\u79cd\u6784\u5efaLinux\u865a\u62df\u73af\u5883\u7684\u65b9\u5f0f\u3002\u5176\u4e2d\u4e4b\u4e00\u662fWindows\u7684\u539f\u751f\u65b9\u6848\uff0c\u5373\u4f7f\u7528Windows Subsystem for Linux(\u4ee5\u4e0b\u7b80\u79f0WSL)\uff0c\u5176\u5b83\u4e24\u79cd\u65b9\u6848\u5219\u5206\u522b\u662fDocker\u548c\u865a\u62df\u673a\u65b9\u6848\u3002</p>"},{"location":"chap02/#wsl\u65b9\u6848","title":"WSL\u65b9\u6848","text":"<p>WSL\u662fWindows 10\u7684\u4e00\u4e2a\u65b0\u529f\u80fd\u3002\u901a\u8fc7WSL\uff0c\u5728Windows\u4e4b\u4e0a\uff0c\u8fd0\u884c\u4e86\u4e00\u4e2aGNU/Linux\u73af\u5883\u3002\u5728\u8fd9\u4e2a\u73af\u5883\u91cc\uff0c\u7edd\u5927\u591a\u6570Linux\u547d\u4ee4\u884c\u5de5\u5177\u548c\u5e94\u7528\u90fd\u53ef\u4ee5\u8fd0\u884c\uff0c\u800c\u4e0d\u9700\u8981\u8bbe\u7f6e\u53cc\u7cfb\u7edf\uff0c\u6216\u8005\u627f\u62c5\u865a\u62df\u673a\u5e26\u6765\u7684\u989d\u5916\u4ee3\u4ef7\u3002</p> <p>\u5f53\u524d\u6709\u4e24\u4e2a\u7248\u672c\u53ef\u7528\uff0cwsl v1\u548cwsl v2, \u6211\u4e2a\u4eba\u66f4\u63a8\u8350\u4f7f\u7528wsl v1\u3002WSL v2\u7684\u4f53\u9a8c\u66f4\u8c61\u865a\u62df\u673a\uff0c\u56e0\u6b64\u4e0ewindows\u96c6\u6210\u6027\u53cd\u800c\u66f4\u5dee\u4e00\u4e9b\u3002</p>"},{"location":"chap02/#\u5b89\u88c5wsl","title":"\u5b89\u88c5WSL","text":"<p>\u9996\u5148\u8981\u542f\u7528\u201c\u9002\u7528\u4e8eLinux\u7684Windows\u5b50\u7cfb\u7edf\u201d\u529f\u80fd\uff1a</p> <p></p> <p>\u8bbe\u7f6e\u540e\uff0c\u9700\u8981\u91cd\u542f\u4e00\u6b21\u7535\u8111\u3002\u63a5\u4e0b\u6765\u4eceWindows\u5e94\u7528\u5546\u5e97\u641c\u7d22\u5b89\u88c5\u4e00\u4e2aLinux\u53d1\u884c\u7248\uff0c\u8fd9\u91cc\u7684\u793a\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528ubuntu: </p> <p>\u73b0\u5728\uff0c\u5728\u641c\u7d22\u680f\u8f93\u5165ubuntu\uff0c\u5c31\u4f1a\u6253\u5f00ubuntu shell\u3002\u7531\u4e8e\u662f\u7b2c\u4e00\u6b21\u8fd0\u884c\uff0c\u6b64\u65f6\u4f1a\u63d0\u793a\u6211\u4eec\u8f93\u5165\u7528\u6237\u540d\u548c\u53e3\u4ee4\u3002\u8fd9\u6837WSL\u5c31\u5b89\u88c5\u6210\u529f\u4e86\u3002\u6b64\u540e\uff0c\u4e5f\u53ef\u4ee5\u4ece\u641c\u7d22\u6846\u8f93\u5165<code>wsl</code>\u6765\u542f\u52a8\u8fd9\u4e2a\u7cfb\u7edf\u3002</p>"},{"location":"chap02/#\u5b9a\u5236wsl","title":"\u5b9a\u5236WSL","text":"<p>\u4e0b\u9762\u6211\u4eec\u5bf9WSL 1.0\u8fdb\u884c\u4e00\u4e9b\u5b9a\u5236\uff0c\u4f7f\u4e4b\u66f4\u8c61\u4e00\u53f0\u5e38\u9a7b\u8fd0\u884c\u7684Linux\u865a\u62df\u673a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u8fd9\u4e2aWSL\u865a\u62df\u673a\u968fwindows\u81ea\u52a8\u542f\u52a8\u3002\u5f53WSL\u542f\u52a8\u540e\uff0c\u5b83\u80fd\u81ea\u52a8\u8fd0\u884c\u4e00\u4e2assh\u670d\u52a1\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u968f\u65f6\u8fde\u63a5\u4f7f\u7528\u8fd9\u53f0WSL\u865a\u62df\u673a\u3002\u6ce8\u610fWSL 1.0\u865a\u62df\u673a\u8ddf\u771f\u6b63\u7684\u865a\u62df\u673a\u6709\u7ec6\u5fae\u7684\u5dee\u522b\uff0c\u4e3b\u8981\u5c31\u662f\u5b83\u6ca1\u6709\u81ea\u5df1\u7684init.d\u7cfb\u7edf\uff0c\u56e0\u6b64\u6ca1\u6cd5\u8fd0\u884c\u7cfb\u7edf\u670d\u52a1\uff08\u5373\u5f00\u673a\u81ea\u52a8\u8fd0\u884c\u7684\u540e\u53f0\u7a0b\u5e8f\uff09\u3002\u4f46\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u7b80\u5355\u7684\u5b9a\u5236\u6765\u5b9e\u73b0\u8fd9\u4e00\u573a\u666f\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5199\u4e09\u4e2a\u811a\u672c\uff0c\u4e00\u4e2astart.vbs\uff0c\u4e00\u4e2acontrol.bat\u548c\u4e00\u4e2acommands.txt\uff0c\u5e76\u4e14\u589e\u52a0\u4e00\u4e2a\u5f00\u673a\u81ea\u52a8\u6267\u884c\u7684\u8ba1\u5212\u4efb\u52a1\u3002\u5f53Windows\u5f00\u673a\u540e\uff0c\u8fd9\u4e2a\u8ba1\u5212\u4efb\u52a1\u81ea\u52a8\u6267\u884c\uff0c\u8c03\u7528start.vbs\u6765\u6267\u884ccontrol.bat, \u800ccontrol.bat\u5219\u4f1a\u542f\u52a8WSL\uff08\u53ca\u5176\u4f9d\u8d56\u7684Windows\u670d\u52a1\uff09,\u5e76\u5728WSL\u73af\u5883\u4e0b\u6267\u884c\u5b9a\u4e49\u5728commands.txt\u4e2d\u7684\u90a3\u4e9b\u547d\u4ee4--\u5373\u8981\u5728WSL\u4e2d\u8fd0\u884c\u7684\u670d\u52a1\uff0c\u6bd4\u5982ssh server\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5728commands.txt\u6587\u4ef6\u5b9a\u4e49\u8981\u5728WSL\u4e2d\u8fd0\u884c\u7684\u540e\u53f0\u670d\u52a1\uff1a <pre><code>/etc/init.d/cron\n/etc/init.d/ssh\n</code></pre> \u7136\u540e\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u6279\u5904\u7406\u811a\u672c\uff08\u5373control.bat)\uff0c\u7528\u4ee5\u542f\u52a8WSL,\u5e76\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\uff1a <pre><code>REM \u811a\u672c\u6765\u6e90\u4e8ehttps://github.com/troytse/wsl-autostart/\n@echo off\nREM Goto the detect section.\ngoto lxssDetect\n\n:lxssRestart\n    REM ReStart the LxssManager service\n    net stop LxssManager\n\n:lxssStart\n    REM Start the LxssManager service\n    net start LxssManager\n\n:lxssDetect\n    REM Detect the LxssManager service status\n    for /f \"skip=3 tokens=4\" %%i in ('sc query LxssManager') do set \"state=%%i\" &amp;goto lxssStatus\n\n:lxssStatus\n    REM If the LxssManager service is stopped, start it.\n    if /i \"%state%\"==\"STOPPED\" (goto lxssStart)\n    REM If the LxssManager service is starting, wait for it to finish start.\n    if /i \"%state%\"==\"STARTING\" (goto lxssDetect)\n    REM If the LxssManager service is running, start the linux service.\n    if /i \"%state%\"==\"RUNNING\" (goto next)\n    REM If the LxssManager service is stopping, nothing to do.\n    if /i \"%state%\"==\"STOPPING\" (goto end)\n\n:next\n    REM Check the LxssManager service is started correctly.\n    wsl echo OK &gt;nul 2&gt;nul\n    if not %errorlevel% == 0 (goto lxssRestart)\n\n    REM Start services in the WSL\n    REM Define the service commands in commands.txt.\n    for /f %%i in (%~dp0commands.txt) do (wsl sudo %%i %*)\n\n:end\n</code></pre> \u7136\u540e\u6211\u4eec\u7f16\u5199\u4e00\u4e2astart.vbs\u811a\u672c\uff0c\u6765\u6267\u884ccontrol.bat\uff1a <pre><code>' \u811a\u672c\u6765\u6e90\u4e8e https://github.com/troytse/wsl-autostart/\n' Start services\nSet UAC = CreateObject(\"Shell.Application\")\ncommand = \"/c \"\"\" + CreateObject(\"Scripting.FileSystemObject\").GetParentFolderName(WScript.ScriptFullName) + \"\\control.bat\"\" start\"\nUAC.ShellExecute \"C:\\Windows\\System32\\cmd.exe\", command, \"\", \"runas\", 0\nSet UAC = Nothing\n</code></pre></p> <p>\u6700\u540e\uff0c\u6211\u4eec\u5411\u8ba1\u5212\u4efb\u52a1\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5f00\u673a\u542f\u52a8\u4efb\u52a1\uff1a</p> <p></p> <p></p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u901a\u8fc7Windows\u5e94\u7528\u5546\u5e97\u5b89\u88c5\u7684ubuntu\u5b50\u7cfb\u7edf\uff0c\u5b83\u5e94\u8be5\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86ssh-server\uff0c\u6211\u4eec\u4e0a\u8ff0\u64cd\u4f5c\u4e2d\u6240\u505a\u7684\u4e8b\uff0c\u53ea\u4e0d\u8fc7\u662f\u8ba9\u5b83\u968fWSL\u4e00\u8d77\u542f\u52a8\u800c\u5df2\u3002\u4f46\u662f\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u60a8\u7684WSL\u4e2d\u5e76\u6ca1\u6709\u5b89\u88c5ssh-server\uff0c\u60a8\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5\u3002\u6bd5\u7adf\uff0c\u8fd9\u5c31\u662f\u4e00\u53f0Linux\u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u5728\u4e0a\u9762\u5b89\u88c5\u51e0\u4e4e\u6240\u6709\u7684\u53ef\u4ee5\u8fd0\u884c\u5728\u6807\u51c6Linux\u4e0a\u7684\u4efb\u4f55\u8f6f\u4ef6\u3002</p> <p>\u901a\u8fc7\u5e94\u7528\u4e0a\u8ff0\u65b9\u6848\uff0c\u60a8\u5c31\u5728Windows\u542f\u52a8\u4e4b\u540e\uff0c\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u62e5\u6709\u4e86\u540c\u65f6\u8fd0\u884c\u7684\u4e24\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3002\u5173\u952e\u5728\u4e8e\uff0c\u5982\u679c\u60a8\u5f53\u524d\u5e76\u4e0d\u4f7f\u7528WSL\u7684\u8bdd\uff0c\u5b83\u53ea\u5360\u7528\u5f88\u5c11\u7684CPU\u548c\u5185\u5b58\u8d44\u6e90\uff08\u4ec5\u9650WSL 1.0\uff09\u3002\u8fd9\u662f\u5176\u5b83\u865a\u62df\u5316\u65b9\u6848\u6240\u65e0\u6cd5\u6bd4\u62df\u7684\u3002</p> <p>\u5728\u672c\u4e66\u5199\u4f5c\u65f6\uff0cWSL\u5df2\u7ecf\u6709\u4e86\u652f\u6301\u56fe\u5f62\u5316\u754c\u9762\u7684\u9884\u89c8\u7248\uff0c\u79f0\u4e4b\u4e3awslg\u3002\u672a\u6765\u8fd9\u4e2a\u7248\u672c\u5c06\u5408\u5e76\u5230WSL\u4e2d\uff0c\u968fWindows\u4e00\u8d77\u53d1\u884c\u7684\u6b63\u5f0f\u7248\u53d1\u884c\u3002\u4e0b\u56fe\u662fwslg\u56fe\u5f62\u5316\u754c\u9762\u7684\u4e00\u4e2a\u6548\u679c\u56fe\uff1a</p> <p></p>"},{"location":"chap02/#docker\u65b9\u6848","title":"Docker\u65b9\u6848","text":"<p>WSL\u7684\u51fa\u73b0\u8981\u6bd4Docker\u665a\u3002\u56e0\u6b64\uff0c\u53ef\u80fd\u60a8\u7684Windows\u4e0d\u652f\u6301\u5b89\u88c5WSL\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5\u684c\u9762\u7248\u7684Docker,\u7136\u540e\u901a\u8fc7Docker\u6765\u8fd0\u884c\u4e00\u4e2aLinux\u865a\u62df\u673a\u3002</p> <p>\u5b89\u88c5Docker\u53ef\u4ee5\u4ece\u5176\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9996\u6b21\u8fd0\u884c\u624b\u52a8\u542f\u52a8\u3002\u53ef\u4ee5\u4ece\u641c\u7d22\u6846\u4e2d\u641c\u7d22\"Docker\"\uff0c\u7136\u540e\u9009\u62e9\"Docker Desktop\"\u6765\u542f\u52a8\uff0c\u89c1\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5f53Docker\u542f\u52a8\u540e\uff0c\u5c31\u4f1a\u5728\u7cfb\u7edf\u6258\u76d8\u533a\u663e\u793a\u4e00\u4e2a\u901a\u77e5\u56fe\u6807\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u7b2c\u4e09\u4e2a\uff0c\u9cb8\u9c7c\u56fe\u6807\uff0c\u5373\u662fDocker\u6b63\u5728\u8fd0\u884c\u7684\u6807\u5fd7\u3002\u70b9\u51fb\u5b83\u53ef\u4ee5\u8fdb\u5165\u7ba1\u7406\u754c\u9762\u3002\u9996\u6b21\u8fd0\u884c\u65f6\u9700\u8981\u505a\u4e00\u4e9b\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p> <p>\u5728Windows\u4e0a\u8fd0\u884cDocker\uff0c\u7531\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u5f02\u6784\u7684\u539f\u56e0\uff0c\u9996\u5148\u9700\u8981\u542f\u7528Hyper-V\u865a\u62df\u673a\uff0c\u7136\u540e\u5c06Docker\u5b89\u88c5\u5230\u8fd9\u4e2a\u865a\u62df\u673a\u4e2d\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728Windows\u4e0b\u5b89\u88c5\u8fd0\u884cDocker\uff0c\u65e0\u8bba\u5f53\u524d\u662f\u5426\u6709\u5bb9\u5668\u5728\u8fd0\u884c\uff0c\u7cfb\u7edf\u8d44\u6e90\u4e5f\u88ab\u9759\u6001\u5206\u914d\u5207\u5272\u7684\u539f\u56e0\u3002\u4f46\u662f\u5927\u6982\u4ece2020\u5e743\u6708\u8d77\uff0cDocker\u5f00\u59cb\u652f\u6301\u8fd0\u884c\u57fa\u4e8eWSL2\u7684\u684c\u9762\u7248\u3002\u57fa\u4e8eWSL2\u7684\u684c\u9762\u7248Docker\uff0cDocker\u540e\u53f0\u670d\u52a1\u542f\u52a8\u66f4\u5feb\uff0c\u8d44\u6e90\u4e5f\u4ec5\u5728\u9700\u8981\u65f6\u624d\u8fdb\u884c\u5206\u914d\uff0c\u56e0\u6b64\u5728\u8d44\u6e90\u8c03\u5ea6\u4e0a\u66f4\u52a0\u7075\u6d3b\u9ad8\u6548\u3002</p>"},{"location":"chap02/#\u865a\u62df\u673a\u65b9\u6848","title":"\u865a\u62df\u673a\u65b9\u6848","text":"<p>\u4e5f\u6709\u53ef\u80fd\u60a8\u7684\u673a\u5668\u65e2\u4e0d\u652f\u6301\u5b89\u88c5WSL\uff0c\u4e5f\u4e0d\u652f\u6301\u5b89\u88c5Docker\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5VirtualBox\u7b49\u865a\u62df\u673a\u6765\u8fd0\u884cLinux\u3002</p>"},{"location":"chap02/#\u5c0f\u7ed3","title":"\u5c0f\u7ed3","text":"<p>\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e09\u79cd\u5728Windows\u4e0a\u6784\u5efaLinux\u865a\u62df\u73af\u5883\u7684\u65b9\u6848\u3002\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u60a8\u9996\u5148\u5e94\u8be5\u5b89\u88c5\u7684\u662fWSL\u3002WSL\u53ef\u4ee5\u5728\u8fd0\u884c\u5728\u51e0\u4e4e\u6240\u6709\u7684Windows\u53d1\u884c\u7248\u4e0a\uff0c\u5305\u62ecWin10 Home\u3002</p> <p>\u5982\u679c\u60a8\u7684\u673a\u5668\u4e0d\u652f\u6301\u5b89\u88c5WSL\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u5b89\u88c5Docker\u3002\u5373\u4f7f\u60a8\u7684\u673a\u5668\u652f\u6301WSL\uff0c\u51fa\u4e8e\u7ec3\u4e60CI/CD\u7684\u8003\u8651\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5Docker\uff0c\u4ee5\u4fbf\u4f53\u9a8c\u5bb9\u5668\u5316\u6784\u5efa\u548c\u90e8\u7f72\u3002\u5f53\u7136\uff0c\u8fd9\u9700\u8981\u60a8\u7684\u673a\u5668\u6709\u66f4\u5f3a\u52b2\u7684CPU\u548c\u5185\u5b58\u3002</p> <p>\u5bf9\u4e8e\u8f83\u65e9\u7684\u673a\u578b\uff0c\u65e0\u6cd5\u5347\u7ea7\u5230\u8f83\u65b0\u7248\u672c\u7684Windows\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u865a\u62df\u673a\uff0c\u6bd4\u5982\u514d\u8d39\u7248\u7684VirtualBox\u3002</p>"},{"location":"chap02/#\u96c6\u6210\u5f00\u53d1\u73af\u5883ide","title":"\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09","text":"<p>\u4f5c\u4e3a\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0cPython\u53ef\u4ee5\u65e0\u987b\u7f16\u8bd1\u5373\u53ef\u8fd0\u884c\uff0c\u56e0\u6b64\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u6587\u672c\u7f16\u8f91\u5668\u90fd\u53ef\u4ee5\u4f5c\u4e3aPython\u5f00\u53d1\u5de5\u5177\u3002\u7136\u800c\uff0c\u8981\u8fdb\u884c\u771f\u6b63\u4e25\u8083\u7684\u5f00\u53d1\uff0c\u8981\u5728\u5f00\u53d1\u8fdb\u5ea6\u3001\u5f00\u53d1\u8d28\u91cf\u4e4b\u95f4\u53d6\u5f97\u6700\u4f73\u5e73\u8861\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u66f4\u4e13\u4e1a\u7684\u5de5\u5177\u3002</p> <p>\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\u662f\u4e00\u79cd\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u7684\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u5728\u7f16\u5199\u4ee3\u7801\u65f6\uff0c\u5f97\u5230\u5404\u79cd\u4ee3\u7801\u63d0\u793a\uff0c\u66f4\u65e9\u53d1\u73b0\u8bed\u6cd5\u9519\u8bef\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u5728\u7f16\u8f91\u5668\u4e2d\u8fdb\u884c\u8c03\u8bd5\uff0c\u800c\u4e0d\u9700\u8981\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c\u8c03\u8bd5\u547d\u4ee4\u3002</p> <p>Pycharm\u548cVscode\u662f\u8fdb\u884cPython\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u7684\u4e24\u4e2a\u9996\u9009\u5de5\u5177\u3002\u5bf9\u4e8e\u4ece\u4e8b\u6570\u636e\u5206\u6790\u548c\u4eba\u5de5\u667a\u80fd\u9886\u57df\u7684\u5f00\u53d1\u8005\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651Jupyter Notebook\u548cAnaconda\u7684Spyder\u3002</p>"},{"location":"chap02/#vscode-vs-pycharm\u4f7f\u7528\u54ea\u4e00\u4e2aide","title":"VSCode vs Pycharm:\u4f7f\u7528\u54ea\u4e00\u4e2aIDE\uff1f","text":"<p>Pycharm\u662f\u8001\u724c\u7684Python\u5f00\u53d1IDE\uff0cVisual Studio Code(\u4ee5\u4e0b\u7b80\u79f0VSCode)\u5219\u662f\u8fd1\u4e24\u5e74\u7684\u540e\u8d77\u4e4b\u79c0\u3002VSCode\u5b8c\u5168\u514d\u8d39\uff0cPycharm\u5219\u63d0\u4f9b\u4e86\u793e\u533a\u7248\u548c\u4e13\u4e1a\u7248\u4e24\u4e2a\u7248\u672c\uff0c\u4e13\u4e1a\u7248\u672c\u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u4f46\u9700\u8981\u4ed8\u8d39\u3002\u4e0b\u8868\u7b80\u8981\u8bf4\u660e\u4e86\u4e24\u4e2aIDE\u7684\u6700\u91cd\u8981\u7684\u5dee\u5f02\uff1a</p> \u7279\u6027 Pycharm VSCode \u8bf4\u660e \u8fdc\u7a0b\u5f00\u53d1 \u4ec5\u4e13\u4e1a\u7248\u652f\u6301 \u652f\u6301 Pycharm\u6587\u4ef6\u7f16\u8f91\u5728\u672c\u5730\uff0c\u8c03\u8bd5\u524d\u5c06\u6587\u4ef6\u540c\u6b65\u5230\u8fdc\u7a0b\u673a\u5668\u4e0a\u8fdb\u884c\u8c03\u8bd5\uff1bVSCode\u901a\u8fc7\u6587\u4ef6\u5171\u4eab\u534f\u8bae\uff0c\u76f4\u63a5\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7f16\u8f91\u548c\u8c03\u8bd5 \u4ee3\u7801\u51b2\u7a81\u5f52\u5e76 \u652f\u6301\u4e09\u8def\u5f52\u5e76 \u4e0d\u652f\u6301,\u76ee\u524d\u4e5f\u6ca1\u6709\u63d2\u4ef6\u652f\u6301 \u6570\u636e\u89c6\u56fe \u652f\u6301 \u4e0d\u652f\u6301 PyCharm\u4e2d\u53ef\u4ee5\u56fe\u5f62\u5316\u754c\u9762\u67e5\u770b\u6570\u636e\u5e93\u548c\u6765\u81eaDataFrame\u7684\u6570\u636e\uff1bVSCode\u9700\u8981\u63d2\u4ef6\u652f\u6301\uff0c\u4f46\u529f\u80fd\u8f83\u5f31\u3002\u4e00\u822c\u901a\u8fc7\u7b2c\u4e09\u65b9\u6570\u636e\u5e93\u5de5\u5177\u67e5\u884c\u6570\u636e\u67e5\u770b\u548c\u7ba1\u7406 \u542f\u52a8\u901f\u5ea6 \u6162 \u5f88\u5feb VSCode\u542f\u52a8\u901f\u5ea6\u5341\u5206\u4f18\u5f02\uff0c\u8fd9\u4e5f\u4f7f\u5f97\u5b83\u9664\u4e86\u7528\u4f5c\u5f00\u53d1\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u4f5c\u6587\u6863\u64b0\u5199\u3001\u65e5\u8bb0\u7b49\u9700\u8981\u5feb\u901f\u6253\u5f00\u7684\u529f\u80fd\u3002 \u591a\u5f00\u53d1\u8bed\u8a00\u652f\u6301 Python\u4e3a\u4e3b \u652f\u6301\u591a\u79cd\u5f00\u53d1\u8bed\u8a00 VSCode\u53ef\u4ee5\u652f\u6301\u5f88\u591a\u79cd\u8bed\u8a00\u7684\u5f00\u53d1\uff0c\u56e0\u6b64\u7279\u522b\u9002\u5408\u4e13\u4e1a\u5f00\u53d1\u8005 <p>\u8fd8\u6709\u4e00\u4e9b\u5c0f\u7684\u5dee\u5f02\uff0c\u6bd4\u5982VSCode\u5f88\u591a\u529f\u80fd\u662f\u901a\u8fc7\u63d2\u4ef6\u5b9e\u73b0\u7684\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u90fd\u6709\u81ea\u5df1\u7684\u65e5\u5fd7\u8f93\u51fa\u7a97\u53e3\u3002\u5728\u4f60\u4f7f\u7528VSCode\u65f6\uff0c\u5f53\u67d0\u4e2a\u529f\u80fd\u51fa\u9519\u65f6\uff0c\u6709\u53ef\u80fd\u53ea\u662f\u67d0\u4e2a\u63d2\u4ef6\u7684\u9519\u8bef\u3002\u8fd9\u4e2a\u9519\u8bef\u53ef\u80fd\u53ea\u4f1a\u9759\u6084\u6084\u5730\u5728\u63d2\u4ef6\u7684\u65e5\u5fd7\u7a97\u53e3\u4e2d\u8f93\u51fa\uff0c\u800c\u4e0d\u662f\u8f93\u51fa\u5728\u4f60\u719f\u6089\u7684\u90a3\u4e9b\u754c\u9762\u7a97\u53e3\u4e2d\u3002\u8fd9\u53ef\u80fd\u4f1a\u8ba9\u521d\u5b66\u8005\u611f\u5230\u56f0\u60d1\u3002\u800c\u5728Pycharm\u4e2d\uff0c\u8fd9\u4e9b\u7a97\u53e3\u3001\u63d0\u793a\u754c\u9762\u7684\u5b89\u6392\u4f3c\u4e4e\u66f4\u5bb9\u6613\u7406\u89e3\u3002</p> <p>\u603b\u4e4b\uff0cPycharm\u662f\u4e00\u4e2a\u5f00\u7bb1\u5373\u7528\u7684IDE\uff0c\u800cVSCode\u5b89\u88c5\u4e4b\u540e\uff0c\u5728\u6b63\u5f0f\u5f00\u53d1\u4e4b\u524d\uff0c\u8fd8\u5f97\u5b89\u88c5\u4e00\u7cfb\u5217\u63d2\u4ef6\uff0c\u8fd9\u53ef\u80fd\u8981\u82b1\u8d39\u4f60\u4e00\u5b9a\u7684\u65f6\u95f4\u53bb\u9009\u62e9\u6bd4\u8f83\u3001\u914d\u7f6e\u548c\u5b66\u4e60\u3002\u5f53\u7136\uff0c\u5982\u679c\u4f60\u6253\u7b97\u957f\u671f\u4ece\u4e8b\u5f00\u53d1\u5de5\u4f5c\uff0c\u90a3\u4e48\u5728VSCode\u4e0a\u6295\u5165\u4e00\u4e9b\u65f6\u95f4\u5219\u662f\u503c\u5f97\u7684\u3002VSCode\u662f\u4e00\u4e2a\u514d\u8d39\u4ea7\u54c1\uff0c\u5b83\u7684\u8bb8\u53ef\u8bc1\u5141\u8bb8\u60a8\u4f7f\u7528VSCode\u6765\u8fdb\u884c\u4efb\u4f55\u5546\u4e1a\u5f00\u53d1\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u60a8\u662f\u4e2a\u4eba\u5f00\u53d1\u8005\uff0c\u8fd8\u662f\u53d7\u96c7\u4e8e\u67d0\u4e2a\u7ec4\u7ec7\uff0c\u60a8\u90fd\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002</p> <p>\u7531\u4e8e\u8fd9\u6837\u7684\u539f\u56e0\uff0c\u4e5f\u7531\u4e8ePycharm\u7b80\u5355\u6613\u4e0a\u624b\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u7565\u8fc7\u5bf9Pycharm\u7684\u4f7f\u7528\u8bf4\u660e\uff0c\u91cd\u70b9\u8bb2\u8ff0\u5982\u4f55\u914d\u7f6eVSCode\u5f00\u53d1\u73af\u5883\u3002</p>"},{"location":"chap02/#vscode\u53ca\u6269\u5c55","title":"VSCode\u53ca\u6269\u5c55","text":"<p>VSCode\u662f\u4e00\u4e2a\u652f\u6301\u591a\u8bed\u8a00\u7f16\u8f91\u5f00\u53d1\u7684\u5e73\u53f0\uff0c\u5b83\u672c\u8eab\u53ea\u63d0\u4f9b\u4e86\u7f16\u8f91\u5668\u3001\u4ee3\u7801\u7ba1\u7406\uff08Git\uff09\u3001\u6269\u5c55\u7ba1\u7406\u7b49\u57fa\u7840\u529f\u80fd\u3002\u5177\u4f53\u5230\u67d0\u4e2a\u8bed\u8a00\u7684\u5f00\u53d1\uff0c\u5219\u662f\u901a\u8fc7\u52a0\u8f7d\u8be5\u8bed\u8a00\u7684\u6269\u5c55\u6765\u5b8c\u6210\u7684\u3002\u56e0\u6b64\uff0c\u5b89\u88c5VSCode\u4e4b\u540e\uff0c\u5f80\u5f80\u8fd8\u9700\u8981\u914d\u7f6e\u4e00\u7cfb\u5217\u7684\u6269\u5c55\u3002</p> <p>\u5b89\u88c5\u597dVSCode\u4e4b\u540e\uff0c\u5728\u4fa7\u8fb9\u680f\u4e0a\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u6240\u793a\u5de5\u5177\u680f\uff1a</p> <p></p> <p>\u88ab\u5706\u5f62\u6846\u6846\u4f4f\u7684\u56fe\u6807\u5bf9\u5e94\u7740\u6269\u5c55\u7ba1\u7406\u3002\u4e0a\u90e8\u7684\u77e9\u5f62\u6846\u53ef\u4ee5\u7528\u6765\u641c\u7d22\u67d0\u4e2a\u6269\u5c55\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u6269\u5c55\u5e76\u70b9\u51fb\uff0c\u5c31\u53ef\u4ee5\u5728\u53f3\u8fb9\u7684\u7a97\u53e3\u4e2d\u770b\u5230\u8be5\u6269\u5c55\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5728\u8fd9\u4e2a\u8be6\u7ec6\u4fe1\u606f\u9875\uff0c\u63d0\u4f9b\u4e86\u5b89\u88c5\u6309\u94ae\u3002</p> <p>VSCode\u6269\u5c55\u7ba1\u7406\u9664\u4e86\u641c\u7d22\u4e4b\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86\u8fc7\u6ee4\u3001\u6392\u5e8f\u7b49\u529f\u80fd\uff0c\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u3002\u5982\u679c\u8bfb\u8005\u8981\u5728\u591a\u4e2a\u5f00\u53d1\u73af\u5883\u4e0b\u4f7f\u7528VSCode\uff0c\u53ef\u80fd\u5e0c\u671b\u8fd9\u4e9b\u6269\u5c55\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u90fd\u80fd\u4f7f\u7528\uff0c\u9488\u5bf9\u8fd9\u4e2a\u9700\u6c42\uff0cVSCode\u8fd8\u63d0\u4f9b\u4e86\u6269\u5c55\u540c\u6b65\u673a\u5236\u3002\u5728\u4e0a\u56fe\u4e2d\uff0c\u5728\u6269\u5c55\u8be6\u60c5\u9875\u7684\"Uninstall\"\u6309\u952e\u53f3\u4fa7\uff0c\u6709\u4e00\u4e2a\u540c\u6b65\u56fe\u6807\uff0c\u70b9\u51fb\u540e\uff0cVSCode\u4f1a\u81ea\u52a8\u5c06\u8be5\u6269\u5c55\u540c\u6b65\u5230\u5176\u4ed6\u73af\u5883\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u4e00\u4e9b\u6700\u5e38\u7528\u3001\u6700\u91cd\u8981\u7684VSCode\u6269\u5c55\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u6269\u5c55\u6b66\u88c5VSCode\u4e4b\u540e\uff0c\u60a8\u7684\u5f00\u53d1\u6548\u7387\u5c06\u5927\u5927\u63d0\u9ad8\u3002</p>"},{"location":"chap02/#python\u6269\u5c55","title":"Python\u6269\u5c55","text":"<p>\u8981\u5728VSCode\u4e2d\u5f00\u53d1Python\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u9700\u8981\u5b89\u88c5Python\u6269\u5c55\u3002\u8be5\u6269\u5c55\u5982\u524d\u56fe\u6240\u793a\u3002</p> <p>Python\u6269\u5c55\u7531\u5fae\u8f6f\u5f00\u53d1\uff0c\u76ee\u524d\u6709\u8d85\u8fc73900\u4e07\u6b21\u4e0b\u8f7d\u3002\u5b83\u63d0\u4f9b\u4e86IntelliSense\u3001\u4ee3\u7801\u68c0\u67e5\u3001\u8c03\u8bd5\u3001\u5bfc\u822a\u3001\u683c\u5f0f\u5316\u3001\u91cd\u6784\u548c\u5355\u5143\u6d4b\u8bd5\u529f\u80fd\u3002\u6b64\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86Jupyter Notebook\u96c6\u6210\u73af\u5883\u3002</p> <p>\u968fPython\u6269\u5c55\u4e00\u8d77\u5b89\u88c5\u7684\uff0c\u8fd8\u6709Pylance, Python Test Explorer for Visual Studio Code, Jupyter\u7b49\u6269\u5c55\u3002</p> <p>Pylance\u662f\u5fae\u8f6f\u57fa\u4e8e\u81ea\u8eab\u6536\u8d2d\u7684Pyright\u9759\u6001\u68c0\u67e5\u5de5\u5177\u5f00\u53d1\u7684\u5177\u6709IntelliSense\u7684Languange Server\u3002\u5b83\u63d0\u4f9b\u8bed\u6cd5\u9ad8\u4eae\u3001\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u53c2\u6570\u5efa\u8bae\u7b49\u529f\u80fd\u3002</p> <p>\u5c3d\u7ba1Pylance\u63d0\u4f9b\u4e86\u8fd9\u4e9b\u529f\u80fd\uff0c\u4f46\u5728\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u66f4\u591a\u5730\u628aPylance\u770b\u6210\u662f\u4e00\u4e2alanguage server\uff0c\u4e0a\u8ff0\u529f\u80fd\u4e2d\u7684\u8bed\u6cd5\u68c0\u67e5\u3001\u4ee3\u7801\u63d0\u793a\u548c\u81ea\u52a8\u5b8c\u6210\u7b49\u529f\u80fd\uff0c\u8fd8\u662f\u5e94\u8be5\u901a\u8fc7\u66f4\u4e13\u4e1a\u7684\u4e13\u95e8\u6269\u5c55\uff08\u6216\u8005\u7b2c\u4e09\u65b9\u670d\u52a1\uff09\u6765\u5b8c\u6210\u3002\u5728\u8fd9\u91cc\uff0cPylance\u53ef\u4ee5\u4f5c\u4e3a\u8fd9\u4e9b\u529f\u80fd\u7684\u4e00\u4e2a\u6269\u5c55\u5e73\u53f0\u3002</p> <p>Test Explorer\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u53d1\u73b0\u548c\u641c\u96c6\u9879\u76ee\u4e2d\u5b9a\u4e49\u7684\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6784\u5efaTestSuite\uff0c\u63d0\u4f9b\u6d4b\u8bd5\u6267\u884c\u5165\u53e3\uff0c\u5e76\u5728\u6d4b\u8bd5\u5b8c\u6210\u4e4b\u540e\uff0c\u62a5\u544a\u6d4b\u8bd5\u6267\u884c\u60c5\u51b5\u3002</p> <p>Jupyter\u662f\u4e00\u4e2a\u5141\u8bb8\u4f60\u5728VSCode\u4e2d\u9605\u8bfb\u3001\u5f00\u53d1notebook\u7684\u6269\u5c55\u3002\u4e0e\u5355\u72ec\u5b89\u88c5\u7684Jupyter notebook\u76f8\u6bd4\uff0c\u5b83\u80fd\u63d0\u4f9b\u66f4\u5f3a\u5927\u7684\u4ee3\u7801\u63d0\u793a\u3001\u53d8\u91cf\u67e5\u770b\u548c\u6570\u636e\u67e5\u770b\u3002\u6b64\u5916\uff0c\u8c03\u8bd5notebook\u4e00\u76f4\u662f\u4e2a\u6bd4\u8f83\u9ebb\u70e6\u7684\u4e8b\u3002\u5728VSCode\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5c06notebook\u5bfc\u51fa\u4e3a.py\u6587\u4ef6\u7684\u65b9\u5f0f\u6765\u5bf9\u5176\u8fdb\u884c\u8c03\u8bd5\uff0c\u5f85\u8c03\u8bd5\u5b8c\u6210\uff0c\u8fd8\u53ef\u4ee5\u518d\u5c06\u6587\u4ef6\u5bfc\u56de\u4e3anotebook\u3002\u53ef\u4ee5\u8bf4\uff0c\u5728\u4e00\u7a0b\u5ea6\u4e0a\u89e3\u51b3\u4e86notebook\u7684\u8c03\u8bd5\u95ee\u9898\u3002</p> <p>\u5728Python\u6269\u5c55\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884cPython\u5f00\u53d1\u4e86\u3002\u5728\u5f00\u53d1\u4e4b\u524d\uff0c\u9700\u8981\u4e3a\u5de5\u7a0b\u9009\u62e9Python\u89e3\u91ca\u5668\u3002\u53ef\u4ee5\u4ece\u547d\u4ee4\u9762\u677f\u4e2d\u8f93\u5165Python: Select Interpreter\u6765\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u70b9\u51fb\u72b6\u6001\u680f\u4e2d\u7684\u9009\u62e9\u56fe\u6807\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"chap02/#remote---ssh","title":"Remote - SSH","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u6269\u5c55\uff0c\u662f\u5fae\u8f6f\u5b98\u65b9\u5f00\u53d1\u7684\u6269\u5c55\u4e4b\u4e00\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728VSCode\u4e2d\u76f4\u63a5\u6253\u5f00\u8fdc\u7a0b\u673a\u4e0a\u7684\u6587\u4ef6\u5939\uff0c\u7f16\u8f91\u5e76\u8c03\u8bd5\u8fd0\u884c\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fc7Pycharm\u7b49IDE\uff0c\u5c31\u4f1a\u77e5\u9053\uff0c\u5c3d\u7ba1\u8fd9\u4e9bIDE\u4e5f\u652f\u6301\u8fdc\u7a0b\u5f00\u53d1\uff0c\u4f46\u5b83\u4eec\u662f\u5728\u672c\u5730\u521b\u5efa\u6587\u4ef6\uff0c\u8c03\u8bd5\u8fd0\u884c\u524d\u5148\u8981\u4e0a\u4f20\u540c\u6b65\u5230\u8fdc\u7a0b\u673a\u5668\u4e0a\u3002\u9891\u7e41\u540c\u6b65\u4e0d\u4ec5\u964d\u4f4e\u4e86\u6548\u7387\uff0c\u800c\u4e14\u4e5f\u5e38\u5e38\u51fa\u73b0\u672a\u80fd\u540c\u6b65\uff0c\u5bfc\u81f4\u884c\u4e3a\u4e0e\u9884\u671f\u4e0d\u4e00\u81f4\uff0c\u6d6a\u8d39\u65f6\u95f4\u67e5\u627e\u95ee\u9898\u7684\u60c5\u51b5\u3002\u8fd9\u4e5f\u662f\u4e5f\u662fVSCode\u4f18\u4e8ePycharm\u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\u3002</p> <p></p> <p>\u5b89\u88c5\u597d\u8fd9\u4e2a\u6269\u5c55\u4e4b\u540e\uff0c\u5728\u4fa7\u8fb9\u680f\u4f1a\u51fa\u73b0\u4e00\u4e2a\u8fdc\u7a0b\u8fde\u63a5\u56fe\u6807\u3002\u540c\u65f6\uff0c\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u8fde\u63a5\u5230\u8fdc\u7a0b\u673a\u5668\uff0c\u5219\u5728\u72b6\u6001\u680f\u6700\u5de6\u4fa7\uff0c\u4f1a\u51fa\u73b0\u8be5\u8fde\u63a5\u7684\u6982\u8981\u4fe1\u606f\u3002</p>"},{"location":"chap02/#\u7248\u672c\u7ba1\u7406\u76f8\u5173\u6269\u5c55","title":"\u7248\u672c\u7ba1\u7406\u76f8\u5173\u6269\u5c55","text":"<p>VSCode\u53ea\u63d0\u4f9b\u4e86\u7b80\u5355\u7684Git\u96c6\u6210\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u8fd8\u9700\u8981\u66f4\u591a\u7684\u529f\u80fd\u3002\u8fd9\u4e9b\u529f\u80fd\u5305\u62ec\uff1a 1. \u4ee3\u7801\u5206\u652f\u7ba1\u7406\u3001\u63d0\u4ea4\u5386\u53f2\u67e5\u770b 2. \u4ee3\u7801\u63d0\u4ea4\u65f6\uff0c\u9075\u7167\u6307\u5b9a\u7684\u683c\u5f0f\u89c4\u8303\uff0c\u4ee5\u56fe\u5f62\u5316\u7684\u65b9\u5f0f\u7f16\u8f91commit message 3. gitignore\u6587\u4ef6\u7684\u7ba1\u7406 4. local history\u7684\u7ba1\u7406</p> <p>\u4e3a\u5b9e\u73b0\u4e0a\u8ff0\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u5b89\u88c5\u4e09\u4e2a\u76f8\u5173\u6269\u5c55\u3002\u9996\u5148\u662fGitLens\u3002</p>"},{"location":"chap02/#gitlens","title":"GitLens","text":"<p>Gitlens\u7684\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u662f\u56e2\u961f\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u4e00\u4e2a\u6269\u5c55\u3002\u5b83\u7684\u529f\u80fd\u5305\u62ec\uff1a 1. \u5728\u6587\u4ef6\u4fee\u6539\u5386\u53f2\u4e2d\u5feb\u901f\u5bfc\u822a 2. \u5728\u4ee3\u7801\u884c\u4e2d\u63d0\u793ablame\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a  3. gutter change\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a  gutter change\u662f\u6307\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u7f16\u8f91\u533a\u884c\u53f7\u6307\u793a\u53f3\u4fa7\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u6761\u6765\u6307\u793a\u5f53\u524d\u533a\u57df\u5b58\u5728\u53d8\u66f4\uff0c\u5f53\u4f60\u70b9\u51fb\u8fd9\u4e2a\u7ebf\u6761\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u663e\u793a\u5f53\u524d\u533a\u57df\u7684\u53d8\u66f4\u5386\u53f2\uff0c\u5e76\u4e14\u5141\u8bb8\u4f60\u56de\u6eda\u53d8\u66f4\u3001\u6216\u8005\u63d0\u4ea4\u53d8\u66f4\u3002</p> <p>\u5982\u679c\u4f60\u5728\u7f16\u8f91\u6587\u4ef6\u4e4b\u524d\u6ca1\u6709\u505a\u597d\u89c4\u5212\uff0c\u5f15\u5165\u4e86\u672c\u5e94\u8be5\u96b6\u5c5e\u4e8e\u591a\u4e2a\u63d0\u4ea4\u7684\u4fee\u6539\uff0cgutter change\u662f\u6700\u597d\u7684\u8865\u6551\u65b9\u6848\u3002\u5b83\u5141\u8bb8\u4f60\u9010\u5757\u3001\u800c\u4e0d\u662f\u6309\u6587\u4ef6\u63d0\u4ea4\u4fee\u6539\u3002\u56e0\u6b64\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6587\u4ef6\u91cc\u7684\u4e0d\u540c\u5757\u5206\u51e0\u6b21\u8fdb\u884c\u63d0\u4ea4\u3002 4. GitLens\u5728\u4fa7\u8fb9\u680f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5de5\u5177\u6761\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a  \u901a\u8fc7\u8fd9\u4e9b\u5de5\u5177\u6761\uff0c\u4f60\u4e0d\u518d\u9700\u8981\u8bb0\u5fc6\u5927\u91cf\u7684git\u547d\u4ee4\uff0c\u5e76\u4e14\u8fd9\u4e9b\u547d\u4ee4\u7684\u7ed3\u679c\u4e5f\u4ee5\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u5c55\u793a\uff0c\u66f4\u52a0\u9ad8\u6548\u3002\u5728\u8fd9\u4e9b\u5de5\u5177\u680f\u91cc\uff0c\u63d0\u4f9b\u4e86\u63d0\u4ea4\u89c6\u56fe\u3001\u4ed3\u5e93\u89c6\u56fe\u3001\u5206\u652f\u89c6\u56fe\u3001\u6587\u4ef6\u5386\u53f2\u89c6\u56fe\u3001\u6807\u7b7e\u89c6\u56fe\u7b49\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0cGitLens\u5c06\u51e0\u4e4e\u6240\u6709\u7684Git\u529f\u80fd\u8fdb\u884c\u4e86\u56fe\u5f62\u5316\u5c55\u793a\u548c\u91cd\u6784\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e30\u5bcc\u7684\u64cd\u4f5c\u754c\u9762\uff0c\u8ba9\u4f60\u53ef\u4ee5\u66f4\u52a0\u65b9\u4fbf\u5730\u64cd\u4f5cGit\u548c\u7406\u89e3\u4ee3\u7801\u53d8\u66f4\u3002</p>"},{"location":"chap02/#\u7f16\u8f91\u63d0\u4ea4\u4fe1\u606f\u7684\u6269\u5c55","title":"\u7f16\u8f91\u63d0\u4ea4\u4fe1\u606f\u7684\u6269\u5c55","text":"<p>\u5e38\u7528PyCharm\u7684\u7a0b\u5e8f\u5458\u4e0d\u4f1a\u4e0d\u8bb0\u5f97\u5b83\u7684git commit\u5bf9\u8bdd\u6846\u3002\u9057\u61be\u7684\u662f\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\uff0cVsCode\u53ca\u5176\u6269\u5c55\u90fd\u6ca1\u80fd\u8865\u5145\u8fd9\u4e00\u77ed\u677f\u3002\u4e0d\u8fc7\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u5c0f\u4f17\u4f46\u597d\u7528\u7684\u6269\u5c55\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u56fe\u5f62\u5316\u754c\u9762\u4e0b\u7684commit\u6d88\u606f\u7f16\u8f91\uff0c\u8fd8\u80fd\u5e2e\u52a9\u6211\u4eec\u89c4\u8303\u5316\u5730\u7ba1\u7406commit message\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u63a8\u8350\u4e00\u4e2a\u540d\u4e3agit-commit-plugin\u7684\u6269\u5c55\uff1a </p> <p>\u8fd9\u4e2a\u6269\u5c55\u4f1a\u5c06commit message\u8fdb\u884c\u5206\u7c7b\uff0c\u5e76\u4e14\u7ed9\u6bcf\u4e2a\u7c7b\u522b\u52a0\u4e0aemoji\u56fe\u6807\uff0c\u4ee5\u4fbf\u6211\u4eec\u66f4\u5feb\u6377\u5730\u8bc6\u522b\u70e6\u522b\uff1a </p> <p>\u7ed9\u4ee3\u7801\u6b63\u786e\u5730\u5206\u7c7b\u662f\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u4efb\u52a1\u3002\u5982\u679c\u6211\u4eec\u7ed9\u6bcf\u4e00\u6b21\u4ee3\u7801\u8fdb\u884c\u4e86\u6b63\u786e\u5730\u5206\u7c7b\uff0c\u90a3\u4e48\u5728\u53d1\u884c\u65b0\u7684\u7248\u672c\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u5386\u53f2\u63d0\u4ea4\u4fe1\u606f\uff0c\u81ea\u52a8\u751f\u6210release notes\u3002\u8fd9\u6837\u751f\u6210\u7684release notes\u4e5f\u8bb8\u8fd8\u9700\u8981\u7a0d\u5fae\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4f46\u7edd\u5bf9\u53ef\u4ee5\u907f\u514d\u9057\u6f0f\u91cd\u8981\u7684\u4fee\u6539\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u4e0d\u662f\u6240\u6709\u7684\u63d0\u4ea4\u4fe1\u606f\u90fd\u5e94\u8be5\u51fa\u73b0\u5728release notes\u4e2d\uff0c\u7279\u522b\u662f\u8c61\u4ee3\u7801\u98ce\u683c\u3001\u6587\u6863\u4fee\u8ba2\u3001\u589e\u52a0\u6d4b\u8bd5\u7528\u4f8b\u3001\u4ee5\u53ca\u6784\u5efa\u76f8\u5173\u7684\u4ee3\u7801\u63d0\u4ea4\uff0c\u5f80\u5f80\u90fd\u4e0d\u662f\u6700\u7ec8\u7528\u6237\u5173\u5fc3\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u5e94\u8be5\u5728release notes\u4e2d\u653e\u5165\u8fd9\u4e9b\u5185\u5bb9\u3002\u7531\u4e8e\u6211\u4eec\u5bf9\u6bcf\u4e00\u6b21\u4ee3\u7801\u63d0\u4ea4\u90fd\u8fdb\u884c\u4e86\u6b63\u786e\u7684\u5206\u7c7b\uff0c\u6240\u4ee5\uff0c\u81ea\u52a8\u751f\u6210release notes\u7684\u5de5\u5177\u5c31\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u6307\u5b9a\u7684\u7c7b\u522b\uff0c\u53ea\u63d0\u53d6\u6709\u6548\u7684\u4fe1\u606f\u5230release notes\u4e2d\u3002</p> <p>\u5728\u540e\u9762\uff0c\u6211\u4eec\u8fd8\u4f1a\u63d0\u53ca\u81ea\u52a8\u5316\u5730\u751f\u6210release notes\u7684\u5de5\u5177\u3002\u6211\u4eec\u901a\u8fc7\u5de5\u5177\u6765\u4fdd\u8bc1commit message\u7684\u683c\u5f0f\u89c4\u8303\u6027\uff0c\u800crelease notes\u4e5f\u662f\u901a\u8fc7\u5de5\u5177\u6765\u63d0\u53d6\u548c\u5206\u6790\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6574\u4e2a\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u5c31\u8c61\u6d41\u6c34\u7ebf\u4e00\u6837\u7cbe\u786e\u5de5\u4f5c\u3002\u8fd9\u6b63\u662f\u672c\u4e66\u7684\u4e3b\u65e8\u6240\u5728\uff1a\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u4e0d\u662f\u4e00\u4e9b\u62bd\u8c61\u7684\u7406\u5ff5\uff0c\u800c\u662f\u4e00\u4e9b\u901a\u8fc7\u4e00\u7cfb\u5217\u5de5\u5177\u6765\u5f97\u4ee5\u5f3a\u5236\u6267\u884c\u7684\u8f6f\u4ef6\u751f\u4ea7\u6d41\u6c34\u7ebf\u3002\u4e00\u65e6\u6d41\u6c34\u7ebf\u88ab\u8c03\u6821\u597d\uff0c\u751f\u4ea7\u51fa\u6765\u7684\u4ea7\u54c1\u5c31\u80fd\u901a\u8fc76 sigma\u54c1\u8d28\u8ba4\u8bc11\u3002</p>"},{"location":"chap02/#gitigore\u6269\u5c55","title":"gitigore\u6269\u5c55","text":"<p>\u4ee3\u7801\u4ed3\u5e93\u53ea\u5e94\u8be5\u4fdd\u7559\u6709\u7528\u7684\u6587\u4ef6\u3002\u7136\u800c\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5de5\u4f5c\u533a\u6709\u65f6\u5019\u4e0d\u53ef\u907f\u514d\u5730\u4f1a\u4ea7\u751f\u4e00\u4e9b\u4e34\u65f6\u6587\u4ef6\u3001\u5783\u573e\u6587\u4ef6\u548c\u4e0d\u9002\u5408\u901a\u8fc7\u4ee3\u7801\u4ed3\u5e93\u4fdd\u7ba1\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u6bd4\u5982\u8c03\u5f0f\u65f6\u4ea7\u751f\u7684\u65e5\u5fd7\uff0c\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u7b49\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e9b\u6587\u4ef6\u88ab\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4ee3\u7801\u4ed3\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a.gitingore\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u8fd9\u4e9b\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u3002\u5982\u6b64\u4e00\u6765\uff0cgit\u5728\u63d0\u4ea4\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u6389\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>.gitignore\u6587\u4ef6\u683c\u5f0f\u975e\u5e38\u7b80\u5355\uff0c\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u3002\u56e0\u6b64\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u624b\u52a8\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u3002\u4f46\u662f\uff0c\u6709\u4e00\u4e9bgitignore\u6269\u5c55\u80fd\u63d0\u4f9b\u66f4\u591a\u7684\u529f\u80fd\uff1a 1. \u6839\u636e\u6a21\u677f\u751f\u6210.gitignore\u6587\u4ef6\u3002\u6bd5\u7adf\uff0c\u4e00\u4e2a.gitignore\u6587\u4ef6\u53ef\u80fd\u6709\u51e0\u5341\u884c\u4e4b\u591a\uff0c\u8bb0\u4f4f\u6bcf\u4e00\u884c\u7684\u5185\u5bb9\u5e76\u4e0d\u5bb9\u6613\uff0c\u4e5f\u6ca1\u6709\u5fc5\u8981\u3002 2. \u65b9\u4fbf\u60a8\u4ece\u5de5\u4f5c\u533a\u4e2d\u9009\u62e9\u6587\u4ef6\u5e76\u81ea\u52a8\u52a0\u5165\u5230.gitignore\u6587\u4ef6\u4e2d\u3002\u8fd9\u6837\u76f8\u5bf9\u4e8e\u624b\u52a8\u7f16\u8f91.gitignore\u6587\u4ef6\uff0c\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u8def\u5f84\u9519\u8bef\uff0c\u4e5f\u66f4\u52a0\u5feb\u6377\u3002</p>"},{"location":"chap02/#\u672c\u5730\u6587\u4ef6\u5386\u53f2","title":"\u672c\u5730\u6587\u4ef6\u5386\u53f2","text":"<p>\u5c3d\u7ba1git\u63d0\u4f9b\u4e86\u6587\u4ef6\u7248\u672c\u5386\u53f2\u7ba1\u7406\uff0c\u4f46\u5bf9\u672a\u63d0\u4ea4\u7684\u4fee\u6539\uff0cgit\u662f\u65e0\u6cd5\u8ffd\u8e2a\u7684\u3002\u4f46\u5728\u4ee3\u7801\u63d0\u4ea4\u4e4b\u524d\uff0c\u6211\u4eec\u4e5f\u53ef\u80fd\u5bf9\u540c\u4e00\u6587\u4ef6\u8fdb\u884c\u591a\u6b21\u4fee\u6539\uff0c\u5e76\u5728\u67d0\u4e2a\u65f6\u5019\uff0c\u5e0c\u671b\u80fd\u67e5\u770b\u548c\u53c2\u8003\u8fd9\u4e9b\u53d8\u52a8\u60c5\u51b5\u3002\u8fd9\u5c31\u9700\u8981\u6709\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\u5386\u53f2\u7ba1\u7406\u7cfb\u7edf\u3002 Pycharm\u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u5e38\u597d\u7528\u7684\u672c\u5730\u6587\u4ef6\u5386\u53f2\u7684\u529f\u80fd\u3002\u5728Vscode\u4e2d\uff0c\u5fc5\u987b\u901a\u8fc7\u6269\u5c55\u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff1a</p> <p> \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u6269\u5c55\u4f1a\u5728\u5de5\u4f5c\u533a\u751f\u6210\u4e00\u4e2a\u540d\u4e3a.history\u7684\u6587\u4ef6\u5939\uff0c\u4ee5\u5b58\u653e\u672c\u5730\u6587\u4ef6\u5386\u53f2\u3002\u8fd9\u4e2a\u6587\u4ef6\u5939\u5fc5\u987b\u88ab\u52a0\u5165\u5230.gitignore\u6587\u4ef6\u4e2d\uff0c\u5426\u5219\uff0c\u60a8\u5f88\u53ef\u80fd\u4f1a\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\u3002\u8fd9\u53ef\u662f\u4e00\u5927\u5806\u5783\u573e\u6587\u4ef6\uff01</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86\u8fd9\u4e2a\u6269\u5c55\u5bf9\u4ee3\u7801\u53d8\u52a8\u7684\u8ddf\u8e2a\u60c5\u51b5\uff1a</p> <p></p>"},{"location":"chap02/#\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210","title":"\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210","text":"<p>\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210\u662f\u6211\u4eec\u4f7f\u7528IDE\uff0c\u800c\u4e0d\u662f\u6587\u672c\u7f16\u8f91\u5668\u6765\u7f16\u5199\u4ee3\u7801\u7684\u6700\u91cd\u8981\u539f\u56e0\u3002\u6839\u636ekite\u7684\u7edf\u8ba1\uff0c\u4f7f\u7528kite\u6765\u8fdb\u884c\u8f85\u52a9\u7f16\u7a0b\uff0c\u53ef\u4ee5\u7701\u53bb\u6700\u591a47%\u7684\u4ee3\u7801\u952e\u5165\uff0c\u4ece\u800c\u4f7f\u5f97\u4ee3\u7801\u7f16\u5199\u66f4\u52a0\u8f7b\u677e\u548c\u66f4\u4e3a\u5feb\u901f\u3002</p> <p>\u5f53\u7136\uff0c\u60a8\u53ef\u80fd\u5e76\u4e0d\u540c\u610f\u952e\u5165\u901f\u5ea6\u4f1a\u5de6\u53f3\u7f16\u7a0b\u6548\u7387\u8fd9\u4e00\u89c2\u70b9\uff0c\u6bd5\u7adf\uff0c\u5728\u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u5927\u91cf\u7684\u65f6\u95f4\u90fd\u662f\u5728\u601d\u8003\u7b97\u6cd5\u548c\u529f\u80fd\u5982\u4f55\u5b9e\u73b0\u3001\u56de\u5fc6\u67d0\u4e2a\u5e93\u51fd\u6570\u5e94\u8be5\u5982\u4f55\u8c03\u7528\u3001\u4ee5\u53ca\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u53d8\u91cf\u3001\u5e38\u91cf\u540d\u7b49\u3002\u4ee4\u4eba\u5403\u60ca\u7684\u662f\uff0c\u968f\u7740\u4eba\u5de5\u667a\u80fd\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u73b0\u5728\u76f8\u5f53\u90e8\u5206\u7684\u8fd9\u7c7b\u5de5\u4f5c\uff0c\u90fd\u53ef\u4ee5\u7531\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210\u5de5\u5177\u6765\u5b8c\u6210\u4e86\u3002</p> <p>\u5c31\u8c61\u6211\u4eec\u53ef\u4ee5\u628a\u81ea\u52a8\u9a7e\u9a76\u6309\u81ea\u52a8\u5316\u7a0b\u5ea6\u5b9a\u4e49\u4e3a5\u4e2a\u7ea7\u522b\u4e00\u6837\uff0c\u4ee3\u7801\u8f85\u52a9\u4e5f\u53ef\u4ee5\u5206\u4e3a\u597d\u591a\u4e2a\u7ea7\u522b\u3002</p> <p>\u6700\u521d\u7ea7\u7684\u7ea7\u522b\uff0c\u53ef\u80fd\u662f\u666e\u901a\u6587\u672c\u7f16\u8f91\u5668\u6240\u505a\u5230\u7684\u90a3\u6837\uff0c\u5728\u5355\u8bcd\u7ea7\u522b\u4e0a\u7684\u63d0\u793a\u3002\u53ea\u8981\u4f60\u66fe\u7ecf\u8f93\u5165\u8fc7\u4e00\u4e2a\u5355\u8bcd\u6216\u8005\u4e00\u4e2a\u53e5\u5b50\uff0c\u90a3\u4e48\u4e0b\u6b21\u5f53\u4f60\u8f93\u5165\u8fd9\u4e2a\u5355\u8bcd\u6216\u8005\u53e5\u5b50\u7684\u524d\u9762\u90e8\u5206\uff0cIDE\u5c31\u4f1a\u81ea\u52a8\u63d0\u793a\u8fd9\u4e2a\u5355\u8bcd\u6216\u8005\u53e5\u5b50\u3002\u5982\u679c\u4f60\u5e38\u7528Excel\uff0c\u4f60\u5c31\u5f88\u5bb9\u6613\u660e\u767d\u8fd9\u662f\u4e00\u79cd\u4ec0\u4e48\u6837\u7684\u8f85\u52a9\u3002\u4f46\u8fd9\u79cd\u63d0\u793a\u8fdc\u8fdc\u4e0d\u591f\u7cbe\u786e\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u5b83\u4e0d\u80fd\u63d0\u4f9b\u6211\u4eec\u771f\u6b63\u60f3\u8981\u7684\u8f93\u5165\u3002</p> <p>\u5bf9\u4e8e\u7a0b\u5e8f\u5f00\u53d1\u6765\u8bf4\uff0c\u7531\u4e8e\u6709\u7a0b\u5e8f\u8bed\u6cd5\u89c4\u5219\u53ef\u4ee5\u501f\u52a9\uff0c\u56e0\u6b64\u8fd9\u79cd\u63d0\u793a\u53ef\u4ee5\u505a\u5f97\u66f4\u7cbe\u786e\u4e00\u4e9b\u3002\u6bd4\u5982\uff0c\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\uff0c\u90a3\u4e48\u4e0b\u6b21\u5982\u679c\u4f60\u8f93\u5165\u4e86\u4e00\u4e2a\u7c7b\uff08\u6216\u8005\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u53d8\u91cf\uff09\u7684\u540d\u5b57\uff0c\u5e76\u4e14\u952e\u5165\u4e00\u4e2a\u63d0\u793a\u7b26\uff08\u53ef\u80fd\u662f\".\",\u6216\u8005\"-&gt;\",\u4f9d\u8d56\u4e8e\u7a0b\u5e8f\u8bed\u8a00\uff09\uff0c\u90a3\u4e48IDE\u5c31\u53ef\u4ee5\u63d0\u793a\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u6216\u8005\u5c5e\u6027\uff0c\u4f9b\u6211\u4eec\u9009\u53d6\u3002\u6b64\u5916\uff0c\u5982\u679c\u5bfc\u5165\u4e86\u67d0\u4e2a\u540d\u5b57\u7a7a\u95f4\uff0cIDE\u4e5f\u53ef\u4ee5\u57fa\u4e8e\u540c\u6837\u7684\u903b\u8f91\uff0c\u6765\u63d0\u793a\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u7b49\u3002\u8fd9\u4e9b\u90fd\u662f\u4e25\u683c\u4f9d\u8d56\u4e8e\u8bed\u6cd5\u7684\uff0c\u6240\u4ee5\uff0c\u5bf9\u9759\u6001\u8bed\u8a00\uff0cIDE\u7684\u4ee3\u7801\u63d0\u793a\u53ef\u4ee5\u505a\u5f97\u5f88\u68d2\u3002\u5bf9\u4e8ePython\u8fd9\u6837\u7684\u52a8\u6001\u8bed\u8a00\uff0c\u5728\u6ca1\u6709\u4f7f\u7528\u7c7b\u578b\u6807\u6ce8\u65f6\uff0c\u8981\u51c6\u786e\u63d0\u793a\u6210\u5458\u53d8\u91cf\u8fd8\u662f\u6709\u4e00\u5b9a\u56f0\u96be\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u6709\u4e86\u4eba\u5de5\u667a\u80fd\u7684\u52a0\u6301\uff0c\u4ee3\u7801\u8f85\u52a9\u5df2\u8fdb\u5316\u5230\u4e86\u4ee4\u4eba\u60ca\u53f9\u7684\u7a0b\u5ea6\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u672c\u4e66\u5c31\u662f\u5728Github Copilot\u7684\u5e2e\u52a9\u4e0b\u5b8c\u6210\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u4e0b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <p></p> <p>Copilot\u6839\u636e\u524d\u9762\u7684\u8f93\u5165\uff0c\u81ea\u52a8\u751f\u6210\u4e86\u4e00\u4e2a\u8bed\u6cd5\u901a\u987a\u7684\u53e5\u5b50\uff08\u8fd9\u4e2a\u53e5\u5b50\u5728\u4e0a\u56fe\u4e2d\u663e\u793a\u4e3a\u7070\u8272\uff09\uff0c\u5e76\u4e14\u4e0e\u4e0a\u4e0b\u6587\u76f8\u5f53\u534f\u8c03\u3002\u8fd9\u91cc\u6211\u5e76\u4e0d\u60f3\u4f7f\u7528\u5b83\u63d0\u793a\u7684\u7528\u8bcd\uff0c\u4f46\u662f\uff0c\u5fc5\u987b\u627f\u8ba4\uff0c\u6211\u4eec\u7684\u6587\u7ae0\u5e76\u4e0d\u662f\u6bcf\u4e00\u53e5\u90fd\u9700\u8981\u7cbe\u96d5\u7ec6\u7422\uff0c\u6709\u65f6\u5019\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528copilot\u63d0\u793a\u7684\u5b57\u53e5\u6765\u8fdb\u884c\u8fc7\u6e21\u3002\u66f4\u591a\u7684\u65f6\u5019\uff0c\u5728\u5199\u6587\u7ae0\u65f6\uff0cCopilot\u53ef\u4ee5\u8d77\u5230\u5f00\u62d3\u601d\u8def\u7684\u4f5c\u7528\uff0c\u8fd9\u65e0\u7591\u662f\u6709\u91cd\u8981\u4f5c\u7528\u7684\u3002</p> <p>\u4e0a\u9762\u53ea\u662f\u4eba\u5de5\u667a\u80fd\u5728\u666e\u901a\u6587\u672c\u8f85\u52a9\u5199\u4f5c\u4e0a\u7684\u4e00\u4f8b\u3002\u5f53\u6211\u4eec\u628a\u9886\u57df\u9650\u5236\u5728\u7f16\u7a0b\u9886\u57df\u65f6\uff0c\u5176\u7ed3\u679c\u5c31\u66f4\u52a0\u4ee4\u4eba\u53f9\u670d\u3002\u5f88\u591a\u65f6\u5019\uff0c\u53ea\u8981\u4f60\u5199\u4e0b\u4e00\u884c\u6ce8\u91ca\uff0cCopilot\u5c31\u4f1a\u80fd\u5e2e\u4f60\u5b8c\u6210\u4ee3\u7801\uff0c\u5b9e\u73b0\u8fd9\u884c\u6ce8\u91ca\u7684\u529f\u80fd\u3002\u7279\u522b\u662f\u5f53\u6211\u4eec\u8981\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5df2\u7ecf\u5728\u67d0\u4e2a\u5e93\u51fd\u6570\u4e2d\u5b9e\u73b0\u4e86\uff0c\u6216\u8005\u5b58\u5728\u67d0\u4e2a\u8457\u540d\u7684\u7b97\u6cd5\u65f6\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u529f\u80fd\u975e\u5e38\u597d\u7528\u3002</p> <p>//todo: \u589e\u52a0\u4e00\u4e2aCopilot\u7684\u4f8b\u5b50</p> <p>\u622a\u6b62\u76ee\u524d\uff0cCopilot\uff0cKite\u548cTabnine\u662f\u4e09\u4e2a\u503c\u5f97\u63a8\u8350\u7684\u4ee3\u7801\u8f85\u52a9\u6269\u5c55\u3002Copilot\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e66\u5199\u6574\u6bb5\u6574\u6bb5\u7684\u4ee3\u7801\uff0c\u5b83\u4f3c\u4e4e\u6ca1\u6709\u57fa\u4e8e\u8bed\u6cd5\u7ed3\u6784\u7684\u63d0\u793a\uff1bKite\u66f4\u4f20\u7edf\u4e00\u4e9b\uff0c\u57fa\u4e8e\u8bed\u6cd5\u89c4\u5219\u7684\u63d0\u793a\u65b9\u9762\u505a\u5f97\u5f88\u4e0d\u9519\uff0c\u6b64\u5916\uff0c\u5b83\u8fd8\u6709\u5f88\u65b9\u4fbf\u7684\u6587\u6863\u652f\u6301\u3002Tabnine\u5f3a\u8c03\u81ea\u5df1\u5f3a\u5927\u7684\u4eba\u5de5\u667a\u80fd\u80fd\u529b\uff0c\u4e0d\u8fc7\u53ef\u80fd\u7531\u4e8e\u6211\u53ea\u8bd5\u7528\u4e86\u8bd5\u7528\u7248\u7684\u539f\u56e0\uff0c\u611f\u89c9\u5b83\u7684\u4ee3\u7801\u63d0\u793a\u80fd\u529b\u4f3c\u4e4e\u4e0d\u5982Copilot\u90a3\u4e48\u5f3a\u3002\u6240\u4ee5\uff0c\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0c\u6211\u4e3b\u8981\u4f7f\u7528Kite+Copilot\u3002</p> <p>\u5173\u4e8eVsCode\u7684\u6269\u5c55\u8fd8\u5f88\u591a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u7684\u5de5\u7a0b\u4e2d\u53ef\u80fd\u4f7f\u7528\u4e86json, ymal\u7b49\u6587\u4ef6\uff0c\u6216\u8005\u4f7f\u7528\u4e86markdown/rst\u6765\u7f16\u5199\u6587\u6863\u3002\u5728\u7f16\u8f91\u8fd9\u4e9b\u6587\u4ef6\u65f6\uff0c\u8fd8\u6709\u4e00\u4e9b\u5f88\u597d\u7684\u5de5\u5177\u6765\u8fdb\u884c\u8f85\u52a9\u548c\u529f\u80fd\u589e\u5f3a\u3002\u6bd4\u5982Markdown\u5bf9\u8868\u683c\u7684\u652f\u6301\u6bd4\u8f83\u5dee\uff0c\u624b\u52a8\u7f16\u8f91Markdown\u8868\u683c\u662f\u6bd4\u8f83\u7e41\u7410\u7684\u4e8b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u6269\u5c55\uff0c\u901a\u8fc7\u5b83\u4eec\u6765\u7f16\u8f91csv\u683c\u5f0f\u7684\u8868\u683c\u5185\u5bb9\uff0c\u518d\u8f6c\u6362\u6210\u4e3aMarkdown\u8868\u683c\u3002</p> <p>\u9650\u4e8e\u7bc7\u5e45\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u4e00\u4e00\u4ecb\u7ecd\u8fd9\u4e9b\u6269\u5c55\u3002\u9664\u4e86\u90a3\u4e9b\u4e0b\u8f7d\u91cf\u6781\u5927\u7684\u6d41\u884c\u6269\u5c55\uff0c\u672c\u7ae0\u4e5f\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u6bd4\u8f83\u5c0f\u4f17\u7684\u6269\u5c55\u3002\u8fd9\u4e9b\u5c0f\u4f17\u6269\u5c55\u5728\u672a\u6765\u53ef\u80fd\u4f1a\u6d88\u5931\uff08\u6bd4\u5982VsCode\u76f4\u63a5\u5b9e\u73b0\u4e86\u5176\u529f\u80fd\uff09\uff0c\u6216\u8005\u88ab\u53d6\u4ee3\u3002\u91cd\u8981\u7684\u662f\uff0c\u6211\u4eec\u9700\u8981\u7684\u662f\u8fd9\u4e9b\u6269\u5c55\u5b9e\u73b0\u7684\u529f\u80fd\u3002\u4ecb\u7ecd\u8fd9\u4e9b\u6269\u5c55\uff0c\u53ea\u662f\u4e3a\u4e86\u66f4\u597d\u5730\u5e2e\u52a9\u8bfb\u8005\u7406\u89e3\u5b83\u4eec\u7684\u529f\u80fd\u3002</p>"},{"location":"chap02/#\u5176\u4ed6\u5f00\u53d1\u73af\u5883","title":"\u5176\u4ed6\u5f00\u53d1\u73af\u5883","text":""},{"location":"chap02/#jupyter-notebook","title":"Jupyter Notebook","text":"<p>Pycharm\u548cVsCode\u90fd\u662f\u5927\u578b\u5f00\u53d1\u5de5\u5177\uff0c\u9002\u5408\u6211\u4eec\u5f00\u53d1\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u5728Python\u9886\u57df\u4e2d\uff0c\u6709\u4e00\u7c7b\u95ee\u9898\u66f4\u9002\u5408\u63a2\u7d22\u5f0f\u7f16\u7a0b\uff0c\u6bd4\u5982\u6570\u636e\u5206\u6790\u4efb\u52a1\u3002\u6211\u4eec\u62ff\u5230\u4e00\u4e9b\u6570\u636e\uff0c\u901a\u8fc7\u7edf\u8ba1\u65b9\u6cd5\u67e5\u770b\u5b83\u4eec\u7684\u7279\u6027\uff0c\u8fdb\u884c\u4e00\u4e9b\u53ef\u89c6\u5316\u7684\u5206\u6790\u3002\u7136\u540e\u5bf9\u6570\u636e\u8fdb\u884c\u4e00\u9884\u5904\u7406\uff0c\u8fdb\u800c\u7f16\u5199\u4e00\u4e9b\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u7406\u60f3\uff0c\u5219\u63a8\u5012\u91cd\u6765\uff0c\u63a2\u7d22\u65b0\u7684\u7b97\u6cd5\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u88ab\u79f0\u4e3a\u63a2\u7d22\u5f0f\u7f16\u7a0b\u3002\u5f00\u521b\u65b0\u7684\u3001\u63a2\u7d22\u5f0f\u7684\u5de5\u4f5c\u91cd\u4e8e\u9075\u5faa\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4ee3\u7801\u4e2d\u5939\u6742\u7740\u5927\u91cf\u7684\u89e3\u91ca\u6027\u6587\u6863\u548c\u8f93\u51fa\u7ed3\u679c\uff08\u5305\u542b\u56fe\u8868\u548c\u56fe\u50cf\uff09\uff0c\u5b83\u4eec\u90fd\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u7684\u4e00\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u8c61\u4f20\u7edf\u7684\u7f16\u7a0b\u4e00\u6837\uff0c\u4ee3\u7801\u3001\u6587\u6863\u548c\u8f93\u51fa\u7ed3\u679c\u662f\u5206\u79bb\u7684\u3002</p> <p>Jupyter Notebook\u662f\u63a2\u7d22\u5f0f\u7f16\u7a0b\u7684\u5229\u5668\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u4e8e\u7f51\u9875\u7684\u7f16\u8f91\u5668\u548c\u8fd0\u884c\u73af\u5883\uff0c\u7528\u6237\u8f93\u5165\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u4e2a\u5355\u5143\u683c\uff0c\u6bcf\u4e2a\u5355\u5143\u683c\u53ef\u4ee5\u662f\u4ee3\u7801\u5355\u5143\uff0c\u4e5f\u53ef\u4ee5\u662f\u6587\u672c\u5355\u5143\uff1b\u4ee3\u7801\u5355\u5143\u8fd8\u5141\u8bb8\u6709\u8f93\u51fa\u7ed3\u679c\uff0c\u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u56fe\u8868\u6216\u56fe\u50cf\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684notebook\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5728\u6b64notebook\u4e2d\u7684\u4ee3\u7801\u5355\u5143\u683c\u91cc\u5b9a\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570\u90fd\u5177\u6709\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u6bcf\u4e2a\u4ee3\u7801\u5355\u5143\u683c\u90fd\u53ef\u4ee5\u5355\u72ec\u6267\u884c\u3002\u8fd9\u79cd\u6a21\u5f0f\u6709\u5b83\u6781\u5176\u65b9\u4fbf\u7684\u4e00\u9762\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u968f\u5730\u5728notebook\u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u5355\u5143\u683c\u4e2d\u8fdb\u884c\u5207\u6362--\u65e0\u8bba\u662f\u63a2\u7d22\u6570\u636e\u7684\u7279\u6027\uff0c\u8fd8\u662f\u63a2\u7d22\u4e00\u4e2a\u65b0\u7684\u7a0b\u5e8f\u5e93\u7684\u529f\u80fd\uff0c\u90fd\u53d8\u5f97\u975e\u5e38\u5bb9\u6613\u3002</p>"},{"location":"chap02/#spyder","title":"Spyder","text":"<p>Spyder\u662f\u4e13\u95e8\u4e3a\u79d1\u5b66\u5bb6\u3001\u6570\u636e\u5206\u6790\u5e08\u3001\u5de5\u7a0b\u5e08\u6253\u9020\u7684\u4e00\u6b3e\u5f00\u6e90\u7684\u7f16\u7a0b\u73af\u5883\u3002\u5b83\u5177\u6709\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7684\u9ad8\u7ea7\u7f16\u8f91\u3001\u5206\u6790\u3001\u8c03\u8bd5\u548cprofiling\u529f\u80fd\u4e0e\u79d1\u5b66\u5e93\u7684\u6570\u636e\u63a2\u7d22\u3001\u4ea4\u4e92\u5f0f\u6267\u884c\u3001\u6df1\u5ea6\u68c0\u67e5\u548c\u7cbe\u7f8e\u53ef\u89c6\u5316\u529f\u80fd\u7684\u72ec\u7279\u7ec4\u5408\u3002 \u6211\u4eec\u5f88\u5bb9\u6613\u4ece\u5b83\u7684\u754c\u9762\u4e0a\u770b\u51fa\u8fd9\u4e00\u70b9\uff1a </p> <p>Spyder\u5305\u542b\u5728Anaconda\u53d1\u884c\u7248\u4e4b\u5185\uff0c\u6240\u4ee5\u4e00\u65e6\u5b89\u88c5\u4e86Anaconda\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528Spyder\u6765\u7f16\u5199Python\u4ee3\u7801\u3002\u5728\u5b83\u7684\u5b98\u7f51\u4e0a\u4e5f\u63d0\u4f9b\u4e86\u5355\u72ec\u7684\u5b89\u88c5\u5305\u4f9b\u4e0b\u8f7d\u3002</p> <p>\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u4e86\u4e09\u79cd\u7c7b\u578b\u7684Python\u5f00\u53d1\u73af\u5883\uff1a\u9002\u7528\u4e8e\u5927\u578b\u5de5\u7a0b\u5316\u5f00\u53d1\u7684Pycharm/VsCode, \u9002\u7528\u4e8e\u63a2\u7d22\u5f0f\u7f16\u7a0b\u7684Jupyter Notebook\uff0c\u8fd8\u6709\u878d\u5408\u4e86\u4e24\u8005\u7279\u70b9\u7684Spyder\u3002\u5f53\u7136\uff0c\u5728Pycharm/VsCode\u4e2d\uff0c\u6211\u4eec\u4e5f\u4e00\u6837\u53ef\u4ee5\u6253\u5f00\u548c\u8fd0\u884cJupyter Notebook\uff0c\u8fd9\u9879\u529f\u80fd\u96c6\u6210\u5230\u8fd9\u4e24\u79cdIDE\u4e2d\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002</p> <p>\u5982\u679c\u6211\u4eec\u7ecf\u5e38\u6027\u7684\u5f00\u53d1\u5de5\u4f5c\u662f\u6784\u5efa\u9ad8\u590d\u7528\u7684\u7ec4\u4ef6\u5e93\u3001\u6216\u8005\u590d\u6742\u7684\u5e94\u7528\u7a0b\u5e8f\uff0cPycharm/VsCode\u662f\u7edd\u5bf9\u7684\u4e0d\u4e8c\u4e4b\u9009\u3002\u8fd9\u4e24\u79cd\u5de5\u5177\u90fd\u5f88\u597d\u5730\u4e0e\u751f\u6001\u94fe\u4e0a\u8d1f\u8d23\u6d4b\u8bd5\u3001\u6301\u7eed\u96c6\u6210\u4ee5\u53ca\u4ee3\u7801\u7ba1\u7406\u3001\u6587\u6863\u6784\u5efa\u7684\u5de5\u5177\u96c6\u6210\u5728\u4e00\u8d77\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f60\u7684\u5de5\u4f5c\u66f4\u591a\u7684\u662f\u63a2\u7d22\u6027\u7684\uff0c\u4f3c\u4e4e\u53ea\u4f7f\u7528Jupyter Notebook\u5c31\u591f\u4e86\u3002\u800cSpyder\u5219\u4e3a\u4e24\u65b9\u9762\u9700\u6c42\u90fd\u8981\u517c\u987e\u7684\u7528\u6237\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u9009\u62e9\u3002</p> <ol> <li> <p>\u5728\u7edf\u8ba1\u5b66\u4e2d\uff0c6 sigma\u610f\u5473\u7740\u7f6e\u4fe1\u5ea6\u662f99.99966%\uff0c\u5728\u8d28\u91cf\u68c0\u9a8c\u573a\u666f\u4e0b\uff0c\u8868\u660e\u4ea7\u54c1\u8fbe\u5230\u4e86\u5f88\u9ad8\u7684\u8d28\u91cf\u6807\u51c6\u3002\u4ece1970\u5e74\u4ee3\u5f00\u59cb\uff0c\u6469\u6258\u7f57\u62c9\u53d1\u73b0\u4e86\u63d0\u9ad8\u8d28\u91cf\u4e0e\u964d\u4f4e\u751f\u4ea7\u6210\u672c\u4e4b\u95f4\u7684\u6b63\u76f8\u5173\u5173\u7cfb\uff0c\u4e8e\u662f\u53d1\u5c55\u51fa\u4e00\u6574\u5957\u6539\u5584\u5de5\u4e1a\u6d41\u7a0b\u3001\u6d88\u9664\u6b8b\u75b5\u7684\u65b9\u6cd5\u30021986\u5e74\uff0c\u6469\u6258\u7f57\u62c9\u6b63\u5f0f\u5c06\u5176\u547d\u540d\u4e3a6-sigma\u3002\u5b83\u5f3a\u8c03\u6301\u7eed\u6539\u8fdb\uff0c\u7a33\u5b9a\u548c\u9884\u6d4b\u6027\u5730\u63d0\u9ad8\u6d41\u7a0b\u7ed3\u679c\uff1b\u751f\u4ea7\u548c\u5546\u4e1a\u6d41\u7a0b\u53ef\u4ee5\u900f\u8fc7\u6d4b\u91cf\u3001\u5206\u6790\u3001\u63d0\u9ad8\u548c\u63a7\u5236\u8fdb\u884c\u6539\u5584\u7b49\u7b49\u3002\u968f\u7740\u6469\u6258\u7f57\u62c9\u5f71\u54cd\u529b\u7684\u8870\u843d\uff0c6-sigma\u7684\u5f71\u54cd\u529b\u4e5f\u65e5\u6e10\u5f0f\u5fae\uff0c\u4f46\u5b83\u7684\u6838\u5fc3\u89c2\u70b9\u548c\u65b9\u6cd5\uff0c\u6bd4\u5982\u6301\u7eed\u6539\u8fdb\u7b49\uff0c\u4ecd\u7136\u5f97\u5230\u5e7f\u6cdb\u8ba4\u540c\u548c\u4f20\u64ad\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"chap03/","title":"\u7b2c\u4e09\u7ae0 \u6784\u5efaPython\u865a\u62df\u73af\u5883","text":"<p>\u5728\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u8ba8\u8bba\u4e86\u6784\u5efa\u5f00\u53d1\u73af\u5883\u7684\u57fa\u672c\u6b65\u9aa4\uff0c\u5982\u9009\u62e9\u64cd\u4f5c\u7cfb\u7edf\u3001\u9009\u62e9\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7b49\u3002\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u7740\u624b\u7f16\u5199\u4ee3\u7801\u4e86\uff0c\u4f46\u8981\u80fd\u8fd0\u884c\u548c\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u8fd8\u9700\u8981\u6307\u5b9aPython\u8fd0\u884c\u65f6\uff08\u6216\u8005\u79f0\u4e4b\u4e3a\u89e3\u91ca\u5668\uff09\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u5f00\u53d1\u5de5\u5177\u662fVsCode\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u662f\u5fc5\u987b\u7684\uff1a\u56e0\u4e3aVsCode\u5e76\u4e0d\u662f\u53ea\u4e3a\u5f00\u53d1Python\u5e94\u7528\u7a0b\u5e8f\u800c\u8bbe\u8ba1\u7684\uff0c\u5b83\u652f\u6301\u597d\u591a\u79cd\u5f00\u53d1\u8bed\u8a00\u3002\u56e0\u6b64\uff0c\u8981\u4f7f\u5f97VsCode\u77e5\u9053\u4f60\u7684\u5de5\u7a0b\u9879\u76ee\u662f\u57fa\u4e8ePython\u7684\uff0c\u5c31\u5fc5\u987b\u4e3a\u5b83\u6307\u5b9aPython\u8fd0\u884c\u65f6\u3002</p> <p>Python\u6709\u4e24\u4e2a\u4e3b\u8981\u7684\u8fd0\u884c\u65f6\u7248\u672c\uff0cPython 2.x\u548cPython 3.x\u3002Python 3.x\u662f\u5bf92.x\u7248\u672c\u7684\u7834\u574f\u6027\u5347\u7ea7\u3002\u5f53\u524d\uff0c\u9700\u8981\u57283.x\u7248\u672c\u4e0b\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7ec4\u4ef6\u8d8a\u6765\u8d8a\u591a\u4e86\uff0c\u7136\u800c\uff0c\u8c61MacOs\u6216\u8005Ubuntu\u8fd9\u6837\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u7684\u4e00\u4e9b\u8001\u65e7\u7248\u672c\u4ecd\u7136\u4f9d\u8d56Python 2.x\u6765\u8fd0\u884c\u4e00\u4e9b\u6838\u5fc3\u529f\u80fd\uff0c\u6bd4\u5982\u5305\u7ba1\u7406\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u4e9b\u7cfb\u7edf\u4e0a\uff0cPython 2.x\u4ecd\u7136\u662f\u7f3a\u7701\u5b89\u88c5\u7684Python\u8fd0\u884c\u65f6\u7248\u672c\u3002</p> <p>Info</p> <p>Python 2.7\u662fPython 2.x\u7cfb\u5217\u7684\u6700\u540e\u4e00\u4e2a\u7248\u672c\uff0c\u5df2\u4e8e2020\u5e741\u67081\u65e5\u7ec8\u6b62\u7ef4\u62a4\uff1bPython 3.6\u4e5f\u4e8e2021\u5e7412\u670823\u65e5\u7ec8\u6b62\u7ef4\u62a4\u3002Python 3.7\u5219\u5c06\u4e8e2023\u5e741\u670827\u65e5\u7ec8\u6b62\u7ef4\u62a4\u3002\u56e0\u6b64\uff0c\u5f53\u60a8\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u5f00\u8fd9\u4e9b\u8001\u65e7\u7684Python\u7248\u672c\u3002</p> <p>\u8fd9\u4f1a\u662f\u4f60\u5728\u5f00\u53d1Python\u5e94\u7528\u65f6\u7684\u5c06\u4f1a\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u4f60\u60f3\u8981\u5f00\u53d1\u4e00\u4e2aPython\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f7f\u7528\u4e86\u6700\u65b0\u7684Python\u7248\u672c\uff0c\u6709\u7740\u5927\u91cf\u9177\u70ab\u7684\u65b0\u7279\u5f81\u548c\u65b0\u529f\u80fd\u3002\u4f46\u5f53\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\u65f6\uff0c\u53ef\u80fd\u88ab\u90e8\u7f72\u5230\u5404\u79cd\u5404\u6837\u7684\u673a\u5668\u4e0a\uff0c\u8fd9\u4e9b\u673a\u5668\u4e0a\u7f3a\u7701\u5b89\u88c5\u7684Python\u7248\u672c\uff0c\u5e76\u4e0d\u662f\u4f60\u5f00\u53d1\u65f6\u6307\u5b9a\u7684\u7248\u672c\u3002\u5982\u679c\u5f3a\u884c\u5347\u7ea7\u7cfb\u7edf\u7f3a\u7701\u5b89\u88c5\u7684Python\u7248\u672c\uff0c\u5219\u53ef\u80fd\u4f1a\u7834\u574f\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\uff1b\u800c\u5982\u679c\u4e0d\u8fdb\u884c\u5347\u7ea7\uff0c\u5219\u53c8\u6ca1\u529e\u6cd5\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u3002</p> <p>\u5373\u4f7f\u76ee\u6807\u673a\u5668\u548c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4e86\u540c\u6837\u7684Python\u7248\u672c\uff0c\u7c7b\u4f3c\u7684\u51b2\u7a81\u8fd8\u53ef\u80fd\u53d1\u751f\u5728\u5176\u5b83\u7ec4\u4ef6\u4e0a\u3002\u6bd4\u5982Django\u662fPython\u793e\u533a\u4e2d\u6700\u8d1f\u76db\u540d\u7684web\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u4f9d\u8d56\u4e8eSQLAlchemy\uff0cPython\u793e\u533a\u4e2d\u53e6\u4e00\u4e2a\u540c\u6837\u9887\u8d1f\u76db\u540d\u7684\u5f00\u6e90orm\u6846\u67b6\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e5f\u4f9d\u8d56\u4e8eSQLAlchemy\uff0c\u5e76\u4e14\u4f60\u4f7f\u7528\u4e86SQLAlchemy 1.4\u4ee5\u4e0a\u7684\u7248\u672c\uff0c\u800cDjango\u4f7f\u7528\u4e86\u5b83\u7684\u65e9\u671f\u7248\u672c\uff0c\u90a3\u4e48\u5f88\u4e0d\u5e78\uff0c\u8fd9\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5c06\u65e0\u6cd5\u5171\u7528\u540c\u4e00\u4e2aPython\u73af\u5883\uff1a SQLAlchemy 1.4\u76f8\u5bf9\u4e8e\u4e4b\u524d\u7684\u7248\u672c\uff0c\u662f\u5b8c\u5168\u4e0d\u517c\u5bb9\u7684\u7834\u574f\u6027\u66f4\u65b0\u3002</p> <p>\u8fd9\u7c7b\u95ee\u9898\u88ab\u79f0\u4e4b\u4e3a\u4f9d\u8d56\u5730\u72f1\u3002\u4f9d\u8d56\u5730\u72f1\u5e76\u4e0d\u662fPython\u72ec\u6709\u7684\u95ee\u9898\uff0c\u5b83\u662f\u6240\u6709\u7684\u8f6f\u4ef6\u7cfb\u7edf\u90fd\u4f1a\u9762\u4e34\u7684\u95ee\u9898\u3002</p>"},{"location":"chap03/#\u4f9d\u8d56\u5730\u72f1","title":"\u4f9d\u8d56\u5730\u72f1","text":"<p>\u5728\u6784\u5efa\u8f6f\u4ef6\u7cfb\u7edf\u65f6\uff0c\u901a\u7528\u90fd\u4f1a\u6d89\u53ca\u529f\u80fd\u590d\u7528\u7684\u95ee\u9898\u3002\u6bd5\u7adf\uff0c\u201c\u91cd\u65b0\u53d1\u660e\u8f6e\u5b50\u201d\u662f\u4e00\u79cd\u4e0d\u5fc5\u8981\u7684\u6d6a\u8d39\u3002\u529f\u80fd\u590d\u7528\u53ef\u80fd\u53d1\u751f\u5728\u6e90\u4ee3\u7801\u7ea7\u522b\u3001\u4e8c\u8fdb\u5236\u7ea7\u522b\u6216\u8005\u670d\u52a1\u7ea7\u522b\u3002\u6e90\u4ee3\u7801\u7ea7\u522b\u5c31\u662f\u5728\u6211\u4eec\u7684\u5de5\u7a0b\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528\u4ed6\u4eba\u7684\u4ee3\u7801\u6e90\u7801\uff1b\u4e8c\u8fdb\u5236\u7ea7\u522b\u662f\u6307\u5728\u6211\u4eec\u7684\u5e94\u7528\u4e2d\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff1b\u670d\u52a1\u7ea7\u522b\u7684\u590d\u7528\uff0c\u5219\u662f\u7a0b\u5e8f\u529f\u80fd\u4ee5\u670d\u52a1\u7684\u65b9\u5f0f\u72ec\u7acb\u8fd0\u884c\uff0c\u5176\u5b83\u5e94\u7528\u901a\u8fc7\u7f51\u7edc\u8bf7\u6c42\u6765\u4f7f\u7528\u8fd9\u79cd\u529f\u80fd\u3002</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528\u4e8c\u8fdb\u5236\u7ea7\u522b\u7684\u590d\u7528\u65f6\uff0c\u5c31\u5e38\u5e38\u4f1a\u9047\u5230\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u3002\u6bd4\u5982\u5728\u4e0a\u9762Django\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5411Django\u548c\u4f60\u7684\u5e94\u7528\u5206\u522b\u63d0\u4f9b\u4e0d\u540c\u7248\u672c\u7684SQLAlchemy\uff0c\u5219\u8fd9\u4e24\u4e2a\u5e94\u7528\u5c06\u65e0\u6cd5\u540c\u65f6\u8fd0\u884c\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002</p> <p>\u4f9d\u8d56\u5730\u72f1\u5e76\u4e0d\u662fPython\u72ec\u6709\u7684\u95ee\u9898\u3002\u6240\u6709\u7684\u7a0b\u5e8f\u5f00\u53d1\u8bed\u8a00\u90fd\u4f1a\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u5c31\u662f\u5c06\u7a0b\u5e8f\u7684\u8fd0\u884c\u73af\u5883\u5f7c\u6b64\u9694\u79bb\u8d77\u6765\u3002\u6bd4\u5982\uff0c\u5e94\u7528\u7a0b\u5e8f\u6240\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e0d\u662f\u5b89\u88c5\u5230\u7cfb\u7edf\u76ee\u5f55\u4e2d\uff0c\u800c\u662f\u5b89\u88c5\u5230\u5355\u72ec\u7684\u76ee\u5f55\uff0c\u6bd4\u5982\uff0c\u968f\u7740\u8be5\u5e94\u7528\u7a0b\u5e8f\u4e00\u8d77\u5b89\u88c5\u5230\u8be5\u5e94\u7528\u7a0b\u5e8f\u6240\u5360\u7684\u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\uff0c\u53ea\u4ece\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u52a0\u8f7d\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p>Python\u672c\u8eab\u4e5f\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u666e\u901a\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u5b89\u88c5\u4e00\u4e2aPython\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u5c06\u8be5\u7a0b\u5e8f\u4f9d\u8d56\u7684Python\u8fd0\u884c\u65f6\uff0c\u53ca\u76f8\u5173\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u90fd\u5b89\u88c5\u5230\u4e00\u4e2a\u72ec\u7acb\u7684\u76ee\u5f55\u4e2d\u3002\u8fd9\u6837\uff0c\u5f53\u6211\u4eec\u8fd0\u884c\u8be5\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5c31\u4ece\u8be5\u76ee\u5f55\u4e2d\u542f\u52a8Python\uff0c\u5982\u679cPython\u53ea\u4ece\uff08\u6216\u8005\u4f18\u5148\uff09\u8be5\u76ee\u5f55\u52a0\u8f7d\u7b2c\u4e09\u65b9\u5e93\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u67d0\u79cd\u7a0b\u5ea6\u7684\u9694\u79bb\u3002\u8fd9\u79cd\u601d\u60f3\uff0c\u5c31\u662f\u865a\u62df\u8fd0\u884c\u73af\u5883\u7684\u601d\u60f3\uff0c\u5b83\u662f\u89e3\u51b3Python\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u7684\u4e00\u4e2a\u4e3b\u8981\u65b9\u6cd5\u3002</p> <p>\u65e2\u7136\u6211\u4eec\u63d0\u5230\u4e86\u201c\u9694\u79bb\u201d\u4e00\u8bcd\uff0c\u6211\u4eec\u4e0d\u59a8\u518d\u7a0d\u7a0d\u5f15\u7533\u4e00\u4e0b\u3002\u5728\u7b2c\u4e8c\u7ae0\u6211\u4eec\u63d0\u5230\u4e86\u865a\u62df\u673a\u548cDocker\u5bb9\u5668\uff0c\u8fd9\u4e9b\u662f\u89e3\u51b3\u8d44\u6e90\u51b2\u7a81\uff0c\u5bf9\u8d44\u6e90\u8fdb\u884c\u9694\u79bb\u7684\u65b9\u6cd5\u3002\u73b0\u5728\uff0c\u901a\u8fc7\u5bb9\u5668\u4ee5(\u5fae)\u670d\u52a1\u7684\u65b9\u5f0f\u6765\u90e8\u7f72Python\u5e94\u7528\u7a0b\u5e8f\u4e5f\u8d8a\u6765\u8d8a\u5e38\u89c1\uff0c\u5176\u4e2d\u4e5f\u6709\u7b80\u5316\u5b89\u88c5\u73af\u5883\u3001\u907f\u514d\u4f9d\u8d56\u5730\u72f1\u7b49\u65b9\u9762\u7684\u8003\u8651\u3002</p> <p>\u5728\u8fd9\u4e00\u7ae0\u6211\u4eec\u4e3b\u8981\u8bb2\u5982\u4f55\u6784\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u6837\u53ef\u4ee5\u5b8c\u5168\u89e3\u51b3\u8fd0\u884c\u65f6\u4e0e\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u53ef\u80fd\u53d1\u751f\u7684\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u3002\u7136\u800c\uff0c\u4f9d\u8d56\u5730\u72f1\u8fd8\u6709\u5176\u5b83\u591a\u79cd\u8868\u73b0\u5f62\u5f0f\uff0c\u6211\u4eec\u540e\u9762\u8fd8\u4f1a\u5728\u8bb2\u8ff0Poetry\u90a3\u4e00\u7ae0\u518d\u63a2\u8ba8\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"chap03/#\u4f7f\u7528\u865a\u62df\u73af\u5883\u4ee5\u907f\u514d\u4f9d\u8d56\u5730\u72f1","title":"\u4f7f\u7528\u865a\u62df\u73af\u5883\u4ee5\u907f\u514d\u4f9d\u8d56\u5730\u72f1","text":"<p>Python\u7684\u865a\u62df\u73af\u5883\u65b9\u6848\u53ef\u8c13\u6e90\u8fdc\u6d41\u957f\uff0c\u79cd\u7c7b\u7e41\u591a\u3002\u5982\u679c\u4f60\u63a5\u89e6Python\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\uff0c\u90a3\u4e48\u4f60\u5f88\u53ef\u80fd\u542c\u8bf4\u8fc7annaconda, virutalenv, venv, pip, pipenv, poetry, pyenv, pyvenv, pyenv-virtualenv, virtualenvwrapper, pyenv-virtualenvwrapper\u7b49\u76f8\u4f3c\u6982\u5ff5\u3002   </p> <p>Info</p> <p>\u5728Zen of Python\u4e4b\u4e2d\u63d0\u5230\u7684\u4e00\u4e2a\u91cd\u8981\u539f\u5219\u5c31\u662f\uff1a There should be one -- and preferably only one -- obvious way to do it. \u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053</p> <p>\u4ecePython\u7684\u865a\u62df\u73af\u5883\u89e3\u51b3\u65b9\u6848\u4e4b\u591a\u6765\u770b\uff0c\u8981\u8fbe\u5230\u8fd9\u6837\u7684\u5883\u754c\u4f3c\u4e4e\u662f\u56f0\u96be\u7684\u3002\u4eba\u4eec\u8bd5\u56fe\u5efa\u9020\u5df4\u522b\u5854\uff0c\u4f46\u4e0a\u5e1d\u4f1a\u6bc1\u706d\u5b83\u3002</p> <p>\u5728\u4e0a\u9762\u8fd9\u4e9b\u4ee4\u4eba\u773c\u82b1\u7f2d\u4e71\u7684\u8bcd\u8bed\u4e2d\uff0cAnnaconda(\u4ee5\u4e0b\u7b80\u79f0conda)\u548cVirtualenv\u662f\u4e00\u5bf9\u513f\u5bf9\u624b\uff0cPipenv\u5219\u548cPoetry\u76f8\u4e92\u7ade\u4e89\u3002\u800cVenv\u5219\u662f\u5176\u4e2d\u8840\u7edf\u6700\u4e3a\u7eaf\u6b63\u7684\u4e00\u4e2a\uff0c\u5f97\u5230\u4e86Python\u5b98\u65b9\u7684\u795d\u798f\u3002</p> <p>pipenv\u548cpoetry\uff0c\u5c3d\u7ba1\u5e38\u5e38\u88ab\u4eba\u5728\u8ba8\u8bba\u865a\u62df\u73af\u5883\u7684\u573a\u5408\u4e0b\u63d0\u8d77\uff0c\u4e5f\u786e\u5b9e\u4e0e\u865a\u62df\u73af\u5883\u76f8\u5173\uff0c\u4f46\u4ed6\u4eec\u6240\u505a\u7684\u5de5\u4f5c\u90fd\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u865a\u62df\u73af\u5883\u672c\u8eab--\u5b83\u4eec\u7684\u4e3b\u8981\u529f\u80fd\u662f\u63d0\u4f9b\u4f9d\u8d56\u7ba1\u7406\uff0cpoetry\u8fd8\u63d0\u4f9b\u4e86\u6784\u5efa\u548c\u6253\u5305\u529f\u80fd\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u5728\u7b2c\u4e94\u7ae0-Poetry\u90a3\u4e00\u7ae0\u4e2d\u6765\u8be6\u7ec6\u8bb2\u8ff0\u3002</p> <p>venv\u4e0d\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5de5\u5177\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u6a21\u5757\u3002venv\u662f\u4ecePython 3.8\u8d77\uff0c\u6807\u51c6\u5e93\u63d0\u4f9b\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528python -m venv\u6765\u8fd0\u884c\u5b83\u3002\u5b83\u7684\u76ee\u6807\u4e0evirtualenv\u6bd4\u8f83\u63a5\u8fd1\uff0c\u4f46\u53ea\u63d0\u4f9b\u4e86virutalenv\u7684\u4e00\u4e2a\u547d\u4ee4\u5b50\u96c6\u3002\u7531\u4e8e\u5b83\u662f\u6807\u51c6\u5e93\u63d0\u4f9b\u7684\uff0c\u56e0\u6b64\u8bb8\u591a\u5de5\u5177\uff0c\u6bd4\u5982poetry, pyenv\u73b0\u5728\u90fd\u662f\u57fa\u4e8e\u5b83\u6765\u6784\u5efa\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u662f\u67d0\u4e2a\u5de5\u5177\u7684\u5f00\u53d1\u8005\uff0c\u6211\u60f3\u4f60\u9700\u8981\u719f\u6089\u5b83\uff1b\u5426\u5219\uff0c\u4f60\u4f1a\u5728\u4f7f\u7528poetry\u7b49\u5de5\u5177\u65f6\uff0c\u81ea\u7136\u800c\u7136\u5730\u63a5\u89e6\u548c\u4f7f\u7528\u5230\u5b83\u3002</p> <p>conda\u548cVirtualenv\u90fd\u662f\u7528\u6765\u521b\u5efa\u548c\u7ba1\u7406Python\u865a\u62df\u73af\u5883\u7684\u5de5\u5177\uff0c\u6709\u7740\u76f8\u4f3c\u7684\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff1a 1. Conda\u662f\u4e00\u4e2a\u591a\u8bed\u8a00\u3001\u8de8\u5e73\u53f0\u7684\u865a\u62df\u73af\u5883\u7ba1\u7406\u5668\uff0c\u800cVirtualenv\u5219\u53ea\u7528\u4e8ePython\u3002 2. \u901a\u8fc7Conda\u53ef\u4ee5\u7ba1\u7406\uff08\u5b89\u88c5\u3001\u5347\u7ea7\uff09Python\u7248\u672c\uff0c\u800cvirtualenv\u5219\u6ca1\u6709\u8fd9\u4e2a\u80fd\u529b\u3002 3. \u7f3a\u7701\u5b89\u88c5\u4e0b\uff0cconda\u4f1a\u5360\u7528\u5927\u7ea6100MB\u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u800cvirtualenv\u5219\u53ea\u9700\u8981\u5360\u7528\u66f4\u5c11\u7684\u7a7a\u95f4\uff08\u7ea610MB\uff09\u3002\u8fd9\u53ef\u80fd\u5373\u662f\u4f18\u52bf\uff0c\u4e5f\u662f\u7f3a\u70b9\u3002virtualenv\u901a\u8fc7\u4f7f\u7528\u5bf9\u539f\u751f\u5e93\u7684\u7b26\u53f7\u94fe\u63a5\u6765\u51cf\u5c11\u5bf9\u786c\u76d8\u7a7a\u95f4\u7684\u4f7f\u7528\uff0c\u8fd9\u4f7f\u5f97\u5bf9\u539f\u751f\u5e93\u7684\u9694\u79bb\u5e76\u672a\u771f\u6b63\u5b9e\u73b0--\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e0d\u4ec5\u4ec5\u4f9d\u8d56Python\u5e93\uff0c\u8fd8\u4f9d\u8d56\u4e8e\u539f\u751f\u5e93\uff0c\u5219\u4ecd\u7136\u53ef\u80fd\u4ea7\u751f\u4f9d\u8d56\u51b2\u7a81\uff0c\u5bfc\u81f4\u4f60\u7684\u7a0b\u5e8f\u51fa\u73b0\u4e00\u4e9b\u5f88\u96be\u67e5\u627e\u539f\u56e0\u7684\u9519\u8bef\u3002\u800c\u5728conda\u865a\u62df\u73af\u5883\u4e2d\uff0c\u6240\u6709\u7684\u4f9d\u8d56\u90fd\u662f\u5b8c\u5168\u9694\u79bb\u7684\u3002 4. \u7f3a\u7701\u5730\uff0cconda\u5bf9\u865a\u62df\u73af\u5883\u8fdb\u884c\u96c6\u4e2d\u5f0f\u7ba1\u7406\uff0c\u6240\u6709\u7684\u865a\u62df\u73af\u5883\u90fd\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u800cvirtualenv\u5219\u503e\u5411\u4e8e\u5c06\u865a\u62df\u73af\u5883\u653e\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u3002\u957f\u671f\u6765\u770b\uff0c\u975e\u96c6\u4e2d\u5f0f\u7ba1\u7406\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u5448\u788e\u7247\u5316\u800c\u96be\u4e8e\u88ab\u8ffd\u8e2a\u3002</p> <p>\u4e0a\u8ff0\u7b2c3\u70b9\u53ef\u80fd\u662f\u6700\u91cd\u8981\u7684\u5dee\u5f02\u3002\u6211\u4eec\u5f88\u96be\u4fdd\u8bc1Python\u5e94\u7528\u7a0b\u5e8f\u6c38\u8fdc\u53ea\u4f9d\u8d56\u4e8e\u7eaf\u7684Python\u5e93\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e00\u4e9b\u6027\u80fd\u76f8\u5173\u7684\u6a21\u5757\uff0c\u5f80\u5f80\u662f\u7528c++\u6216\u8005\u5176\u5b83\u8bed\u8a00\u6765\u5f00\u53d1\u7684\u3002LAPACK\uff08\u4e00\u4e2a\u5e38\u7528\u7684\u7ebf\u6027\u4ee3\u6570\u5e93\uff0cPython\u4e2d\u6700\u8457\u540d\u7684\u79d1\u5b66\u8ba1\u7b97\u5e93Numpy\u548cscipy\u90fd\u4f9d\u8d56\u4e8e\u6b64\uff09\u6216\u8005OpenSSL\u662f\u5e38\u89c1\u7684\u4f8b\u5b50\u3002</p> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u53ea\u63a8\u8350\u4f7f\u7528Annaconda\u3002\u4f46\u5bf9virtualenv\u548cvenv\uff0c\u8bfb\u8005\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u5982\u679c\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u751f\u6210\u548c\u6784\u5efa\u865a\u62df\u73af\u5883\u7684\u5de5\u5177\uff08\u6216\u8005\u6a21\u5757\uff09--\u6bd4\u5982\uff0c\u4e3a\u4e00\u4e2a\u5bb9\u5668\u6784\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u6216\u8005\u4e3a\u5206\u5e03\u5f0f\u7a0b\u5e8f\u52a8\u6001\u6784\u5efa\u4e00\u4e2a\u8fdc\u7a0b\u7684\u865a\u62df\u73af\u5883--\u90a3\u4e48venv\u6216\u8005virtualenv\u5c06\u662f\u60df\u4e00\u7684\u9009\u62e9\uff0c\u56e0\u4e3aconda\u5e76\u4e0d\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5de5\u5177\u3002</p> <p>\u5bf9\u4e0a\u9762\u6ca1\u6709\u63d0\u5230\u7684\u90a3\u4e9b\u6280\u672f\uff0c\u6211\u4eec\u5c06\u4e0d\u4f1a\u5728\u672c\u4e66\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u5b83\uff0c\u8fd9\u91cc\u4ec5\u5bf9\u5b83\u4eec\u505a\u4e00\u4e2a\u6982\u62ec\u6027\u7684\u63cf\u8ff0\uff1a</p> <ol> <li>pyenv\u662f\u4e00\u4e2a\u811a\u672c\uff0c\u4e0d\u80fd\u5728windows\u73af\u5883\u4e0b\u4f7f\u7528\u3002\u5b83\u7684\u4f5c\u7528\u662f\u62e6\u622a\u4f60\u5bf9python\u5de5\u5177\u94fe\u7684\u8c03\u7528\uff0c\u4e3a\u4f60\u9009\u62e9\u6b63\u786e\u7684python\u7248\u672c\u3002\u6b64\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u5b89\u88c5\u591a\u4e2a\u7248\u672c\u7684python\u3002\u5b83\u7684\u529f\u80fd\u5b8c\u5168\u53ef\u4ee5\u8bf8\u5982annaconda\u4e4b\u7c7b\u7684\u5de5\u5177\u66ff\u4ee3\u3002\u4f46\u5982\u679c\u4f60\u4f7f\u7528virtualenv\u7684\u8bdd\uff0c\u90a3\u4e48\u5f88\u6709\u53ef\u80fd\u4f60\u4ecd\u7136\u9700\u8981\u4f7f\u7528pyenv\u6765\u5b89\u88c5\u548c\u9009\u62e9python\u7248\u672c\u3002\u5b83\u76ee\u524d\u5728github\u4e0a\u6709\u8d85\u8fc728k\u7684start\u3002</li> <li>pyenv-virtualenv\u5219\u662fpyenv\u7684\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5b83\u5c06pyenv\u548cvirtualenv\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u4ece\u800c\u4f60\u53ef\u4ee5\u540c\u65f6\u66f4\u65b9\u4fbf\u5730\u4f7f\u7528\u4e24\u8005\u7684\u547d\u4ee4\u3002\u5982\u679c\u4e0d\u5728\u4e4e\u8fd9\u79cd\u4fbf\u5229\u6027\uff0c\u4e5f\u53ef\u4ee5\u5206\u522b\u4f7f\u7528pyenv\u548cvirtualenv\u3002</li> <li>Virtualenvwrapper\u662fvirtualenv\u7684\u4e00\u4e2a\u6269\u5c55\u96c6\uff0c\u63d0\u4f9b\u4e86\u8bf8\u5982mkvirtualenv, lssitepackages, workon\u7b49\u547d\u4ee4\u3002workon\u662f\u7528\u6765\u5728\u4e0d\u540c\u7684virtualenv\u76ee\u5f55\u4e2d\u8fdb\u884c\u5207\u6362\u7684\u547d\u4ee4\u3002</li> <li>pyenv-virutalenvwrapper\u5219\u662fpyenv\u7684\u53e6\u4e00\u4e2a\u63d2\u4ef6\uff0c\u7531pyenv\u7684\u4f5c\u8005\u5f00\u53d1\uff0c\u5b83\u5c06pyenv\u548cvirtualenvwrapper\u7684\u529f\u80fd\u96c6\u6210\u5728\u4e00\u8d77\u3002\u57fa\u4e8e\u8fd9\u4e9b\u6269\u5c55\uff0cvirtualevn\u5c31\u62e5\u6709\u4e86\u7c7b\u4f3cconda\u7684\u5168\u90e8\u529f\u80fd\u3002</li> <li>pyvenv\uff08\u8bf7\u4e0d\u8981\u4e0epyenv\u76f8\u6df7\u6dc6\uff09\u662f\u4ec5\u5728python3.3\u5230python3.7\u624d\u6709\u7684\u4e00\u4e2a\u5b98\u65b9\u811a\u672c\uff0c\u4f46\u4ecepython3.8\u5f00\u59cb\uff0c\u5b83\u5df2\u7ecf\u88ab\u6807\u51c6\u5e93venv\u4ee3\u66ff\u4e86\u3002</li> </ol>"},{"location":"chap03/#anaconda\u4e00\u7ad9\u5f0f\u7ba1\u7406\u7684\u865a\u62df\u73af\u5883","title":"Anaconda\uff1a\u4e00\u7ad9\u5f0f\u7ba1\u7406\u7684\u865a\u62df\u73af\u5883","text":"<p>Anaconda\u5305\u63fd\u4e86\u4ece\u5b89\u88c5python\u7248\u672c\u3001\u521b\u5efa\u865a\u62df\u73af\u5883\u548c\u5207\u6362\u865a\u62df\u73af\u5883\u7684\u6240\u6709\u529f\u80fd\u3002\u5b83\u7684\u5b98\u65b9\u7f51\u7ad9\u662fAnaconda.org\u3002\u5b83\u662f\u6240\u6709\u4ece\u4e8b\u6570\u636e\u79d1\u5b66\u6216\u8005\u6df1\u5ea6\u5b66\u4e60\u7684\u4eba\u7406\u6240\u5f53\u7136\u7684\u9996\u9009\u5de5\u5177\u3002\u5b83\u81ea\u5e26\u7684\u5305\u7ba1\u7406\u7cfb\u7edf\uff0c\u63d0\u4f9b\u4e86\u8bb8\u591a\u6d41\u884c\u7684\u673a\u5668\u5b66\u4e60\u5e93\u9884\u7f16\u8bd1\u7248\u672c\uff0c\u56e0\u6b64\u4f60\u4e0d\u7528\u81ea\u5df1\u53bb\u719f\u6089gcc\u548cc/c++\u4ee3\u7801\u7684\u7f16\u8bd1\u8fc7\u7a0b\u3002</p>"},{"location":"chap03/#\u5b89\u88c5anaconda","title":"\u5b89\u88c5Anaconda","text":"<p>\u5b89\u88c5Anaconda\u8bf7\u4ecehttps://www.anaconda.com/products/distribution\u9875\u9762\u4e0b\u8f7d\u5b89\u88c5\u5305\u3002\u9664\u975e\u60a8\u4f7f\u7528Anaconda\u8fdb\u884c\u79d1\u5b66\u8ba1\u7b97\uff0c\u5426\u5219\u5efa\u8bae\u60a8\u4ecehttps://docs.conda.io/en/latest/miniconda.html\u5904\u4e0b\u8f7d\u6700\u65b0\u7684miniconda\u5b89\u88c5\u5305\u3002</p> <p>\u4ee5Ubuntu\u4e3a\u4f8b\uff0c\u65e0\u8bba\u662fAnanconda\u8fd8\u662fMiniconda\uff0c\u5176\u5b89\u88c5\u6587\u4ef6\u90fd\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u5b89\u88c5\u6570\u636e\u6587\u4ef6\u7684shell\u811a\u672c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7wget\u6216\u8005curl\u5c06\u5176\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u9996\u5148\u8981\u6c42\u4f60\u9605\u8bfb\u5e76\u63a5\u53d7Anaconda\u7684\u670d\u52a1\u6761\u6b3e\uff0c\u7136\u540e\u9009\u62e9\u5c06\u8981\u5b89\u88c5\u7684\u76ee\u5f55\u3002\u5728\u5b8c\u6210\u6587\u4ef6\u62f7\u8d1d\u4e4b\u540e\uff0c\u4f1a\u8be2\u95ee\u4f60\u662f\u5426\u8981\u8fd0\u884cconda init\u4ee5\u521d\u59cb\u5316conda\u73af\u5883\uff0c\u63a8\u8350\u9009\u62e9yes\uff0c\u8fd9\u6837conda\u4f1a\u4fee\u6539\u4f60\u7684shell\u521d\u59cb\u5316\u811a\u672c\u3002\u8981\u4f7f\u7528conda\uff0c\u8fd9\u4e00\u6b65\u662f\u5fc5\u987b\u7684\u3002</p> <p>conda\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5c31\u4f1a\u5728\u4f60\u7684\u7cfb\u7edf\u4e0a\u751f\u6210\u7b2c\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u79f0\u4e3a<code>base</code>\u3002\u73b0\u5728\u53ef\u4ee5\u5217\u4e00\u4e0b\u521a\u521a\u5b89\u88c5\u4e86conda\u7684\u76ee\u5f55\uff0c\u8fd9\u91cc\u9762\u6700\u91cd\u8981\u7684\u76ee\u5f55\u662fenvs\uff0c\u540e\u9762\u521b\u5efa\u7684\u65b0\u7684python\u865a\u62df\u73af\u5883\u90fd\u4f1a\u5728\u8fd9\u91cc\u3002\u4f46\u73b0\u5728\u5b83\u662f\u7a7a\u7684\uff0c\u5c3d\u7ba1\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u540d\u4e3abase\u7684\u865a\u62df\u73af\u5883\uff0c\u4f46\u8fd9\u4e2a\u865a\u62df\u73af\u5883\uff0c\u6307\u5411\u7684\u662f\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684/bin\u76ee\u5f55\u4e0b\u7684python\u3002</p>"},{"location":"chap03/#\u914d\u7f6econda\u73af\u5883","title":"\u914d\u7f6econda\u73af\u5883","text":"<p>conda\u5b89\u88c5\u540e\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u65e0\u987b\u914d\u7f6e\u5373\u53ef\u4f7f\u7528\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u6216\u8005\u53d8\u66f4conda\u6e90\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5219\u9700\u8981\u914d\u7f6econda\u3002</p> <p>conda\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u7528\u6237\u76ee\u5f55\u4e0b\u7684.condarc\uff0c\u5b83\u662f\u4e00\u4e2aYAML\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u76f4\u5230\u4f60\u7b2c\u4e00\u6b21\u8c03\u7528conda config\u65f6\u624d\u4f1a\u4ea7\u751f,\u6bd4\u5982\uff0c\u589e\u52a0\u4e00\u4e2aconda\u6e90\uff1a</p> <pre><code>conda config --add channels conda-forge\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7f16\u8f91.condarc\u6587\u4ef6: <pre><code>channels:\n- https://mirrors.aliyun.com/anaconda/pkgs/free/\n- https://mirrors.aliyun.com/anaconda/pkgs/main/\n- file:///some/local/directory\n- defaults\nproxy_servers:\nhttp: http://user:pass@corp.com:8080\nhttps: https://user:pass@corp.com:8080\nssl_verify: False\n</code></pre> \u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u9996\u5148\u914d\u7f6e\u4e86conda\u6e90\u3002\u6211\u4eec\u6dfb\u52a0\u4e86\u56fd\u5185\u5e38\u7528\u7684\u963f\u91cc\u955c\u50cf\uff0c\u5e76\u4e14\u6dfb\u52a0\u4e86\u4e00\u4e2a\u672c\u5730\u76ee\u5f55\u3002\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e9b\u5185\u90e8\u5b89\u88c5\u5305\uff0c\u5c31\u53ef\u4ee5\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u3002\u5f53conda\u65e0\u6cd5\u4ece\u963f\u91cc\u955c\u50cf\u670d\u52a1\u5668\u4e0a\u627e\u5230\u8fd9\u4e9b\u5305\u65f6\uff08\u663e\u7136\u4f1a\u627e\u4e0d\u5230\uff09\uff0c\u5c31\u4f1a\u641c\u7d22\u8fd9\u4e2a\u76ee\u5f55\u3002\u4e0a\u9762\u6240\u6709\u7684\u8def\u5f84\u90fd\u5931\u6548\u65f6\uff0cconda\u6700\u540e\u4f1a\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u6e90\u6765\u641c\u7d22\u3002\u8fd9\u79cd\u60c5\u51b5\u591a\u89c1\u4e8e\u67d0\u4e2a\u5305\u6709\u4e86\u6700\u65b0\u7684\u7248\u672c\uff0c\u4f46\u955c\u50cf\u670d\u52a1\u5668\u8fd8\u6ca1\u6709\u540c\u6b65\u8fc7\u53bb\u7684\u60c5\u5f62\u3002</p> <p>\u6709\u65f6\u5019\u5f53\u8bbf\u95eeconda\u7684\u5b98\u65b9\u6e90\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u6765\u8fdb\u884c\u52a0\u901f\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86\u5982\u4f55\u8fdb\u884c\u8fd9\u4e9b\u914d\u7f6e\u3002\u6709\u4e00\u4e9b\u4ee3\u7406\u670d\u52a1\u5668\u5bf9ssl\u9a8c\u8bc1\u652f\u6301\u7684\u4e0d\u662f\u592a\u597d\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u9700\u8981\u8bbe\u7f6essl_verify\u4e3aFalse,\u6b63\u5982\u4ee5\u4e0a\u793a\u4f8b\u6240\u793a\u3002</p> <p>conda\u8fd8\u5141\u8bb8\u5176\u5b83\u4e00\u4e9b\u914d\u7f6e\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u63a8\u8350\u8bfb\u8005\u8fdb\u4e00\u6b65\u9605\u8bfb\u914d\u7f6econda\u3002</p>"},{"location":"chap03/#\u521b\u5efa\u548c\u7ba1\u7406\u865a\u62df\u73af\u5883","title":"\u521b\u5efa\u548c\u7ba1\u7406\u865a\u62df\u73af\u5883","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u901a\u8fc7conda\u7684\u4e00\u4e9b\u547d\u4ee4\u6765\u770b\u770b\u5982\u4f55\u7ba1\u7406\u5b83\u3002</p> <p><pre><code>conda create -n test python=3.8\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3atest\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u5b89\u88c5python=3.8\u3002\u73b0\u5728\u6211\u4eec\u67e5\u770b\u4e00\u4e0b\uff0c\u5f53\u524d\u7cfb\u7edf\u4e2d\uff0c\u90fd\u5b58\u5728\u54ea\u4e9b\u865a\u62df\u73af\u5883\uff1a</p> <p><pre><code>conda env list\n\n# \u8f93\u51fa\u5e94\u8be5\u7c7b\u4f3c\u4e8e\uff1a\n# conda environments:\n#\nbase           /root/miniconda3\ntest           /root/miniconda3/envs/test\n</code></pre> \u4e0a\u9762\u7684\u8f93\u51fa\u8868\u660e\uff0c\u6211\u4eec\u5728/root\u4e0b\u5b89\u88c5\u4e86\u4e00\u4e2aminiconda\uff0c\u5e76\u4e14\u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3atest\u7684\u865a\u62df\u73af\u5883\u3002\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u7684\u6587\u4ef6\u5939\u662f/root/miniconda3/envs/test\u3002</p> <p>\u73b0\u5728\u8ba9\u6211\u4eec\u5207\u6362\u5230\u65b0\u521b\u5efa\u7684\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\uff1a <pre><code>conda activate test\n</code></pre> \u73b0\u5728\uff0c\u4f60\u7684shell\u63d0\u793a\u7b26\u5e94\u8be5\u4fee\u6539\u4e3a\u7c7b\u4f3c\u4e8e\uff1a <pre><code>(test) root@ubuntu:~# \n</code></pre> \u6211\u4eec\u7684\u6d4b\u8bd5\u662f\u5728\u4e00\u4e2aubuntu\u865a\u62df\u673a\u4e0a\uff0c\u76f4\u63a5\u4f7f\u7528\u4e86root\u8d26\u6237\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002\u6240\u4ee5\uff0c\u4e0a\u9762\u7684\u63d0\u793a\u7b26\u4e2d\uff0croot\u662f\u5f53\u524d\u7528\u6237\u540d\u3002\u5728\u5f53\u524d\u7528\u6237\u540d\u4e4b\u524d\u7684(test)\uff0c\u8868\u660e\u6211\u4eec\u5f53\u524d\u5904\u5728test\u865a\u62df\u73af\u5883\u4e2d\u3002</p> <p>\u8981\u5f80\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u4e00\u4e2a\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528conda install\u547d\u4ee4\uff1a <pre><code>conda install PACKAGENAME\n</code></pre></p> <p>\u73b0\u5728\uff0c\u5047\u8bbe\u6211\u4eec\u8981\u79fb\u9664\u8fd9\u4e2a\u865a\u62df\u73af\u5883\uff1a <pre><code># \u9000\u51fa\u5f53\u524d\u7684\u865a\u62df\u73af\u5883test\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5220\u9664\u5b83\nconda deactivate\nconda env remove --name test\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u4e0d\u4f1a\u7ed9\u4f60\u786e\u8ba4\u7684\u673a\u4f1a\uff0c\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u524d\uff0c\u5fc5\u987b\u5c0f\u5fc3\u3002\u5f53\u7136\uff0cconda\u8fd9\u6837\u8bbe\u8ba1\u5e76\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u865a\u62df\u73af\u5883\u672c\u8eab\u5c31\u5e94\u8be5\u662f\u53ef\u4ee5\u968f\u65f6\u521b\u5efa\u548c\u968f\u65f6\u9500\u6bc1\u7684\u3002\u5982\u679c\u4e0d\u5c0f\u5fc3\u5220\u9664\u9519\u8bef\uff0c\u90a3\u4e48\u91cd\u5efa\u4e00\u4e2a\u5c31\u597d\u4e86\u3002\u540e\u6094\u836f\u4e00\u76f4\u90fd\u5728\u3002</p> <p>\u5728\u7ed3\u675f\u8fd9\u4e00\u8282\u5185\u5bb9\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u60f3\u4ecb\u7ecd\u4e00\u4e9b\u9ad8\u7ea7\u4f7f\u7528\u65b9\u6cd5\uff0c\u638c\u63e1\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u4f1a\u5728\u51fa\u73b0\u7591\u96be\u95ee\u9898\u65f6\uff0c\u66f4\u52a0\u5bb9\u6613\u89e3\u51b3\u95ee\u9898\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7conda info\u547d\u4ee4\u6765\u68c0\u67e5conda\u5b89\u88c5\u7684\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff1a <pre><code>     active environment : base\n    active env location : /root/miniconda3\n       user config file : /root/.condarc\n          conda version : 4.13.0\n         python version : 3.8.12.final.0\n       base environment : /root/miniconda3  (writable)\n      conda av data dir : /root/miniconda3/etc/conda\n           channel URLs : https://mirrors.aliyun.com/anaconda/pkgs/main/linux-64\n                          https://mirrors.aliyun.com/anaconda/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/main/linux-64\n                          https://repo.anaconda.com/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/r/linux-64\n                          https://repo.anaconda.com/pkgs/r/noarch\n          package cache : /root/miniconda3/pkgs\n                          /root/.conda/pkgs\n       envs directories : /root/miniconda3/envs\n                          /root/.conda/envs\n</code></pre> \u4e0a\u9762\u7684\u5185\u5bb9\u662fconda info\u7684\u8f93\u51fa\uff08\u4e3a\u4e86\u7b80\u6d01\u8d77\u89c1\uff0c\u5220\u6389\u4e86\u4e00\u4e9b\u4e0d\u91cd\u8981\u7684\u5185\u5bb9\uff09\uff0c\u5b83\u63ed\u793a\u4e86\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff1a 1. \u5f53\u524d\u6211\u4eec\u5904\u4e8ebase\u865a\u62df\u73af\u5883\u4e0b\u3002\u8fd9\u662f\u5f53\u4f60\u5b89\u88c5\u4e86conda\u4e4b\u540e\uff0c\u5c31\u9ed8\u8ba4\u5b58\u5728\u7684\u4e00\u4e2a\u865a\u62df\u73af\u5883\u3002\u5b83\u7684\u6587\u4ef6\u76ee\u5f55\u662f/root/miniconda3\u3002\u5982\u679c\u4f60\u662f\u5728test\u865a\u62df\u73af\u5883\u4e0b\uff0c\u5219active env location\u5e94\u8be5\u6307\u5411/root/miniconda3/envs/test 2. \u914d\u7f6e\u6587\u4ef6\u5728/root/.condarc\u4e0b\u3002\u524d\u9762\u6211\u4eec\u4ecb\u7ecd\u914d\u7f6econda\u65f6\uff0c\u5df2\u7ecf\u7528\u8fc7\u8fd9\u4e2a\u6587\u4ef6\u4e86\uff0c\u4f46\u662f\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5728\u90a3\u91cc\u5e76\u6ca1\u6709\u544a\u8bc9\u8bfb\u8005\uff0c\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u73b0\u5728\u4f60\u5c31\u77e5\u9053\uff0c\u5982\u679c\u4e0d\u6e05\u695aconda\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528conda info\u547d\u4ee4\u6765\u67e5\u770b\u3002 3. \u4e0a\u8ff0\u8f93\u51fa\u8fd8\u663e\u793a\u4e86conda\u6e90\u7684\u914d\u7f6e\u3002 4. conda\u4e0b\u8f7d\u5b89\u88c5\u5305\u65f6\uff0c\u4f1a\u5c06\u5176\u7f13\u5b58\u3002package cache\u544a\u8bc9\u6211\u4eecconda\u7f13\u5b58\u5b89\u88c5\u5305\u7684\u4f4d\u7f6e\u3002\u5f53\u6211\u4eec\u53d1\u73b0\u5b89\u88c5\u5305\u7684\u884c\u4e3a\u4e0d\u6b63\u5e38\u65f6\uff0c\u6709\u53ef\u80fd\u8981\u6e05\u9664\u8fd9\u4e2a\u7f13\u5b58\u3002 5. \u6700\u540e\uff0cenvs directories\u544a\u8bc9\u6211\u4eec\uff0c\u6240\u6709\u865a\u62df\u73af\u5883\u7684\u6587\u4ef6\u76ee\u5f55\u4f4d\u7f6e\u4f55\u5728\u3002\u6211\u4eec\u53ef\u4ee5\u5217\u4e00\u4e0b/root/miniconda3/envs\u76ee\u5f55\uff1a <pre><code>ls /root/miniconda3/envs\n# \u8f93\u51fa\u4e2d\u5305\u542btest\nls /root/miniconda3/envs/test\n# \u8f93\u51fa\u4e2d\u5c06\u5305\u542b\u4ee5\u4e0b\u91cd\u8981\u76ee\u5f55\uff1a\nbin # \u5728bin\u76ee\u5f55\u4e0b\uff0c\u5b58\u653e\u6709python, pip\u7b49\u91cd\u8981\u547d\u4ee4\nlib # \u5728lib\u4e0b\uff0c\u5b58\u653e\u6709python3.x\u76ee\u5f55\uff0csite-packages\u7b49\u5b89\u88c5\u5305\u5c06\u6700\u7ec8\u5b89\u88c5\u5230\u8fd9\u91cc\u3002\n</code></pre></p> <p>\u53e6\u4e00\u4e2a\u5bf9\u67e5\u9519\u6709\u7528\u7684\u91cd\u8981\u547d\u4ee4\uff0c\u662fconda list\u3002\u5b83\u5c06\u5217\u51fa</p> <ol> <li>\u53ef\u4ee5\u91cd\u547d\u540d\u4e00\u4e2a\u865a\u62df\u73af\u5883\u5417\uff1f \u4ececonda 4.14\u8d77\uff0cconda\u652f\u6301\u91cd\u547d\u540d\u865a\u62df\u73af\u5883\uff1a <pre><code>conda rename -n old_name -d new_name\n</code></pre> \u4e0d\u8fc7\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5176\u5b9e\u53ea\u662fconda create\u548cconda remove\u7684\u7b80\u5355\u7ec4\u5408\uff0c\u6240\u4ee5\uff0c\u5728\u65e7\u7684conda\u7248\u672c\u4e0b\uff0c\u4f60\u53ef\u4ee5\uff1a <pre><code>conda create --name new_name --clone old_name\nconda env remove --name old_name\n</code></pre></li> <li>\u5982\u4f55\u8ffd\u8e2a\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u53d8\u66f4\uff1f \u8fd9\u662fconda\u63d0\u4f9b\u7684\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u5373\u53ef\u4ee5\u8ffd\u8e2a\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u53d8\u66f4\u5386\u53f2\uff1a <pre><code># \u5207\u6362\u5230\u5173\u6ce8\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\nconda list --revisions\n\n# \u6062\u590d\u53d8\u66f4\u5230\u67d0\u4e2a\u955c\u50cf\u70b9\nconda install --revision 2\n</code></pre> \u6ce8\u610f\u533a\u5206conda list\u4e0econda env list\u3002\u540e\u8005\u662f\u5217\u51fa\u865a\u62df\u73af\u5883\uff0c\u524d\u8005\u5219\u662f\u5217\u51fa\u5f53\u524d\u865a\u62df\u73af\u5883\u91cc\u5b89\u88c5\u7684packages\u548c\u7248\u672c\u3002</li> </ol> <p>\u5982\u679c\u60f3\u5168\u9762\u800c\u5feb\u901f\u5730\u4e86\u89e3conda\u547d\u4ee4\uff0c\u53ef\u4ee5\u53c2\u8003conda\u5c0f\u6284</p>"},{"location":"chap03/#\u8f7b\u91cf\u7684python\u5305\u5b89\u88c5\u5de5\u5177pip","title":"\u8f7b\u91cf\u7684Python\u5305\u5b89\u88c5\u5de5\u5177Pip","text":"<p>\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5982\u4f55\u5f80\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u7a0b\u5e8f\u5e93\uff1a <pre><code>conda install PACKAGENAME\n</code></pre> \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528pip\u6765\u5b89\u88c5\u7a0b\u5e8f\u5e93\uff1a <pre><code>pip install PACKAGENAME\n</code></pre> \u5b9e\u9645\u4e0a\uff0c\u4ee5\u60a8\u524d\u9762\u521b\u5efa\u7684test\u73af\u5883\u4e3a\u4f8b\uff0cconda\u5df2\u7ecf\u628apip\u5b89\u88c5\u5230\u4e86/root/miniconda3/test/bin\u76ee\u5f55\u4e0b\uff1a <pre><code>ls /root/miniconda3/envs/test/bin\n</code></pre></p>"},{"location":"chap03/#\u914d\u7f6evscode\u4e2d\u7684\u89e3\u91ca\u5668","title":"\u914d\u7f6eVSCode\u4e2d\u7684\u89e3\u91ca\u5668","text":"<p>\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5\u4e86python\u3002\u4f46\u8981\u5728vscode\u4e0b\u5f00\u53d1python\u5e94\u7528\u7a0b\u5e8f\uff0c\u6211\u4eec\u8fd8\u5f97\u5728vscode\u4e2d\u5b8c\u6210\u76f8\u5173\u7684\u914d\u7f6e\u3002</p> <p>\u5728vscode\u4e2d\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f(\u5728mac\u4e0b\u662fcmd+shift+p, \u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u662fctrl + shift + p)\uff0c\u8f93\u5165 Python: select Interpreter\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u6240\u793a\u7684\u5217\u8868\uff08\u60a8\u7684\u7535\u8111\u4e0a\u663e\u793a\u4f1a\u6709\u6240\u4e0d\u540c\uff09\uff1a</p> <p></p> <p>\u5982\u679c\u8981\u9009\u62e9\u524d\u9762\u521b\u5efa\u7684test\u73af\u5883\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u8fd9\u91cc\u8f93\u5165\uff1a <pre><code>/root/miniconda3/envs/test/bin/python\n</code></pre></p> <p>\u6b64\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728vscode\u7684\u72b6\u6001\u680f\u4e2d\uff0c\u5bfb\u627e\u7c7b\u4f3c\u4e0b\u9762\u7684\u63d0\u793a\u6587\u5b57\uff1a</p> <p> \u7136\u540e\u70b9\u51fb\u5b83\uff0c\u4e5f\u53ef\u8fdb\u5165\"python: Select Interpreter\"\u83dc\u5355\u3002</p> <p>\u81f3\u6b64\uff0c\u60a8\u5c31\u5b8c\u6210\u4e86\u6700\u57fa\u7840\u7684\u5f00\u53d1\u73af\u5883\u8bbe\u7f6e\uff1aIDE\u5df2\u7ecf\u5b89\u88c5\u597d\uff0c\u5e76\u4e14\u8981\u4f7f\u7528\u7684python\u7248\u672c\u4e5f\u5df2\u7ecf\u6307\u5b9a\uff01\u73b0\u5728\uff0c\u60a8\u5c31\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6700\u7b80\u5355\u7684python\u7a0b\u5e8f\uff1a <pre><code># helloworld.py\nprint(\"Hello World\")\n</code></pre> \u628a\u8fd9\u4e2a\u7a0b\u5e8f\u5b58\u4e3ahelloworld.py\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e0b\uff0c\u901a\u8fc7python helloworld.py\u6765\u8fd0\u884c\u5b83\uff01</p>"},{"location":"chap04/","title":"\u7b2c\u56db\u7ae0 \u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":""},{"location":"chap04/#\u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc","title":"\u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":""},{"location":"chap04/#\u6807\u51c6\u9879\u76ee\u5e03\u5c40","title":"\u6807\u51c6\u9879\u76ee\u5e03\u5c40","text":""},{"location":"chap04/#\u6587\u6863","title":"\u6587\u6863","text":""},{"location":"chap04/#\u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6","title":"\u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6","text":""},{"location":"chap04/#\u4ee3\u7801\u76ee\u5f55","title":"\u4ee3\u7801\u76ee\u5f55","text":""},{"location":"chap04/#\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55","title":"\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55","text":""},{"location":"chap04/#\u6301\u7eed\u96c6\u6210\u914d\u7f6e\u6587\u4ef6","title":"\u6301\u7eed\u96c6\u6210\u914d\u7f6e\u6587\u4ef6","text":""},{"location":"chap04/#\u9879\u76ee\u751f\u6210\u5411\u5bfcpython-project-wizard","title":"\u9879\u76ee\u751f\u6210\u5411\u5bfc\u2014\u2014Python Project Wizard","text":""},{"location":"chap04/#\u5b89\u88c5python-project-wizard","title":"\u5b89\u88c5Python Project Wizard","text":""},{"location":"chap04/#\u521b\u5efa\u865a\u62df\u73af\u5883","title":"\u521b\u5efa\u865a\u62df\u73af\u5883","text":""},{"location":"chap04/#\u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56","title":"\u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56","text":""},{"location":"chap04/#\u521b\u5efagithub-repo","title":"\u521b\u5efaGithub Repo","text":""},{"location":"chap04/#\u8fd0\u884c\u53d1\u5e03\u6d4b\u8bd5","title":"\u8fd0\u884c\u53d1\u5e03\u6d4b\u8bd5","text":""},{"location":"chap04/#\u8bbe\u7f6egithub-ci","title":"\u8bbe\u7f6eGithub CI","text":""},{"location":"chap04/#\u8bbe\u7f6ecodecov","title":"\u8bbe\u7f6eCodecov","text":""},{"location":"chap04/#\u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc_1","title":"\u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":"<p>\u901a\u8fc7\u524d\u4e09\u7ae0\u7684\u5b66\u4e60\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u5982\u4f55\u6784\u5efa\u5f00\u53d1\u73af\u5883\uff0c\u5e76\u4e14\u4e5f\u5b8c\u6210\u4e86\u4e00\u4e2a\u6700\u7b80\u5355\u7684python\u7a0b\u5e8f -- Hello World\u3002</p> <p>\u60a8\u53ef\u80fd\u5df2\u7ecf\u610f\u8bc6\u5230\uff0c\u5373\u4f7f\u6487\u5f00\u5176\u7b80\u964b\u7684\u529f\u80fd\u4e0d\u8bf4\uff0c\u5728\u5f88\u591a\u5176\u5b83\u65b9\u9762\uff0c\u5b83\u4e5f\u6709\u660e\u663e\u7684\u4e0d\u8db3\uff1a 1. \u4e00\u822c\u800c\u8a00\uff0c\u7a0b\u5e8f\u7684\u4f7f\u7528\u8005\u4f1a\u9700\u8981\u5e2e\u52a9\u6587\u6863\uff0c\u4e5f\u9700\u8981\u4e86\u89e3\u5173\u4e8e\u7248\u6743\u3001\u4f5c\u8005\u7b49\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5e94\u8be5\u5982\u4f55\u63d0\u4f9b\uff1f 2. \u6ca1\u6709\u4efb\u4f55\u7a0b\u5e8f\u80fd\u591f\u907f\u514dbug\u3002\u60a8\u53ef\u80fd\u5df2\u7ecf\u542c\u8bf4\uff0c\u8981\u51cf\u5c11bug\uff0c\u7a0b\u5e8f\u5c31\u5fc5\u987b\u7ecf\u8fc7\u7cfb\u7edf\u548c\u8be6\u5c3d\u7684\u6d4b\u8bd5\u3002\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u7f16\u5199\u548c\u7ec4\u7ec7\u6d4b\u8bd5\u4ee3\u7801\uff1f</p> <p>!!! Info     \u5728github\u4e0a\u6709\u4e00\u4e2a\u9ad8\u8fbe50k stars\u7684\u9879\u76ee\uff0c\u540d\u4e3anocode\u3002\u5b83\u786e\u5b9e\u505a\u5230\u4e86\u4e0d\u4ea7\u751f\u4efb\u4f55bug\uff1a     _No code is the best way to write secure and reliable applications. Write nothing; deploy nowhere.     \u4e0d\u5199\u4ee3\u7801\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751fbug,\u8fd9\u771f\u662f\u6781\u9ad8\u7684\u4f5b\u5bb6\u667a\u6167\uff1a\u83e9\u63d0\u672c\u65e0\u6811\uff0c\u660e\u955c\u4ea6\u975e\u53f0\uff0c\u672c\u6765\u65e0\u4e00\u7269\uff0c\u4f55\u5904\u60f9\u5c18\u57c3\uff1f\u4e0d\u8fc7\uff0c\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u9879\u76ee\uff0c\u8fd8\u662f\u88ab\u4eba\u63d0\u4ea4\u4e86\u8d85\u8fc73k\u7684issues(\u5982\u679c\u4f60\u8ba4\u4e3a\u9879\u76ee\u4e2d\u5b58\u5728bug\uff0c\u6216\u8005\u6709\u65b0\u7684\u529f\u80fd\u9700\u6c42\uff0c\u6216\u8005\u5176\u5b83\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u63d0\u51fa\u4e00\u4e2aissue)\uff0c\u8fd9\u7b97\u662f\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\u5427\uff1f</p> <ol> <li>\u7a0b\u5e8f\u5e94\u8be5\u4ee5\u53ef\u5b89\u88c5\u5305\u7684\u5f62\u5f0f\u53d1\u5e03\u51fa\u53bb\uff0c\u800c\u4e0d\u662f\u4ee5\u6e90\u4ee3\u7801\u7684\u65b9\u5f0f\u4ea4\u4ed8\u3002Hello World\u5c0f\u7a0b\u5e8f\u663e\u7136\u4e5f\u6ca1\u6709\u6d89\u53ca\u5230\u8fd9\u4e00\u90e8\u5206\u3002</li> </ol> <p>\u8fd8\u6709\u5f88\u591a\u5f88\u591a\u3002\u4e00\u4e2a\u5b8c\u6574\u7684\u9879\u76ee\uff0c\u9664\u4e86\u63d0\u4f9b\u6700\u6838\u5fc3\u7684\u7a0b\u5e8f\u529f\u80fd\u4e4b\u5916\uff0c\u8fd8\u5fc5\u7136\u6d89\u53ca\u5230\u4ea7\u54c1\u8d28\u91cf\u63a7\u5236\uff08\u5305\u62ec\u5355\u5143\u6d4b\u8bd5\u3001\u4ee3\u7801\u98ce\u683c\u63a7\u5236\u7b49\uff09\u3001\u7248\u6743\u3001\u53d1\u5e03\u5386\u53f2\u3001\u5236\u4f5c\u5206\u53d1\u5305\u7b49\u6742\u52a1\uff0c\u4ece\u800c\u4e5f\u5c31\u5728\u5b9e\u73b0\u529f\u80fd\u7684\u6e90\u4ee3\u7801\u4e4b\u5916\uff0c\u5f15\u5165\u4e86\u8bb8\u591a\u5176\u5b83\u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u5e94\u8be5\u5982\u4f55\u7ec4\u7ec7\uff1f\u6709\u6ca1\u6709\u57fa\u672c\u7684\u547d\u540d\u89c4\u8303\uff1f\u662f\u5426\u6709\u5de5\u7a0b\u6a21\u677f\u53ef\u4ee5\u5957\u7528\uff0c\u6216\u8005\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\u6765\u751f\u6210\uff1f\u8fd9\u4e00\u7ae0\u5c06\u4e3a\u60a8\u89e3\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>\u8fd9\u4e00\u7ae0\u5c06\u4ecb\u7ecd\u89c4\u8303\u7684\u9879\u76ee\u5e03\u5c40\u5e94\u8be5\u5177\u6709\u4ec0\u4e48\u6837\u7684\u76ee\u5f55\u89c6\u56fe\uff0c\u5e76\u5728\u6700\u540e\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u9075\u5faa\u793e\u533a\u6700\u65b0\u89c4\u8303\u7684\u3001\u751f\u6210Python\u5de5\u7a0b\u6846\u67b6\u7684\u5411\u5bfc\u5de5\u5177\u3002</p> <p>\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\u5fc5\u987b\u9075\u5faa\u4e00\u5b9a\u7684\u89c4\u8303\u3002\u8fd9\u6709\u4e24\u65b9\u9762\u7684\u8003\u8651\uff0c\u4e00\u662f\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\u662f\u9879\u76ee\u7ed9\u4eba\u7684\u7b2c\u4e00\u5370\u8c61\uff0c\u4e00\u4e2a\u5e03\u5c40\u6df7\u4e71\u7684\u9879\u76ee\uff0c\u4f1a\u5413\u8dd1\u6f5c\u5728\u7684\u7528\u6237\u548c\u8d21\u732e\u8005\uff1b\u9075\u5faa\u89c4\u8303\u7684\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\uff0c\u53ef\u4ee5\u8ba9\u4ed6\u4eba\u66f4\u5bb9\u6613\u4e0a\u624b\uff1b\u4e8c\u6765\uff0c\u6784\u5efa\u5de5\u5177\u3001\u6d4b\u8bd5\u5de5\u5177\u7b49\u5de5\u5177\u4e5f\u4f9d\u8d56\u4e8e\u4e00\u5b9a\u7684\u6587\u4ef6\u7ed3\u6784\u3002\u5982\u679c\u6587\u4ef6\u7ed3\u6784\u6ca1\u6709\u4e00\u5b9a\u7684\u89c4\u8303\uff0c\u5219\u5fc5\u7136\u8981\u5bf9\u6bcf\u4e2a\u5de5\u5177\u8fdb\u884c\u4e00\u5b9a\u7684\u914d\u7f6e\uff0c\u624d\u80fd\u4f7f\u5176\u5de5\u4f5c\u3002\u8fc7\u591a\u7684\u914d\u7f6e\u9879\u5f80\u5f80\u4f1a\u5f15\u8d77\u9519\u8bef\uff0c\u52a0\u91cd\u5b66\u4e60\u6210\u672c\u3002</p> <p>Readmore</p> <p>\u4ee5\u4f9d\u8d56\u7ba1\u7406\u548c\u6784\u5efa\u5de5\u5177Poetry\u4e3a\u4f8b\uff0c\u5b83\u4f1a\u9ed8\u8ba4\u628a\u6784\u5efa\u751f\u6210\u7684\u5305\u653e\u5728dist\u76ee\u5f55\u4e0b\uff0ctox\u5728\u6784\u5efa\u6d4b\u8bd5\u73af\u5883\u65f6\uff0c\u5219\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u5bfb\u627e\u5b89\u88c5\u5305\u3002\u8fd9\u662f\u4e00\u79cd\u7ea6\u5b9a\u3002</p> <p>\u5728\u5de5\u7a0b\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u7ea6\u5b9a\u4fd7\u6210\u7684\u9879\u76ee\u6587\u4ef6\u7ed3\u6784\u548c\u89c4\u8303\u7684\u6587\u4ef6\u3001\u6587\u4ef6\u5939\u540d\u5b57\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u7e41\u7410\u7684\u914d\u7f6e\u9879\u76ee\u4ee5\u5141\u8bb8\u8fc7\u5ea6\u81ea\u5b9a\u4e49\uff0c\u8fd9\u79cd\u539f\u5219\u88ab\u79f0\u4e3a\u60ef\u4f8b\u4f18\u4e8e\u914d\u7f6e(convention over configuration)\uff0c\u8fd9\u4e0d\u4ec5\u4ec5\u662fPython,\u4e5f\u662f\u8bb8\u591a\u5176\u5b83\u8bed\u8a00\u9075\u5faa\u7684\u539f\u5219\u3002</p>"},{"location":"chap04/#\u6807\u51c6\u9879\u76ee\u5e03\u5c40_1","title":"\u6807\u51c6\u9879\u76ee\u5e03\u5c40","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e2a\u7ecf\u5178\u7684Python\u9879\u76ee\u5e03\u5c40\uff0c\u7531Kenneth Reitz\u63a8\u8350\u3002Kenneth Reitz\u662f\u8457\u540d\u7684Python http\u5e93requests\u548cpipenv\u7684\u4f5c\u8005\u3002</p> <p>\u8fd9\u4e2a\u5e03\u5c40\u5982\u4e0b\u9762\u6240\u793a\uff1a <pre><code>\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 AUTHORS.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docs\n|   |   \u251c\u2500\u2500 conf.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 HISTORY.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 LICENSE\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 makefile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 MANIFEST.in\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 requirements.txt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sample\n|   |   \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 helper.py\n|   \u251c\u2500\u2500 setup.cfg\n|   \u251c\u2500\u2500 setup.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tests\n</code></pre> \u4e0b\u9762\u6211\u4eec\u6765\u9010\u4e00\u89e3\u91ca\u3002</p>"},{"location":"chap04/#\u6587\u6863_1","title":"\u6587\u6863","text":""},{"location":"chap04/#\u9879\u76ee\u8bf4\u660e\u6587\u6863","title":"\u9879\u76ee\u8bf4\u660e\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528README\u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u7528\u6765\u5411\u672c\u9879\u76ee\u7684\u4f7f\u7528\u8005\u6982\u62ec\u6027\u5730\u4ecb\u7ecd\u8fd9\u4e2a\u9879\u76ee\u7684\u57fa\u672c\u60c5\u51b5\uff0c\u6bd4\u5982\u4e3b\u8981\u529f\u80fd\u3001\u4f18\u52bf\u3001\u7248\u672c\u8ba1\u5212\u7b49\u3002\u8fd9\u91cc\u6587\u4ef6\u7684\u540e\u7f00\u662f.rst\uff0c\u8fd9\u662f\u4e00\u79cd\u6269\u5c55\u6807\u8bb0\u6587\u672c\u683c\u5f0f\uff0c\u901a\u8fc7\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u53ef\u4ee5\u751f\u6210\u5bcc\u6587\u672c\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u73b0\u5728\u66f4\u6d41\u884c\u7684\u683c\u5f0f\u53ef\u80fd\u662fmarkdown\uff0c\u4ee5.md\u4f5c\u4e3a\u6587\u4ef6\u540d\u540e\u7f00\u3002\u6211\u4eec\u4f1a\u5728\u6587\u6863\u6784\u5efa\u90a3\u4e00\u7ae0\u518d\u8be6\u7ec6\u4ecb\u7ecd\u4e24\u8005\u7684\u533a\u522b\u3002</p>"},{"location":"chap04/#\u8bb8\u53ef\u8bc1\u6587\u6863","title":"\u8bb8\u53ef\u8bc1\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528LICENSE\u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u5f00\u6e90\u9879\u76ee\u5fc5\u987b\u914d\u7f6e\u6b64\u6587\u6863\u3002\u6b64\u6587\u4ef6\u4e00\u822c\u4e3a\u7eaf\u6587\u672c\u683c\u5f0f\uff0c\u4e0d\u652f\u6301\u6269\u5c55\u6807\u8bb0\u3002</p>"},{"location":"chap04/#\u7248\u672c\u5386\u53f2\u6587\u6863","title":"\u7248\u672c\u5386\u53f2\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528HISTORY\u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002</p> <p>\u6bcf\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\uff0c\u90fd\u53ef\u80fd\u5f15\u5165\u65b0\u7684\u529f\u80fd\u3001\u4fee\u590d\u4e86\u4e00\u4e9bbug\u548c\u5b89\u5168\u6027\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u5e26\u6765\u4e00\u4e9b\u884c\u4e3a\u53d8\u66f4\uff0c\u5bfc\u81f4\u4f7f\u7528\u8005\u5fc5\u987b\u4e5f\u8981\u505a\u76f8\u5e94\u7684\u4fee\u6539\u624d\u80fd\u4f7f\u7528\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u7248\u672c\u8bf4\u660e\uff0c\u7a0b\u5e8f\u5e93\u7684\u7528\u6237\u5c31\u4e0d\u77e5\u9053\u5e94\u8be5\u9009\u7528\u54ea\u4e00\u4e2a\u7248\u672c\uff0c\u6216\u8005\u662f\u5426\u5e94\u8be5\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u4e0a\u3002\u4f7f\u7528\u65b0\u7684\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u76ca\u5904\uff0c\u4f46\u4e5f\u5e26\u6765\u5f88\u591a\u6d4b\u8bd5\u7684\u5de5\u4f5c\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u5176\u5b83\u4eba\u5f00\u53d1\u7684\u7a0b\u5e8f\u5e93\u65f6\uff0c\u5e76\u4e0d\u4e00\u5b9a\u8981\u9009\u62e9\u6700\u65b0\u7684\uff0c\u6709\u65f6\u5019\u751a\u81f3\u5347\u7ea7\u5230\u6700\u65b0\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u8fd0\u884c\u3002\u6bd4\u5982SQLAlchemy\u662f\u4e00\u4e2a\u5e94\u7528\u5341\u5206\u5e7f\u6cdb\u7684Python ORM\u6846\u67b6\uff0c\u5b83\u76841.4\u7248\u672c\u4e0e\u524d\u9762\u7684\u7248\u672c\u6709\u8f83\u591a\u4e0d\u517c\u5bb9\u7684\u95ee\u9898\u3002\u5982\u679c\u60a8\u7684\u7a0b\u5e8f\u4e0d\u52a0\u4fee\u6539\u5c31\u76f4\u63a5\u5347\u7ea7\u52301.4\uff0c\u90a3\u4e48\u5927\u6982\u7387\u7a0b\u5e8f\u4f1a\u5d29\u6e83\u3002</p> <p>\u540cREADME\u4e00\u6837\uff0c\u53ef\u4ee5\u4f7f\u7528.rst\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528.md\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u540e\u9762\u6211\u4eec\u4e0d\u518d\u7279\u522b\u63d0\u793a\u3002</p>"},{"location":"chap04/#\u5f00\u53d1\u8005\u4ecb\u7ecd\u6587\u6863","title":"\u5f00\u53d1\u8005\u4ecb\u7ecd\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528AUTHORS\u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u5176\u76ee\u7684\u662f\u5411\u4ed6\u4eba\u4ecb\u7ecd\u9879\u76ee\u7684\u5f00\u53d1\u8005\u56e2\u961f\u3002</p>"},{"location":"chap04/#\u5e2e\u52a9\u6587\u6863","title":"\u5e2e\u52a9\u6587\u6863","text":"<p>\u4e00\u4e2a\u4f18\u79c0\u7684\u9879\u76ee\uff0c\u8fd8\u5f80\u5f80\u4f1a\u6709\u6bd4\u8f83\u8be6\u5c3d\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u6765\u544a\u8bc9\u4f7f\u7528\u8005\u5982\u4f55\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u4f7f\u7528\uff0c\u751a\u81f3\u8fd8\u4f1a\u914d\u6709\u4e00\u4e9b\u6559\u7a0b\u3002\u8fd9\u4e9b\u6587\u6863\u5728\u547d\u540d\u4e0a\u5c31\u6ca1\u6709\u90a3\u4e48\u4e25\u683c\uff0c\u6700\u7ec8\uff0c\u5b83\u4eec\u5c06\u901a\u8fc7\u6587\u6863\u751f\u6210\u5de5\u5177\u8f6c\u6362\u6210\u683c\u5f0f\u66f4\u52a0\u7f8e\u89c2\u7684\u5728\u7ebf\u6587\u6863\uff0c\u4f9b\u4f7f\u7528\u8005\u9605\u8bfb\u3002\u4e00\u822c\u5730\uff0c\u8fd9\u4e9b\u6587\u6863\u90fd\u653e\u5728docs\u76ee\u5f55\u4e0b\uff0c\u7531\u4e00\u4e2a\u4e3b\u63a7\u6587\u6863(index.rst)\u6765\u4e32\u8054\u3002\u5f53\u7136\uff0c\u5177\u4f53\u5982\u4f55\u505a\uff0c\u53d6\u51b3\u4e8e\u6587\u6863\u6784\u5efa\u5de5\u5177\u3002</p>"},{"location":"chap04/#api\u6587\u6863","title":"API\u6587\u6863","text":"<p>\u8fd8\u6709\u4e00\u7c7b\u6bd4\u8f83\u7279\u6b8a\u7684\u6587\u6863\uff0c\u5b83\u4eec\u4e0d\u76f4\u63a5\u51fa\u73b0\u5728\u4e0a\u8ff0\u76ee\u5f55\u4e2d\uff0c\u800c\u662f\u6563\u843d\u5728\u6e90\u4ee3\u7801\u7684\u5404\u4e2a\u90e8\u5206\uff0c\u901a\u8fc7\u4e13\u7528\u5de5\u5177\u751f\u6210\uff0c\u4e0e\u5e2e\u52a9\u6587\u6863\u4e00\u8d77\u4f7f\u7528\u3002\u5173\u4e8e\u5e2e\u52a9\u6587\u6863\u548cAPI\u6587\u6863\uff0c\u6211\u4eec\u5c06\u5728\u7b2c10\u7ae0\uff0c\u64b0\u5199\u6280\u672f\u6587\u6863\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>"},{"location":"chap04/#\u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6_1","title":"\u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4e0d\u540c\u7684\u6784\u5efa\u5de5\u5177\u9700\u8981\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728Python\u5de5\u7a0b\u4e2d\uff0c\u4e3b\u8981\u6709\u4e24\u79cd\u4e3b\u6d41\u7684\u6784\u5efa\u5de5\u5177\uff0c\u4e00\u662fPython setup tools,\u53e6\u4e00\u79cd\u662f\u7b26\u5408PEP517\uff0cPEP518\u89c4\u8303\u7684\u65b0\u578b\u6784\u5efa\u5de5\u5177\uff0c\u5982Poetry\u7b49\u3002</p> <p>\u5728\u4e0a\u8ff0\u76ee\u5f55\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528\u7684\u662f\u57fa\u4e8epython setup tools\u7684\u6784\u5efa\u5de5\u5177\uff0c\u5b83\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u6709setup.py, MANIFEST.IN\u7b49\u6587\u4ef6\uff0c\u8fd8\u53ef\u80fd\u4f1a\u6709requirements.txt\u548cmakefile\uff1b\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u60a8\u4f1a\u770b\u5230setup.py\u7b49\u6587\u4ef6\u7684\u539f\u56e0\u3002\u5982\u679c\u662f\u4f7f\u7528Poetry,\u5219\u914d\u7f6e\u6587\u4ef6\u4f1a\u7b80\u5355\u8bb8\u591a\uff0c\u53ea\u9700\u8981\u4e00\u4e2apyproject.toml\u5c31\u591f\u4e86\u3002</p> <p>\u5f53\u60a8\u5f00\u59cb\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5e94\u8be5\u53ea\u4f7f\u7528Poetry\uff0c\u800c\u4e0d\u4f7f\u7528python setup tools\u3002Poetry\u7684\u4f9d\u8d56\u7ba1\u7406\u53ef\u4ee5\u9501\u5b9a\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\uff0c\u907f\u514d\u5f88\u591a\u95ee\u9898\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u80fd\u4f9d\u7136\u8981\u80fd\u770b\u61c2\u57fa\u4e8esetup tools\u7684\u8001\u5f0f\u5de5\u7a0b\u914d\u7f6e\uff0c\u5b83\u4eec\u5c06\u53ef\u80fd\u5728\u672a\u6765\u7684\u4e00\u4e24\u5e74\u91cc\u8fd8\u7ee7\u7eed\u5b58\u5728\u3002</p>"},{"location":"chap04/#\u4ee3\u7801\u76ee\u5f55_1","title":"\u4ee3\u7801\u76ee\u5f55","text":"<p>\u5728\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\uff0c\u7279\u522b\u662f\u7f16\u8bd1\u578b\u8bed\u8a00\u4e2d\uff0c\u4ee3\u7801\u76ee\u5f55\u5e38\u5e38\u88ab\u79f0\u4e3a\u6e90\u6587\u4ef6\u76ee\u5f55\u3002\u7531\u4e8ePython\u662f\u975e\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u4ee3\u7801\u6e90\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6240\u4ee5\u4e00\u822c\u6211\u4eec\u4e0d\u628a\u4ee3\u7801\u6587\u4ef6\u79f0\u4f5c\u6e90\u6587\u4ef6\u3002\u6211\u4eec\u901a\u5e38\u628a\u53d1\u884c\u7684\u76ee\u6807\u7269\u79f0\u4e4b\u4e3a\u4e00\u4e2a\"\u5305(package)\"\u3002\u56e0\u6b64\uff0c\u5728\u4e0b\u9762\u7684\u53d9\u8ff0\u4e2d\uff0c\u6211\u4eec\u5c06\u4f1a\u628a\u4ee3\u7801\u76ee\u5f55\u79f0\u4e4b\u4e3a\u5305\u76ee\u5f55\uff0c\u6216\u8005package\u76ee\u5f55\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u540d\u4e3asample\u7684package\uff0c\u90a3\u4e48\u60a8\u7684\u4ee3\u7801\u5c31\u5e94\u8be5\u653e\u5728\u4e00\u4e2a\u540d\u4e3asample\u7684\u76ee\u5f55\u4e0b\uff0c\u6b63\u5982\u4e0a\u9762\u7684\u76ee\u5f55\u89c6\u56fe\u6240\u793a\u3002</p> <p>\u6709\u4e00\u4e2a\u5c0f\u5730\u65b9\u9700\u8981\u8bf4\u660e\uff0c\u8fd9\u91cc\u9876\u5c42\u7684sample\u662f\u9879\u76ee\u540d\u5b57\uff0c\u5185\u5c42\u7684sample\u662f\u5305\u540d\u5b57\u3002\u4e24\u7ea7\u76ee\u5f55\u5171\u7528\u4e00\u4e2a\u540d\u5b57\uff0c\u8fd9\u662f\u4f1a\u8ba9\u521d\u5b66\u8005\u591a\u591a\u5c11\u5c11\u6709\u4e00\u4e9b\u56f0\u60d1\u7684\u5730\u65b9\u3002\u4f46\u662f\uff0c\u5728Python\u4e2d,\u6211\u4eec\u4e0d\u80fd\u8c61\u5176\u5b83\u8bed\u8a00\u90a3\u6837\uff0c\u76f4\u63a5\u628apackage\u76ee\u5f55\u6539\u4e3asrc\u76ee\u5f55\uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u751f\u6210\u7684package\u540d\u5b57\u4e5f\u4f1a\u53ebsrc\u3002</p> <p>Info</p> <p>\u66f4\u6709\u57fa\u8005\uff0c\u4e00\u4e9b\u9879\u76ee\uff08\u6216\u8005\u9879\u76ee\u751f\u6210\u5de5\u5177\uff09\u4f1a\u5c06\u7a0b\u5e8f\u7684\u4e3b\u5165\u53e3\u6587\u4ef6\u4e5f\u547d\u540d\u4e3a\u4e0e\u9879\u76ee\u540c\u540d\u7684\u6587\u4ef6\u3002\u5373\uff0c\u5982\u679c\u9879\u76ee\u540d\u5b57\u4e3asample\uff0c\u5219\u4e3b\u5165\u53e3\u7a0b\u5e8f\u6587\u4ef6\u4e5f\u547d\u540d\u4e3asample.py\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u63a8\u8350\u7684\u4e3b\u5165\u53e3\u7a0b\u5e8f\u6587\u4ef6\u540d\u4e3aapp.py\u3002\u8fd9\u4e2a\u6587\u4ef6\u5e94\u8be5\u662f\u60a8\u7684\u7a0b\u5e8f\u5165\u53e3\uff0c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u751f\u547d\u671f\uff0c\u6bd4\u5982\u521d\u59cb\u5316\u3001\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af\u5e76\u54cd\u5e94\u9000\u51fa\u4fe1\u53f7\u7b49\u3002</p> <p>\u6309\u7167\u4e0a\u9762\u7684\u76ee\u5f55\u89c6\u56fe\u5236\u4f5c\u51fa\u6765\u7684\u53d1\u884c\u5305\uff0c\u5305\u540d\u5b57\u4f1a\u662fsample\u3002\u5f53\u6211\u4eec\u8981\u4f7f\u7528sample\u4e2d\u6a21\u5757\u7684\u529f\u80fd\u65f6\uff0c\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\uff1a</p> <pre><code># \u6ce8\u610f\uff0c `import *`\u4e00\u822c\u6765\u8bf4\u662f\u4e00\u79cd\u4e0d\u597d\u7684\u8bed\u6cd5\uff0c\u8fd9\u91cc\u8fd9\u6837\u4f7f\u7528\uff0c\u662f\u4e3a\u4e86\u65b9\u4fbf\u793a\u4f8b\u3002\nfrom sample.helper import *\n</code></pre> <p>Readmore</p> <p>Pypa\u5728sampleproject\u4e2d\u7ed9\u51fa\u4e86\u53e6\u4e00\u79cd\u6587\u4ef6\u7ed3\u6784\uff0c\u5728\u8fd9\u91cc<code>sample</code>\u653e\u5728src\u76ee\u5f55\u4e0b\u3002</p> <p>\u6211\u4eec\u5728\u4e0a\u4e00\u7ae0\u4e2d\u63d0\u5230\u8fc7\uff0cpypa\u5c31\u662fpypi\u7684\u5f00\u53d1\u8005\uff0cpython\u5206\u53d1\u5305\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u3002\u56e0\u6b64\u4ed6\u4eec\u7684\u8da3\u5411\u4e5f\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u5f00\u53d1\u8005\u3002</p> <p>\u53ef\u4ee5\u80af\u5b9a\u7684\u662f\uff0c\u65e0\u8bba\u5982\u4f55\uff0c\u4ee3\u7801\u76ee\u5f55\u540d\u5fc5\u987b\u662fpackage\u540d\u5b57\uff0c\u800c\u4e0d\u80fd\u4e3a\u5176\u5b83\u3002\u81f3\u4e8e\u8981\u4e0d\u8981\u5728\u5176\u4e0a\u518d\u52a0\u4e00\u5c42src/\u76ee\u5f55\uff0c\u76ee\u524d\u8fd8\u5b58\u5728\u4e00\u4e9b\u4e89\u8bae\u3002\u4f46\u662f\uff0c\u4e00\u65e6\u60a8\u7684\u5de5\u7a0b\u786e\u5b9a\u4e86\u76ee\u5f55\u7ed3\u6784\uff0c\u6b64\u540e\u5c31\u4e0d\u8981\u4fee\u6539\uff0c\u5426\u5219\uff0c\u4f1a\u6d89\u53ca\u5230\u5927\u91cf\u6587\u4ef6\u9700\u8981\u4fee\u6539\uff0c\u56e0\u4e3a\u8fd9\u8ddf\u5bfc\u5165\u5bc6\u5207\u76f8\u5173\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86\u8001\u5f0f\u7684\u6784\u5efa\u5de5\u5177\u3002\u6ce8\u610f\u9664\u4e86\u6784\u5efa\u5de5\u5177\u4e4b\u5916\uff0c\u5176\u5b83\u90e8\u5206\u4ecd\u7136\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"chap04/#\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55_1","title":"\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55","text":"<p>\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u7684\u76ee\u5f55\u540d\u4e00\u822c\u4e3atests\u3002\u8fd9\u4e5f\u662f\u8bb8\u591a\u6d4b\u8bd5\u6846\u67b6\u548c\u5de5\u5177\u9ed8\u8ba4\u7684\u6587\u4ef6\u5939\u4f4d\u7f6e\u3002</p>"},{"location":"chap04/#makefile","title":"Makefile","text":"<p>\u5bf9Python\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u53ef\u80fd\u5e76\u4e0d\u592a\u559c\u6b22Makefile\u3002\u5728\u5176\u5b83\u8bed\u8a00\u4e2d\uff0cmakefile\u548c\u5de5\u5177make\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5b9a\u4e49\u4f9d\u8d56\u5173\u7cfb\uff0c\u7f16\u8bd1\u751f\u6210\u6784\u5efa\u7269\u3002Python\u7a0b\u5e8f\u4e00\u822c\u800c\u8a00\u65e0\u987b\u7f16\u8bd1\uff0c\u5b83\u53ea\u9700\u8981\u8fdb\u884c\u6253\u5305\u3002\u6240\u4ee5\u5728\u6700\u65b0\u7684\u57fa\u4e8ePoetry\u7684\u9879\u76ee\u6a21\u677f\u4e2d\uff0c\u662f\u6ca1\u6709Makefile\u7684\u3002\u4f46\u662f\u6709\u4e00\u4e9b\u5de5\u5177\uff0c\u6bd4\u5982sphinx\u6587\u6863\u6784\u5efa\u4e2d\u8fd8\u9700\u8981Makefile\uff1b\u6b64\u5916\uff0cMakefile\u7684\u591atarget\u547d\u4ee4\u6a21\u5f0f\uff0c\u4e5f\u8fd8\u6709\u5b83\u7684\u7528\u5904\uff0c\u56e0\u6b64\uff0c\u662f\u5426\u4f7f\u7528Makefile\uff0c\u53ef\u4ee5\u53d6\u51b3\u4e8e\u60a8\u9879\u76ee\u7684\u9700\u8981\u3002</p> <p>\u5728Kenneth Reitz\u63a8\u8350\u7684\u9879\u76ee\u5e03\u5c40\u4e2d\uff0c\u8fd8\u7f3a\u5c11\u4e00\u4e9b\u91cd\u8981\u7684\u6587\u4ef6\uff08\u6216\u8005\u76ee\u5f55\uff09\u3002\u8fd9\u4e9b\u662f\u786e\u4fdd\u9879\u76ee\u8d28\u91cf\u4e0d\u53ef\u6216\u7f3a\u7684\u3002\u4e3b\u8981\u662flint\u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0ctox\u914d\u7f6e\u6587\u4ef6\uff0ccodecoverage\u914d\u7f6e\u6587\u4ef6\uff0cCI\u914d\u7f6e\u6587\u4ef6\u7b49\u3002</p>"},{"location":"chap04/#lint\u76f8\u5173\u5de5\u5177\u914d\u7f6e\u6587\u4ef6","title":"lint\u76f8\u5173\u5de5\u5177\u914d\u7f6e\u6587\u4ef6","text":"<p>\u9879\u76ee\u53ef\u80fd\u4f7f\u7528\u5de5\u5177\u5982flake8\u6765\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\uff0c\u4f7f\u7528black\u6765\u8fdb\u884c\u683c\u5f0f\u5316\u3002\u8fd9\u4e9b\u5de5\u5177\u90fd\u4f1a\u5f15\u5165\u914d\u7f6e\u6587\u4ef6\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u7b7e\u5165\u670d\u52a1\u5668\u7684\u4ee3\u7801\u7684\u98ce\u683c\u548c\u8d28\u91cf\uff0c\u53ef\u80fd\u4f1a\u914d\u7f6epre-commit hooks\u3002</p>"},{"location":"chap04/#tox","title":"tox","text":"<p>\u5982\u679c\u4e00\u4e2a\u9879\u76ee\u540c\u65f6\u652f\u6301\u591a\u4e2aPython\u7248\u672c\uff0c\u90a3\u4e48\u5728\u53d1\u5e03\u4e4b\u524d\uff0c\u5f80\u5f80\u9700\u8981\u5728\u5404\u4e2aPython\u73af\u5883\u4e0b\u90fd\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\u3002\u4e3a\u5355\u5143\u6d4b\u8bd5\u81ea\u52a8\u5316\u5730\u6784\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\u5e76\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8fd9\u5c31\u662ftox\u8981\u505a\u7684\u5de5\u4f5c\u3002\u8fd9\u4e5f\u662f\u4e0a\u4e00\u7ae0\u8bb2\u7684\u865a\u62df\u8fd0\u884c\u73af\u5883\u7684\u4e00\u4e2a\u5b9e\u9645\u4f7f\u7528\u6848\u4f8b\u3002</p> <p>\u914d\u7f6e\u4e86tox\u7684\u9879\u76ee\uff0c\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u5f15\u5165tox.ini\u6587\u4ef6\u3002</p>"},{"location":"chap04/#ci","title":"CI","text":"<p>\u5728\u9879\u76ee\u4e2d\u4f7f\u7528CI\u662f\u5c3d\u65e9\u66b4\u9732\u95ee\u9898\uff0c\u907f\u514d\u66f4\u5927\u7684\u635f\u5931\u7684\u6709\u6548\u65b9\u6cd5\u3002\u901a\u8fc7\u4f7f\u7528CI\uff0c\u53ef\u4ee5\u786e\u4fdd\u7a0b\u5e8f\u5458\u7b7e\u5165\u7684\u4ee3\u7801\u5728\u5e76\u5165\u4e3b\u5206\u652f\u4e4b\u524d\uff0c\u662f\u80fd\u591f\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u7684\u3002</p> <p>\u6709\u4e00\u4e9b\u5728\u7ebf\u7684CI\u670d\u52a1\uff0c\u6bd4\u5982appVeyor, travis\u548c\u540e\u8d77\u4e4b\u79c0github actions. \u4f5c\u8005\u6ca1\u6709\u4f7f\u7528\u8fc7AppVeyor\u3002\u5982\u679c\u4f7f\u7528travis\u7684\u8bdd\uff0c\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u653e\u7f6etravis.yml\u8fd9\u4e2a\u6587\u4ef6\u3002\u5982\u679c\u4f7f\u7528github actions\uff0c\u5219\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u7684.github/workflows/\u4e2d\u653e\u7f6e\u914d\u7f6e\u6587\u4ef6\uff0cgithub\u5bf9\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\u6ca1\u6709\u8981\u6c42\u3002</p>"},{"location":"chap04/#codecoverage","title":"codecoverage","text":"<p>\u6211\u4eec\u9700\u8981\u901a\u8fc7code coverage\u6765\u5ea6\u91cf\u5355\u5143\u6d4b\u8bd5\u7684\u5f3a\u5ea6\u3002\u4e00\u4e9b\u4f18\u79c0\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u5176code coverage\u751a\u81f3\u53ef\u4ee5\u505a\u5230100%\uff08\u5f53\u7136\u5141\u8bb8\u5408\u7406\u5730\u6392\u9664\u4e00\u4e9b\u4ee3\u7801\uff09\u3002\u5728Python\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528coverage.py\u6765\u8fdb\u884c\u4ee3\u7801\u8986\u76d6\u6d4b\u8bd5\u3002\u6d4b\u8bd5\u6846\u67b6\u6bd4\u5982pytest\u90fd\u4f1a\u96c6\u6210\u5b83\uff0c\u65e0\u987b\u5355\u72ec\u8c03\u7528\uff0c\u4f46\u4e00\u822c\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u914d\u7f6e.coveragerc\u3002</p> <p>\u4f5c\u4e3a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u53d1\u5e03\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u62a5\u544a\uff0c\u4ee5\u4fbf\u7ed9\u4f7f\u7528\u8005\u66f4\u5f3a\u7684\u4fe1\u5fc3\u3002[Codecov]\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u5e73\u53f0\u3002\u4e00\u822c\u6211\u4eec\u5728CI\u4e2d\u914d\u7f6e\u5b83\u3002\u6240\u4ee5\u8fd9\u90e8\u5206\u914d\u7f6e\u4f1a\u4f53\u73b0\u5728CI\u7684\u914d\u7f6e\u6587\u6863\u4e2d\u3002</p> <p>\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u8005\u4f1a\u53d1\u73b0\uff0c\u4e00\u4e2a\u6210\u719f\u7684\u9879\u76ee\uff0c\u5f80\u5f80\u8fd8\u5305\u62ec\u66f4\u591a\u914d\u7f6e\u6587\u4ef6\uff0c\u8fdc\u8fdc\u4e0d\u6b62Kenneth Reitz\u63a8\u8350\u7684\u8fd9\u4e9b\u3002\u6bd4\u5982\uff0clint\u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0ctox\u914d\u7f6e\u6587\u4ef6\uff0ccodecoverage\u914d\u7f6e\u6587\u4ef6\uff0cCI\u914d\u7f6e\u6587\u4ef6\u7b49\u7b49\u3002\u5b9e\u9645\u4e0a\uff0c\u8981\u624b\u52a8\u751f\u6210\u4e00\u4e2a\u89c4\u8303\u7684\u9879\u76ee\u6846\u67b6\u5e76\u4e0d\u5bb9\u6613\u3002\u8981\u7406\u89e3\u6bcf\u79cd\u5de5\u5177\u7684\u4f5c\u7528\uff0c\u5e76\u4e14\u914d\u7f6e\u597d\u5b83\u4eec\u4f7f\u4e4b\u80fd\u534f\u540c\u5de5\u4f5c\uff0c\u9700\u8981\u4e00\u5b9a\u7684\u7ecf\u9a8c\uff0c\u5728\u8bb8\u591a\u5f00\u53d1\u7ec4\u91cc\uff0c\u642d\u67b6\u5b50\u7684\u5de5\u4f5c\u4e00\u822c\u7531dev lead\u6765\u8fdb\u884c\uff0c\u8fd9\u4e5f\u662f\u6709\u5176\u4f9d\u636e\u7684\u3002\u56e0\u6b64\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc\u6765\u751f\u6210\u9879\u76ee\u5e03\u5c40\u5e76\u5b8c\u6210\u914d\u7f6e\u3002</p> <p>Readmore</p> <p>\u4e00\u4e9b\u5de5\u5177\u7684\u9ed8\u8ba4\u914d\u7f6e\u53ef\u80fd\u4f1a\u76f8\u4e92\u51b2\u7a81\uff0c\u8fd9\u4e5f\u662f\u5f88\u5e38\u89c1\u7684\u73b0\u8c61\u3002\u56e0\u4e3a\u5927\u5bb6\u5bf9\u4ec0\u4e48\u662f\u6700\u4f18\u7684\u6280\u672f\u8def\u7ebf\u90fd\u6709\u81ea\u5df1\u7684\u7406\u89e3\u3002\u6bd4\u5982flak8\u4e0eblack\u4e4b\u95f4\uff0c\u5bf9\u4ec0\u4e48\u662f\u6b63\u786e\u7684\u4ee3\u7801\uff0c\u6709\u4e00\u4e9b\u5730\u65b9\u770b\u6cd5\u5c31\u4e0d\u4e00\u81f4\uff0c\u4ece\u800c\u5bfc\u81f4black\u683c\u5f0f\u5316\u7684\u4ee3\u7801\uff0c\u603b\u662f\u901a\u4e0d\u8fc7flak8\u7684\u68c0\u67e5\u3002\u56e0\u6b64\uff0c\u5982\u4f55\u4f7f\u5f97\u5de5\u5177\u4e4b\u95f4\u76f8\u4e92\u534f\u8c03\uff0c\u4e5f\u662f\u65b0\u5efa\u9879\u76ee\u65f6\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\u7684\u4e8b\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u7ed3\u5408\u9879\u76ee\u751f\u6210\u5411\u5bfc\uff0c\u6765\u4ecb\u7ecd\u66f4\u591a\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"chap04/#\u9879\u76ee\u751f\u6210\u5411\u5bfc---python-project-wizard","title":"\u9879\u76ee\u751f\u6210\u5411\u5bfc - Python Project Wizard","text":"<p>\u5982\u679c\u60a8\u6709\u5176\u5b83\u8bed\u8a00\u7684\u5f00\u53d1\u7ecf\u9a8c\uff0c\u60a8\u4f1a\u53d1\u73b0\u8c61visual studio\uff0c \u6216\u8005IntelliJ\u8fd9\u6837\u7684\u5f00\u53d1\u5de5\u5177\u6709\u8f83\u597d\u7684\u5411\u5bfc\uff0c\u60a8\u53ea\u9700\u8981\u70b9\u51fb\u4e00\u4e9b\u6309\u94ae\uff0c\u586b\u5199\u4e00\u4e9b\u4fe1\u606f\uff0c\u5c31\u80fd\u7acb\u523b\u751f\u6210\u4e00\u4e2a\u80fd\u7f16\u8bd1\u7684\u9879\u76ee\u3002\u5728Python\u4e16\u754c\u4e2d\uff0c\u5f88\u9057\u61be\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u5f00\u53d1\u5de5\u5177\uff08\u65e0\u8bba\u662fvscode\u8fd8\u662fpycharm)\u63d0\u4f9b\u8fd9\u6837\u7684\u529f\u80fd\u3002</p>"},{"location":"chap04/#cookiecutter","title":"cookiecutter","text":"<p>\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\uff0ccookiecutter\uff0c\u53ef\u4ee5\u5e2e\u6211\u4eec\u751f\u6210\u5404\u79cd\u9879\u76ee\u7684\u67b6\u5b50\u3002</p> <p>Readmore</p> <p>\u73b0\u5728\u7684\u8d8b\u52bf\u662f\uff0c\u9664\u4e86IDE\u4e4b\u5916\uff0c\u4e00\u4e9b\u6846\u67b6\u548c\u5de5\u5177\u672c\u8eab\u4e5f\u5728\u63d0\u4f9b\u751f\u6210\u5411\u5bfc\u3002\u6bd4\u5982js\u4e2d\u7684vue\u3002\u672c\u6587\u4e2d\u591a\u6b21\u63d0\u5230\u7684Poetry\u4e5f\u6709\u751f\u6210\u6846\u67b6\u7a0b\u5e8f\u7684\u529f\u80fd\uff0c\u4e0d\u8fc7\uff0c\u5b83\u5e76\u4e0d\u80fd\u63d0\u4f9b\u4e0a\u6587\u4ecb\u7ecd\u7684\u6240\u6709\u8fd9\u4e9b\u6587\u4ef6\u7684\u6a21\u677f\uff0c\u66f4\u4e0d\u8981\u63d0\u81ea\u5b9a\u4e49\u5b83\u4eec\u3002</p> <p>cookiecutter\u4e00\u8bcd\u7684\u672c\u610f\u662f\u997c\u5e72\u5236\u9020\u673a\u3002\u5728\u8fd9\u91cc\uff0ccookiecutter\u662f\u4e00\u4e2a\u751f\u4ea7\u9879\u76ee\u6a21\u677f\u7684\u57fa\u7840\u6846\u67b6\uff0c\u7406\u8bba\u4e0a\u53ef\u7528\u4ee5\u751f\u6210\u4efb\u4f55\u5f00\u53d1\u8bed\u8a00\u7684\u9879\u76ee\u6846\u67b6\u3002\u901a\u8fc7cookiecutter,\u7ed3\u5408\u5404\u79cd\u4e8b\u5148\u5b9a\u4e49\u597d\u7684\u5de5\u7a0b\u6a21\u677f\uff0c\u5c31\u53ef\u4ee5\u5feb\u901f\u5b9a\u5236\u51fa\u81ea\u5df1\u60f3\u8981\u7684\u9879\u76ee\u6846\u67b6\u3002</p> <p>cookiecutter-pypackage\u662f\u9075\u5faacookiecutter\u89c4\u8303\u5f00\u53d1\u7684\u4e00\u4e2a\u751f\u6210Python\u9879\u76ee\u7684\u6a21\u677f\uff0c\u5b83\u5728github\u4e0a\u6709\u8d85\u8fc73k\u7684stars\u3002</p> <p>\u5728<code>cookiecutter-pypackage</code>\u751f\u6210\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u8be2\u95ee\u5f00\u53d1\u8005\u7684\u540d\u5b57\u3001\u7535\u90ae\u3001\u9879\u76ee\u540d\u79f0\uff0c\u8bb8\u53ef\u8bc1\u7c7b\u578b\uff08\u4f1a\u8ba9\u4f60\u5728MIT\uff0cBSD\u7b49\u597d\u51e0\u79cd\u77e5\u540d\u7684\u8bb8\u53ef\u8bc1\u6a21\u5f0f\u4e2d\u9009\u62e9\uff0c\u5e76\u63d0\u4f9b\u6807\u51c6\u7684LICENSE\u6587\u672c\uff09\uff0c\u662f\u5426\u96c6\u6210click\u8fd9\u4e2a\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u662f\u5426\u751f\u6210console script\u7b49\u3002\u56de\u7b54\u5b8c\u6210\u8fd9\u4e9b\u95ee\u9898\u4e4b\u540e\uff0c\u60a8\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u6846\u67b6\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u7acb\u523b\u7f16\u8bd1\u5e76\u53d1\u5e03\u5b83\uff0c\u5305\u62ec\u6587\u6863\u3002</p>"},{"location":"chap04/#python-project-wizard","title":"python project wizard","text":"<p>cookiecutter-pypackage\u6240\u4f7f\u7528\u7684\u6280\u672f\u5e76\u4e0d\u5b8c\u5168\u7b26\u5408\u73b0\u5728\u7684\u793e\u533a\u89c4\u8303\uff0c\u6240\u4ee5\u672c\u4e66\u4f5c\u8005\u57fa\u4e8e\u8fd9\u4e2arepo\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u6a21\u677f\uff0c\u5b83\u5177\u6709\u8fd9\u4e9b\u529f\u80fd\uff1a</p> <ol> <li>\u63d0\u4f9bREADME\uff0cAUTHORS, LICENSE, HISTORY\u7b49\u6587\u4ef6\u7684\u6a21\u5757\uff0c\u5e76\u6839\u636e\u60a8\u63d0\u4f9b\u7684\u76f8\u5173\u4fe1\u606f\u8fdb\u884c\u5b9a\u5236\u5316\u3002</li> <li>\u7ba1\u7406\u9879\u76ee\u7684\u7248\u672c\u548c\u4f9d\u8d56\uff0c\u8fdb\u884c\u6784\u5efa\u548c\u53d1\u5e03\u3002\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7[poetry]\u8fd9\u4e2a\u5de5\u5177\u6765\u5b8c\u6210\u7684\u3002</li> <li>\u5141\u8bb8\u60a8\u4f7f\u7528\u7b80\u4fbf\u7684Markdown\u8bed\u6cd5\u6765\u64b0\u5199\u5e2e\u52a9\u6587\u6863\uff0c\u5e76\u81ea\u52a8\u4ece\u4ee3\u7801\u4e2d\u63d0\u53d6\u6ce8\u91ca\u751f\u6210API\u6587\u6863\uff0c\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7[Mkdocs]\u548c[Mkdocstrings]\u6765\u5b9e\u73b0\u7684\u3002</li> <li>\u672c\u5730\u5355\u5143\u6d4b\u8bd5\u7684\u591aPython\u7248\u672c\u7684\u77e9\u9635\u5f0f\u8986\u76d6\u3002\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7[Tox]\u548c[Pytest]\u6765\u5b8c\u6210\u7684\u3002\u540c\u65f6\uff0c\u8fd9\u4e00\u9636\u6bb5\u8fd8\u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u6784\u5efa\u7269\u683c\u5f0f\u6d4b\u8bd5\uff0c\u786e\u4fdd\u4ee3\u7801\u98ce\u683c\u5b8c\u5168\u7b26\u5408\u9879\u76ee\u7ea6\u5b9a\uff0c\u4ee3\u7801\u8d28\u91cf\u7b26\u5408\u8981\u6c42\u3002</li> <li>\u5728\u4ee3\u7801\u98ce\u683c\u5f3a\u5316\u65b9\u9762\uff0c\u901a\u8fc7[Black]\u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u4f7f\u7528[Isort]\u6765\u683c\u5f0f\u5316import\u4ee3\u7801\u6bb5\uff0c\u4f7f\u7528[Flake8]\u548c[Flake8-docstrings]\u6765\u68c0\u67e5\u8bed\u6cd5\u548c\u6587\u6863\u683c\u5f0f\u3002</li> <li>\u901a\u8fc7Pre-commit hooks\u5728\u4ee3\u7801\u7b7e\u5165\u65f6\uff0c\u5f3a\u5236\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\u548c\u683c\u5f0f\u5316\u3002</li> <li>\u4f7f\u7528Python Fire\u6765\u751f\u6210\u547d\u4ee4\u884c\u63a5\u53e3\uff08console script)\u3002[Python Fire]\u8981\u6bd4[Click]\u66f4\u7b80\u5355\u6613\u7528\u3002\u60a8\u57fa\u672c\u4e0a\u65e0\u987b\u8fdb\u884c\u5b66\u4e60\u5373\u53ef\u4e0a\u624b\u3002</li> <li>\u4f7f\u7528[Github Actions]\u6765\u8fdb\u884cCI\uff0c\u5b9e\u73b0\u5728\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3001\u591a\u4e2apython\u7248\u672c\u4e0b\u7684\u77e9\u9635\u5f0f\u6d4b\u8bd5\u8986\u76d6\uff0c\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u548c\u6784\u5efa\u7269\uff0c\u751f\u6210codecoverage report\uff0c\u5e76\u81ea\u52a8\u4e0a\u4f20\u5230[Codecov]</li> <li>\u4f7f\u7528[Git Pages]\u6765\u6258\u7ba1\u60a8\u7684\u6587\u6863</li> </ol> <p>Readmore</p> <p>\u8fd9\u91cc\u63d0\u5230\u4e86\u5f88\u591a\u6982\u5ff5\uff0c\u5f88\u53ef\u80fd\u60a8\u8fd8\u662f\u7b2c\u4e00\u6b21\u63a5\u89e6\u3002\u6211\u4eec\u5148\u4ecb\u7ecd\u4e00\u5c0f\u90e8\u5206\u3002</p> <p>\u4ec0\u4e48\u662f\u6784\u5efa\u7269(artifact)\u6d4b\u8bd5\uff1f\u5f53\u60a8\u53d1\u5e03\u6784\u5efa\u597d\u7684\u7a0b\u5e8f\u5e93\u5230PyPI\u65f6\uff0c\u6709\u53ef\u80fd\u56e0\u4e3a\u683c\u5f0f\u95ee\u9898\u88ab\u62d2\u7edd\u3002Twine\u5de5\u5177\u53ef\u4ee5\u5bf9artifact\u8fdb\u884c\u68c0\u67e5\uff0c\u63d0\u524d\u53d1\u73b0\u8fd9\u79cd\u9519\u8bef\u3002</p> <p>console script\u662fPython\u7684\u5206\u53d1\u5305\u7684\u4e00\u79cd\u529f\u80fd\uff0c\u5141\u8bb8\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u6307\u5b9a\u7684python\u811a\u672c\u5b89\u88c5\u5230\u7528\u6237\u53ef\u6267\u884c\u7a0b\u5e8f\u8def\u5f84\u4e0b,\u76f4\u63a5\u4ece\u547d\u4ee4\u884c\u8c03\u7528\uff0c\u5c31\u8c61\u539f\u751f\u7684shell\u547d\u4ee4\u4e00\u6837\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u901a\u8fc7CI\u6765\u8fdb\u884c\u7248\u672c\u53d1\u5e03\uff1f\u4ece\u5f00\u53d1\u673a\u5668\u4e0a\u8fdb\u884c\u53d1\u5e03\u6709\u5f88\u5927\u7684\u968f\u610f\u6027\uff0c\u96be\u4ee5\u786e\u4fdd\u53d1\u5e03\u5305\u7684\u8d28\u91cf\u3002\u5f53\u60a8\u7684\u4ee3\u7801\u7b7e\u5165\u5230main/master\u5206\u652f\uff0c\u901a\u8fc7\u6d4b\u8bd5\u540e\uff0c\u60a8\u7ed9\u5206\u652f\u6253\u4e0atag\uff0c\u8fd9\u65f6\u5c31\u4f1a\u89e6\u53d1\u81ea\u52a8\u53d1\u5e03\u3002\u8fd9\u6837\u53d1\u5e03\u7684\u5305\u53ef\u4ee5\u786e\u4fdd\u8d28\u91cf\u3002</p> <p>\u4ece\u4e0a\u9762\u7684\u529f\u80fd\u4ecb\u7ecd\u53ef\u4ee5\u770b\u51fa\uff0cPython Project Wizard\u4e0d\u4ec5\u4ec5\u5e2e\u52a9\u6211\u4eec\u751f\u6210\u9879\u76ee\u7684\u521d\u59cb\u5e03\u5c40\uff0c\u5b83\u8fd8\u662f\u4e00\u7cfb\u5217\u89c4\u8303\u548c\u6d41\u7a0b\u7684\u5021\u5bfc\u8005\uff0c\u5e76\u901a\u8fc7\u5de5\u5177\u914d\u7f6e\u548c\u81ea\u52a8\u5316\u4f7f\u8fd9\u4e9b\u89c4\u8303\u548c\u6d41\u7a0b\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u88ab\u4e25\u683c\u9075\u5faa\u3002\u5982\u679c\u60a8\u4e0d\u9075\u5faa\u8fd9\u4e9b\u89c4\u8303\uff0c\u90a3\u4e48\uff0c\u60a8\u7684\u4ee3\u7801\u5c06\u4e0d\u4f1a\u88ab\u7b7e\u5165\u4ee3\u7801\u4ed3\u5e93\uff0c\u4e5f\u6c38\u8fdc\u4e0d\u80fd\u81ea\u52a8\u53d1\u5e03\u5230pypi\u4e0a\u9762\u3002</p> <p>\u8fd9\u4e2a\u5411\u5bfc\u5de5\u5177\u7684\u6587\u6863\u5728\u8fd9\u91cc\u3002</p>"},{"location":"chap04/#\u5982\u4f55\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc","title":"\u5982\u4f55\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":""},{"location":"chap04/#1-\u5b89\u88c5python-project-wizard-ppw","title":"1. \u5b89\u88c5python project wizard (ppw)","text":"<p>\u9996\u5148\uff0c\u4e3a\u6211\u4eec\u7684\u65b0\u5de5\u7a0b\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5c31\u53ebsample\u597d\u4e86\uff1a <pre><code>conda create -n sample python=3.10\n</code></pre> \u7136\u540e\uff0c\u5728sample\u865a\u62df\u73af\u5883\u4e0b\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a <pre><code>pip install ppw\n</code></pre></p>"},{"location":"chap04/#2-\u751f\u6210\u9879\u76ee","title":"2. \u751f\u6210\u9879\u76ee","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>ppw</code>\u6765\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</p> <p><pre><code>ppw\n</code></pre> \u8fd9\u91cc\u4f1a\u63d0\u793a\u8f93\u5165\u4e00\u4e9b\u4fe1\u606f\u3002 </p> <p>\u6ce8\u610fproject_slug\u662fgithub repo\u7684\u540d\u5b57\uff0c\u9ed8\u8ba4\u4e5f\u662f\u60a8\u7684\u7a0b\u5e8f\u5e93\u7684\u540d\u5b57\u3002\u4e0d\u80fd\u6709\u7a7a\u683c\u548c\"-\"\u3002</p> <p>\u6700\u540e\uff0cppw\u63d0\u793a\u4f60\uff0c\u662f\u5426\u8981\u521b\u5efa\u5f00\u53d1\u73af\u5883\uff0c\u9ed8\u8ba4\u662f'yes'\u3002\u5b83\u5c06\u4e3a\u60a8\u5b89\u88c5pre-commit hooks, \u5b89\u88c5poetry\u548c\u9879\u76ee\u4f9d\u8d56\u3002\u5982\u679c\u60a8\u4e0d\u6e05\u695a\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\uff0c\u6211\u4eec\u5c06\u5728\u7a0d\u540e\u7684\u7ae0\u8282\u4e2d\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"chap04/#\u5b89\u88c5pre-commit-hooks","title":"\u5b89\u88c5pre-commit hooks","text":"<p>\u5982\u679c\u60a8\u5728ppw\u751f\u6210\u547d\u4ee4\u65f6\uff0c\u9009\u62e9\u4e86init_dev_env\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u5df2\u7ecf\u81ea\u52a8\u8fd0\u884c\u8fc7\u4e86\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u6b63\u597d\u501f\u6b64\u673a\u4f1a\u6765\u4ecb\u7ecd\u4e00\u4e0binit_dev_env\u5177\u4f53\u505a\u4e86\u4ec0\u4e48\u3002</p> <p>pre-commit hooks\u662fgit\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5b83\u5141\u8bb8\u901a\u8fc7\u914d\u7f6e\u4e00\u4e9b\u68c0\u67e5\u94a9\u5b50\uff0c\u4f7f\u5f97\u60a8\u7684\u4ee3\u7801\u5728\u4e0a\u4f20\u5230\u4ed3\u5e93\u4e4b\u524d\uff0c\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u57fa\u7840\u7684\u8bed\u6cd5\u548c\u98ce\u683c\u68c0\u67e5\uff0c\u907f\u514d\u5c06\u4e0d\u5408\u683c\u7684\u4ee3\u7801\u6df7\u5165\u5230\u4ed3\u5e93\u4e2d\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u901a\u8fc7\u8fd0\u884c\u547d\u4ee4<code>pre-commit install</code>\u6765\u5b89\u88c5\u94a9\u5b50\u3002\u5f53<code>ppw</code>\u88ab\u5b89\u88c5\u65f6\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u5c31\u968f\u4e4b\u5b89\u88c5\u5230\u60a8\u7684\u865a\u62df\u73af\u5883\u4e2d\u4e86\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u5728ppw\u547d\u4ee4\u751f\u6210\u65f6\uff0c\u6ca1\u6709\u9009\u62e9init_dev_env\u7684\u8bdd\uff0c\u73b0\u5728\u4e5f\u53ef\u4ee5\u624b\u52a8\u8fd0\u884c\u8fd9\u4e2a\u547d\u4ee4\u3002</p>"},{"location":"chap04/#\u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56_1","title":"\u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56","text":"<p>\u5982\u679c\u60a8\u5728ppw\u751f\u6210\u547d\u4ee4\u65f6\uff0c\u9009\u62e9\u4e86init_dev_env\u7684\u8bdd\uff0c\u540cpre-commit hooks\u4e00\u6837\uff0c\u8fd9\u4e00\u6b65\u4e5f\u81ea\u52a8\u8fd0\u884c\u8fc7\u4e86\u3002</p> <p>\u6a21\u677f\u4f7f\u7528Poetry\u6765\u8fdb\u884c\u9879\u76ee\u7ba1\u7406\uff0c\u5e76\u5c06\u9879\u76ee\u7684\u5f00\u53d1\u4f9d\u8d56\u5206\u6210dev, test, doc\u7b49\u4e09\u4e2a\u7ec4\uff0c\u8fd9\u6837\u4f9d\u8d56\u7684\u7c92\u5ea6\u66f4\u5c0f\u4e00\u4e9b\u3002\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5e94\u8be5\u540c\u65f6\u5b89\u88c5\u8fd9\u4e09\u7ec4\u4f9d\u8d56\u3002</p> <p><pre><code>pip install poetry\npoetry install -E doc -E test -E dev\ntox\n</code></pre> \u5728\u5b89\u88c5\u597d\u5f00\u53d1\u4f9d\u8d56\u4e4b\u540e\uff0c\u6211\u4eec\u7acb\u5373\u8fd0\u884c\u4e86<code>tox</code>\u547d\u4ee4\uff0c\u5bf9\u65b0\u751f\u6210\u7684\u6846\u67b6\u7a0b\u5e8f\u8fdb\u884c\u6d4b\u8bd5\u3002\u547d\u4ee4\u6700\u540e\u4f1a\u7ed9\u51fa\u4e00\u4e2a\u6d4b\u8bd5\u62a5\u544a\u548clint report\u3002\u4e0d\u51fa\u610f\u5916\uff0c\u8fd9\u91cc\u4e0d\u5e94\u8be5\u6709\u4efb\u4f55\u9519\u8bef\uff08\u4f46\u53ef\u80fd\u4f1a\u6709\u91cd\u65b0\u683c\u5f0f\u5316\u7684\u8b66\u544a)\u3002</p>"},{"location":"chap04/#\u521b\u5efagithub-repo_1","title":"\u521b\u5efaGithub Repo","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u7ed3\u6784\u826f\u597d\u7684\u6846\u67b6\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u7acb\u523b\u57fa\u4e8e\u5b83\u8fdb\u884c\u529f\u80fd\u5f00\u53d1\u3002\u4f46\u662f\uff0c\u4e00\u4e2a\u5b8c\u6574\u7684\u5f00\u53d1\u6d41\u7a0b\uff0c\u8fd8\u81f3\u5c11\u5305\u62ec\u4ee3\u7801\u7ba1\u7406\u3001CI\u548c\u53d1\u5e03\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u770b\u770b\u5e94\u8be5\u5982\u4f55\u5904\u7406\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u4f7f\u7528github\u4f5c\u4e3a\u4ee3\u7801\u4ed3\u5e93\u3002\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528gitlab\u6216\u8005\u5176\u5b83\u7684\u4ee3\u7801\u4ed3\u5e93\u3002\u4f46\u662f\uff0cgithub\u662f\u4e00\u4e2a\u514d\u8d39\u7684\u670d\u52a1\uff0c\u4eba\u4eba\u90fd\u80fd\u4f7f\u7528\uff0c\u4e5f\u65e0\u987b\u5b89\u88c5\u8bbe\u7f6e\u3002\u56e0\u6b64\uff0c\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u90fd\u5c3d\u53ef\u80fd\u5730\u4f7f\u7528\u8fd9\u4e9b\u514d\u8d39\u670d\u52a1\u3002</p> <p>\u767b\u5f55\u5230github,\u521b\u5efa\u4e00\u4e2a\u540d\u4e3asample\u7684repo\uff08sample\u5373\u4e3aproject_slug)\u3002\u7136\u540e\u5728\u672c\u673a\u8fdb\u5165sample\u76ee\u5f55\uff0c\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>cd sample\n\n# git init\ngit add .\ngit commit -m \"Initial skeleton.\"\ngit branch -M main\ngit remote add origin git@github.com:myusername/sample.git\ngit push -u origin main\n</code></pre>"},{"location":"chap04/#\u8fdb\u884c\u53d1\u5e03\u6d4b\u8bd5","title":"\u8fdb\u884c\u53d1\u5e03\u6d4b\u8bd5","text":"<p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u5411testpypi\u8fdb\u884c\u53d1\u5e03\u6765\u6d4b\u8bd5\u6784\u5efa\u8fc7\u7a0b\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e00\u6b65\u3002</p> <p>\u5173\u4e8e\u8fd9\u4e00\u6b65\uff0c\u8bf7\u53c2\u89c1\u6587\u6863</p>"},{"location":"chap04/#\u8bbe\u7f6egithub-ci_1","title":"\u8bbe\u7f6eGithub CI","text":"<p>\u60a8\u4e5f\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\u8fd9\u4e00\u6b65\uff0c\u4f46\u662f\u5f3a\u70c8\u5efa\u8bae\u60a8\u5b8c\u6210\u5b83\u3002</p> <p>\u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\u4e2d\u5df2\u7ecf\u5305\u62ec\u4e86\u5fc5\u8981\u7684CI\u6b65\u9aa4\uff0c\u5982\u8c03\u7528tox\u8fdb\u884c\u6d4b\u8bd5\uff0c\u53d1\u5e03\u6587\u6863\u548c\u53d1\u884c\u5305\u3002\u4f46\u662f\u9700\u8981\u60a8\u914d\u7f6e\u4e00\u4e9b\u8d26\u6237\u3002\u60a8\u9700\u8981\u751f\u6210github\u7684personal token\uff0c\u5e76\u5728repo &gt; settings &gt; secrets\u4e2d\uff0c\u65b0\u589e\u4e00\u4e2a\u540d\u4e3a<code>PESONAL_TOKEN</code>\u7684\u73af\u5883\u53d8\u91cf\uff0c\u5176\u503c\u8bbe\u7f6e\u4e3a\u60a8\u7684token\u3002</p> <p>\u60a8\u9700\u8981\u5728test pypi\u548cpypi\u4e0a\u7533\u8bf7\u90e8\u7f72\u7528token\uff0c\u5e76\u8c61\u521a\u521a\u8bbe\u7f6egithub token\u4e00\u6837\uff0c\u65b0\u589e<code>TEST_PYPI_API_TOKEN</code>\u548c<code>PYPI_API_TOKEN</code>\u8fd9\u4e24\u4e2a\u53d8\u91cf\u3002</p> <p>\u5f53\u60a8\u5b8c\u6210\u4e0a\u8ff0\u8bbe\u7f6e\u540e\uff0c\u4ee5\u540e\u6bcf\u6b21\u5c06\u4ee3\u7801\u63a8\u9001\u5230github\u4e0a\u7684\u4efb\u4f55\u5206\u652f\uff0c\u90fd\u4f1a\u89e6\u53d1CI\uff0c\u5e76\u5728\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u5411testpypi\u8fdb\u884c\u53d1\u5e03\uff1b\u5f53main\u5206\u652f\u7b7e\u5165\u4ee3\u7801\uff0c\u5e76\u4e14\u6253\u4e86tag\u65f6\uff0c\u5219\u5728\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u5411pypi\u8fdb\u884c\u53d1\u5e03\u3002</p>"},{"location":"chap04/#\u8bbe\u7f6ecodecov_1","title":"\u8bbe\u7f6eCodecov","text":"<p>CI\u5df2\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u53d1\u5e03codecoverage report\uff0c\u4f46\u9700\u8981\u60a8\u5728[codecov]\u4e0a\u5bfc\u5165\u60a8\u7684repo\u5e76\u6388\u6743\u3002</p>"},{"location":"chap04/#\u8bbe\u7f6egit-pages","title":"\u8bbe\u7f6egit pages","text":"<p>CI\u5df2\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u5230git pages\u3002\u4f46\u60a8\u9700\u8981\u5728\u60a8\u7684\u9879\u76ee\u4e2d\u542f\u7528\u5b83\u3002\u542f\u7528\u7684\u65b9\u6cd5\u662f\uff0c\u5728 repo &gt; settings &gt; pages\u4e2d\uff0c\u9009\u4e2d\u4ee5\u4e0b\u4e24\u9879\uff1a</p> <p></p>"},{"location":"chap04/#\u81ea\u52a8\u5316\u811a\u672c","title":"\u81ea\u52a8\u5316\u811a\u672c","text":"<p>\u5bf9\u521d\u6b21\u4f7f\u7528github\u7684\u4eba\u6765\u8bf4\uff0c\u4ece\u521b\u5efagit\u4ed3\u5e93\u5f00\u59cb\u7684\u4e00\u4e9b\u64cd\u4f5c\u53ef\u80fd\u4f1a\u6bd4\u8f83\u56f0\u96be\uff1b\u5373\u4f7f\u662f\u5bf9\u719f\u7ec3\u4f7f\u7528github\u7684\u4eba\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u4e5f\u4f1a\u6bd4\u8f83\u7e41\u7410\u6613\u9519\u3002\u56e0\u6b64\uff0c\u5728python project wizard\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u90fd\u4f1a\u5b58\u5728\u4e00\u4e2agithub.sh\u811a\u672c:</p> <pre><code>#!/bin/bash\n\n# !!!NOTICE!!\n# Personal token with full access rights is required to run this scripts\n# Once you got persona token, set enviroment variable GH_TOKEN with it\n\n# uncomment the following to create repo and push code to github\n# gh repo create sample --public\n# git remote add origin git@github.com:zillionare/sample.git\n# git add .\n# pre-commit run --all-files\n# git add .\n# git commit -m \"Initial commit by ppw\"\n# git branch -M main\n\n# Uncomment the following to config github secret used by github workflow. \n# gh secret set PERSONAL_TOKEN --body $GH_TOKEN\n# gh secret set PYPI_API_TOKEN --body $PYPI_API_TOKEN\n# gh secret set TEST_PYPI_API_TOKEN --body $TEST_PYPI_API_TOKEN\n\n# uncomment the following if you need to setup email notification\n# gh secret set BUILD_NOTIFY_MAIL_SERVER --body $BUILD_NOTIFY_MAIL_SERVER\n# gh secret set BUILD_NOTIFY_MAIL_PORT --body $BUILD_NOTIFY_MAIL_PORT\n# gh secret set BUILD_NOTIFY_MAIL_FROM --body $BUILD_NOTIFY_MAIL_FROM\n# gh secret set BUILD_NOTIFY_MAIL_PASSWORD --body $BUILD_NOTIFY_MAIL_PASSWORD\n# gh secret set BUILD_NOTIFY_MAIL_RCPT --body $BUILD_NOTIFY_MAIL_RCPT\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u8fd9\u4e9b\u4efb\u52a1\uff1a 1. \u521b\u5efagithub\u4ed3\u5e93\uff0c\u5e76\u5c06\u4ee3\u7801\u63a8\u9001\u5230github 2. \u5411github\u4ed3\u5e93\u6dfb\u52a0\u4e2a\u4ebatoken\uff08PERSONAL_TOKEN\uff09\uff0cpypi\u53d1\u5e03\u7684API token\uff0ctest pypi\u53d1\u5e03\u7684API token\u3002 3. \u6ce8\u518c\u90ae\u4ef6\u901a\u77e5\u3002\u5f53Github CI\u6267\u884c\u5b8c\u6210\u540e\uff0c\u65e0\u8bba\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u90fd\u4f1a\u5411\u60a8\u6ce8\u518c\u7684\u90ae\u7bb1\u91cc\u53d1\u9001\u4e00\u5c01\u901a\u77e5\u90ae\u4ef6\u3002</p> <p>\u8981\u8fd0\u884c\u4e0a\u8ff0\u811a\u672c\uff0c\u60a8\u9700\u8981\u5b8c\u6210\u4e24\u4ef6\u4e8b\uff1a 1. \u5b89\u88c5github cli\u5de5\u5177\u3002\u8bf7\u53c2\u8003\u5b89\u88c5\u6307\u5357 2. \u7533\u8bf7\u4e00\u4e2aGitHub\u7684\u4e2a\u4ebatoken\uff08\u5168\u90e8\u6743\u9650\uff09\uff0c\u7136\u540e\u5c06\u8fd9\u4e2atoken\u901a\u8fc7\u73af\u5883\u53d8\u91cfGH_TOKEN\u66b4\u9732\u7ed9\u811a\u672c\u3002\u53ea\u6709\u8fd9\u6837\uff0c\u811a\u672c\u624d\u80fd\u521b\u5efagithub\u4ed3\u5e93\uff0c\u5e76\u8bbe\u7f6e\u5176\u5b83token\u3002</p>"},{"location":"chap04/#ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868","title":"ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868","text":"<p>\u73b0\u5728\uff0c\u4e00\u4e2a\u89c4\u8303\u7684\u65b0\u9879\u76ee\u5c31\u5df2\u7ecf\u521b\u5efa\u597d\uff0c\u60a8\u5df2\u7ecf\u62e5\u6709\u4e86\u5f88\u591a\u9177\u70ab\u7684\u529f\u80fd\uff0c\u6bd4\u5982CI\uff0ccodecov, git pages\uff0cpoetry\uff0c\u57fa\u4e8emarkdown\u7684\u6587\u6863\u7b49\u7b49\u3002\u60a8\u65b0\u751f\u6210\u7684\u9879\u76ee\uff0c\u5e94\u8be5\u770b\u8d77\u6765\u8c61\u8fd9\u6837\uff1a <pre><code>.\n\u251c\u2500\u2500 .coveragerc\n\u251c\u2500\u2500 .docstring.tpl\n\u251c\u2500\u2500 .editorconfig\n\u251c\u2500\u2500 .flake8\n\u251c\u2500\u2500 .git\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 hooks\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-commit\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 .github\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ISSUE_TEMPLATE.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 workflows\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 dev.yml\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 release.yml\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .isort.cfg\n\u251c\u2500\u2500 .pre-commit-config.yaml\n\u251c\u2500\u2500 AUTHORS.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 HISTORY.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 authors.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 history.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 usage.md\n\u251c\u2500\u2500 mkdocs.yml\n\u251c\u2500\u2500 poetry.lock\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 pyrightconfig.json\n\u251c\u2500\u2500 repo.sh\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 py.typed\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test_app.py\n\u2514\u2500\u2500 tox.ini\n</code></pre> \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5e26\u9886\u60a8\u6df1\u5165\u8fd9\u4e9b\u5de5\u5177\uff0c\u4e86\u89e3\u4e3a\u4ec0\u4e48\u5728\u4f17\u591a\u5de5\u5177\u4e2d\uff0c\u9009\u62e9\u4e86\u8fd9\u4e00\u79cd\uff0c\u5e94\u8be5\u5982\u4f55\u914d\u7f6e\uff0c\u5982\u4f55\u4f7f\u7528\u7b49\u7b49\u3002</p>"},{"location":"chap05/","title":"\u7b2c\u4e94\u7ae0 \u7ba1\u7406\u7248\u672c\u3001\u4f9d\u8d56\u548c\u6784\u5efa -- \u57fa\u4e8ePoetry","text":"<p>\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u901a\u8fc7ppw\u751f\u6210\u4e86\u4e00\u4e2a\u89c4\u8303\u7684python\u9879\u76ee\uff0c\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8bb8\u591a\u95fb\u6240\u672a\u95fb\u3001\u89c1\u6240\u672a\u89c1\u7684\u6982\u5ff5\u548c\u540d\u8bcd\u6251\u9762\u800c\u6765\uff0c\u4e0d\u514d\u8ba9\u4eba\u4e00\u65f6\u773c\u82b1\u7f2d\u4e71\uff0c\u76ee\u4e0d\u7771\u63a5\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u4ece\u5934\u8bb2\u8d77\uff0c\u53ef\u80fd\u8bfb\u8005\u4e5f\u65e0\u4ece\u7406\u89e3\uff0cppw\u4e3a\u4f55\u9700\u8981\u8fd0\u7528\u8fd9\u4e9b\u6280\u672f\uff0c\u53c8\u5012\u5e95\u89e3\u51b3\u4e86\u54ea\u4e9b\u95ee\u9898\u3002</p> <p>\u57282021\u5e743\u6708\u7684\u67d0\u4e2a\u5b64\u72ec\u7684\u591c\u665a\uff0c\u6211\u51b3\u5b9a\u521b\u5efa\u4e00\u4e2a\u521b\u5efa\u4e00\u4e2apython\u9879\u76ee\u4ee5\u6253\u53d1\u65f6\u95f4\uff0c\u8fd9\u4e2a\u9879\u76ee\u6709\u4ee5\u4e0b\u6587\u4ef6\uff1a</p> <pre><code>\u251c\u2500\u2500 foo\n\u2502   \u251c\u2500\u2500 foo\n\u2502   \u2502   \u251c\u2500\u2500 bar\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 data.py\n\u2502   \u2514\u2500\u2500 README.md\n</code></pre> <p>\u5f53\u7136\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u6709\u4e86\u597d\u591a\u4e2a\u5176\u5b83\u7684python\u9879\u76ee\uff0c\u8fd9\u4e9b\u9879\u76ee\u5f80\u5f80\u4f7f\u7528\u4e0d\u540c\u7684Python\u7248\u672c\uff0c\u5f7c\u6b64\u76f8\u4e92\u51b2\u7a81\u3002\u6240\u4ee5\uff0c\u4ece\u4e00\u5f00\u59cb\uff0c\u6211\u5c31\u51b3\u5b9a\u901a\u8fc7\u865a\u62df\u5f00\u53d1\u73af\u5883\u6765\u9694\u79bb\u8fd9\u4e9b\u4e0d\u540c\u7684\u5de5\u7a0b\u3002\u8fd9\u4e00\u6b21\u4e5f\u4e0d\u4f8b\u5916\uff1a\u6211\u901a\u8fc7conda\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3afoo\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u59cb\u7ec8\u5728\u8fd9\u4e2a\u73af\u5883\u4e0b\u5de5\u4f5c\u3002</p> <p>\u6211\u4eec\u7684\u7a0b\u5e8f\u5c06\u4f1a\u8bbf\u95eepostgres\u6570\u636e\u5e93\u91cc\u7684users\u8868\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u90fd\u4f1a\u4f7f\u7528sqlalchemy\u6765\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u800c\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u7279\u5b9a\u7684\u6570\u636e\u5e93\u9a71\u52a8\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u4e07\u4e00\u5c06\u6765\u6211\u4eec\u9700\u8981\u66f4\u6362\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u8fd9\u79cd\u8fc1\u79fb\u5e26\u6765\u7684\u5de5\u4f5c\u91cf\u5c06\u8f7b\u677e\u4e0d\u5c11\u3002</p> <p>\u57282021\u5e743\u6708\uff0cpython\u7684\u5f02\u6b65io\u5df2\u7ecf\u5927\u653e\u5f02\u5f69\u3002\u800csqlalchemy\u4f9d\u7136\u4e0d\u652f\u6301\u8fd9\u4e00\u6700\u65b0\u7279\u6027\uff0c\u8fd9\u4e0d\u514d\u8ba9\u4eba\u6709\u4e9b\u5931\u671b -- \u8fd9\u4f1a\u5bfc\u81f4\u5728\u8fdb\u884c\u6570\u636e\u5e93\u67e5\u8be2\u65f6\uff0cpython\u8fdb\u7a0b\u4f1a\u6b7b\u7b49\u6570\u636e\u5e93\u8fd4\u56de\u7ed3\u679c\uff0c\u4ece\u800c\u65e0\u6cd5\u6709\u6548\u5229\u7528CPU\u65f6\u95f4\u3002\u597d\u5728\u6709\u4e00\u4e2a\u540d\u4e3aGino\u7684\u9879\u76ee\u5f25\u8865\u4e86\u8fd9\u4e00\u7f3a\u9677\uff1a</p> <pre><code>pip install gino\n</code></pre> <p>Warning</p> <p>\u5728\u90a3\u4e2a\u5b64\u72ec\u7684\u591c\u665a\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u5b89\u88c5gino 1.0\u7248\u672c\u3002\u5982\u679c\u8bfb\u8005\u60f3\u8fd0\u884c\u8fd9\u91cc\u7684\u7a0b\u5e8f\uff0c\u8bf7\u5c06gino\u7684\u7248\u672c\u6539\u4e3a1.0.1\uff0c\u5373\u8fd0\u884c pip install gino==1.0.1</p> <p>\u505a\u5b8c\u8fd9\u4e00\u5207\u51c6\u5907\u5de5\u4f5c\uff0c\u5f00\u59cb\u7f16\u5199\u4ee3\u7801\uff0c\u5176\u4e2ddata.py\u7684\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code># \u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\u524d\uff0c\u8bf7\u786e\u4fdd\u672c\u5730\u5df2\u5b89\u88c5postgres\u6570\u636e\u5e93\uff0c\u5e76\u4e14\u521b\u5efa\u4e86\u540d\u4e3agino\u7684\u6570\u636e\u5e93\u3002\n\nimport asyncio\nfrom gino import Gino\n\ndb = Gino()\n\nclass User(db.Model):\n    __tablename__ = 'users'\n\n    id = db.Column(db.Integer(), primary_key=True)\n    nickname = db.Column(db.Unicode(), default='noname')\n\n\nasync def main():\n    # \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\n    # \u793a\u4f8b\uff1apostgresql://zillionare:123456@localhost/gino\n    # \u5e76\u5728\u672c\u5730postgres\u6570\u636e\u5e93\u4e2d\uff0c\u521b\u5efagino\u6570\u636e\u5e93\u3002\n    await db.set_bind('postgresql://localhost/gino')\n    await db.gino.create_all()\n\n    # further code goes here\n\n    await db.pop_bind().close()\n\n\nasyncio.get_event_loop().run_until_complete(main())\n</code></pre></p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u4ee3\u7801\u6709\u6d01\u7656\u7684\u4eba\uff0c\u6211\u575a\u6301\u59cb\u7ec8\u4f7f\u7528<code>black</code>\u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff1a <pre><code>pip install black\nblack .\n</code></pre></p> <p>\u73b0\u5728\u4e00\u5207ok\uff0c\u8fd0\u884c\u4e00\u4e0b: <pre><code>python foo/bar/data.py\n</code></pre> \u68c0\u67e5\u6570\u636e\u5e93\uff0c\u53d1\u73b0users\u8868\u5df2\u7ecf\u521b\u5efa\u3002\u4e00\u5207\u6b63\u5e38\u3002</p> <p>\u6211\u5e0c\u671b\u8fd9\u4e2a\u7a0b\u5e8f\u5728macos, windows\u548clinux\u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u90fd\u80fd\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u8fd0\u884c\u5728\u4ecepython 3.6\u52303.9\u7684\u6240\u6709\u7248\u672c\u4e0a\u3002</p> <p>\u8fd9\u91cc\u51fa\u73b0\u7b2c\u4e00\u4e2a\u95ee\u9898\u3002\u4f60\u9700\u8981\u51c6\u590712\u4e2a\u73af\u5883: \u4e09\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e0a4\u4e2apython\u7248\u672c\uff0c\u800c\u4e14\u8fd8\u8981\u8003\u8651\u5982\u4f55\u8fdb\u884c\"\u53ef\u590d\u73b0\u7684\u90e8\u7f72\"\u7684\u95ee\u9898\u3002\u5728\u901a\u8fc7ppw\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u8fd9\u4e9b\u4ec5\u4ec5\u662f\u901a\u8fc7\u4fee\u6539tox.ini\u548c.github\\dev.yaml\u4e2d\u76f8\u5173\u914d\u7f6e\u5c31\u53ef\u4ee5\u505a\u5230\u4e86\u3002\u4f46\u5728\u6ca1\u6709\u4f7f\u7528ppw\u4e4b\u524d\uff0c\u6211\u53ea\u80fd\u8fd9\u4e48\u505a\uff1a</p> <p>\u5728\u4e09\u53f0\u5206\u522b\u5b89\u88c5\u6709macos\uff0c windows\u548cubuntu\u7684\u673a\u5668\u4e0a\uff0c\u5206\u522b\u521b\u5efapython 3.8\u5230python 3.11\u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u5b89\u88c5\u76f8\u540c\u7684\u4f9d\u8d56\u3002\u9996\u5148\uff0c\u6211\u901a\u8fc7<code>pip freeze</code>\u628a\u5f00\u53d1\u673a\u5668\u4e0a\u7684\u4f9d\u8d56\u6293\u53d6\u51fa\u6765:</p> <pre><code>pip freeze &gt; requirements.txt\n</code></pre> <p>\u7136\u540e\u5728\u53e6\u4e00\u53f0\u673a\u5668\u51c6\u5907\u597d\u7684\u865a\u62df\u73af\u5883\u4e2d\uff0c\u8fd0\u884c\u5b89\u88c5\u547d\u4ee4\uff1a <pre><code>pip install -r requirements.txt\n</code></pre></p> <p>\u8fd9\u91cc\u53c8\u51fa\u73b0\u4e86\u7b2c\u4e8c\u4e2a\u95ee\u9898\u3002<code>black</code>\u7eaf\u7cb9\u662f\u53ea\u7528\u4e8e\u5f00\u53d1\u76ee\u7684\uff0c\u4e3a\u4ec0\u4e48\u4e5f\u9700\u8981\u5728\u6d4b\u8bd5/\u90e8\u7f72\u73af\u5883\u4e0a\u5b89\u88c5\u5462\uff1f\u56e0\u6b64\uff0c\u5728\u5236\u4f5c<code>requirements.txt</code>\u4e4b\u524d\uff0c\u6211\u51b3\u5b9a\u5c06<code>black</code>\u5378\u8f7d\u6389\uff1a</p> <p><pre><code>pip uninstall -y black &amp;&amp; pip freeze &gt; requirements.txt\n</code></pre> \u7136\u800c\uff0c\u4ed4\u7ec6\u68c0\u67e5requirements.txt\u4e4b\u540e\u53d1\u73b0\uff0c<code>black</code>\u662f\u88ab\u79fb\u9664\u4e86\uff0c\u4f46\u4ec5\u4ec5\u662f\u5b83\u81ea\u5df1\u3002\u5b83\u7684\u4e00\u4e9b\u4f9d\u8d56\uff0c\u6bd4\u5982<code>click</code>\uff0c <code>tomli</code>\u7b49\u7b49\uff0c\u4ecd\u7136\u51fa\u73b0\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4e0d\u5f97\u4e0d\u629b\u5f03<code>pip freeze</code>\u8fd9\u79cd\u4f5c\u6cd5\uff0c\u53ea\u5728requirements.txt\u4e2d\u52a0\u4e0a\u76f4\u63a5\u4f9d\u8d56\uff0c\u5e76\u4e14\uff0c\u5c06\u8fd9\u4e2a\u6587\u4ef6\u4e00\u5206\u4e3a\u4e8c\uff0c\u5c06<code>black</code>\u653e\u5728requirements_dev.txt\u4e2d\u3002 <pre><code># requirements.txt\ngino==1.0\n</code></pre> <pre><code># requirements_dev.txt\nblack==18.0\n</code></pre></p> <p>\u73b0\u5728\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\uff0c\u5c06\u53ea\u5b89\u88c5requirements.txt\u4e2d\u7684\u90a3\u4e9b\u4f9d\u8d56\u3002\u4e0d\u51fa\u6240\u6599\uff0c\u9879\u76ee\u8fd0\u884c\u5f97\u5f88\u6d41\u7545\uff0c\u76ee\u6807\u8fbe\u6210\uff0c\u653e\u5fc3\u5730\u53bb\u7761\u89c9\u4e86\u3002\u4f46\u662f\uff0cgino\u8fd8\u4f9d\u8d56\u4e8esqlalchemy\u548casyncpg\u3002\u540e\u4e8c\u8005\u88ab\u79f0\u4e3a\u4f20\u9012\u4f9d\u8d56\u3002\u6211\u4eec\u9501\u5b9a\u4e86gino\u7684\u7248\u672c\uff0c\u4f46\u662fgino\u662f\u5426\u6b63\u786e\u9501\u5b9a\u4e86sqlalchemy\u548casyncpg\u7684\u7248\u672c\u5462\uff1f\u8fd9\u4e00\u5207\u4ecd\u7136\u4e0d\u5f97\u800c\u77e5\u3002</p> <p>\u7b2c\u4e8c\u5929\u65e9\u6668\u9192\u6765\uff0csqlalchemy 1.4\u7248\u672c\u53d1\u5e03\u4e86\u3002\u7a81\u7136\u5730\uff0c\u5f53\u6211\u518d\u5b89\u88c5\u65b0\u7684\u6d4b\u8bd5\u73af\u5883\u5e76\u8fdb\u884c\u6d4b\u8bd5\u65f6\uff0c\u7a0b\u5e8f\u62a5\u51fa\u4e86\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>Traceback (most recent call last):\n  File \"/Users/aaronyang/workspace/best-practice-python/code/05/foo/foo/bar/data.py\", line 3, in &lt;module&gt;\n    from gino import Gino\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/__init__.py\", line 2, in &lt;module&gt;\n    from .engine import GinoEngine, GinoConnection  # NOQA\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/engine.py\", line 181, in &lt;module&gt;\n    class GinoConnection:\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/engine.py\", line 211, in GinoConnection\n    schema_for_object = schema._schema_getter(None)\nAttributeError: module 'sqlalchemy.sql.schema' has no attribute '_schema_getter'\n</code></pre></p> <p>\u6211\u5dee\u4e0d\u591a\u82b1\u4e86\u6574\u6574\u4e24\u5929\u624d\u5f04\u660e\u767d\u53d1\u751f\u4e86\u4ec0\u4e48\u3002\u6211\u7684\u7a0b\u5e8f\u4f9d\u8d56\u4e8egino,\u800cgino\u53c8\u4f9d\u8d56\u4e8e\u8457\u540d\u7684SQLAlchemy\u3002gino 1.0\u662f\u8fd9\u6837\u9501\u5b9aSQLAlchemy\u7684\u7248\u672c\u7684\uff1a <pre><code>pip install gino==1.0\nLooking in indexes: https://pypi.jieyu.ai/simple, https://pypi.org/simple\nCollecting gino==1.0\n  Downloading gino-1.0.0-py3-none-any.whl (48 kB)\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 48 kB 129 kB/s \nCollecting SQLAlchemy&lt;2.0,&gt;=1.2\n  Downloading SQLAlchemy-1.4.0.tar.gz (8.5 MB)\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 8.5 MB 2.3 MB/s </code></pre></p> <p>Info</p> <p>\u4e0a\u8ff0\u6587\u672c\u662f\u57282021\u5e743\u6708\u5b89\u88c5gino 1.0\u65f6\u7684\u8f93\u51fa\u3002\u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c<code>pip install gino==1.0</code>\uff0c\u4f1a\u5b89\u88c5SQLAlchemy 1.4.46\u7248\u672c\uff0c\u8fd9\u662f\u5b83\u57281.x\u4e0b\u7684\u6700\u540e\u4e00\u4e2a\u7248\u672c\u3002</p> <p>\u4ecepip\u7684\u5b89\u88c5\u65e5\u5fd7\u53ef\u4ee5\u770b\u5230\uff0cgino\u58f0\u660e\u80fd\u63a5\u53d7\u7684SQLAlchemy\u7684\u6700\u5c0f\u7248\u672c\u662f1.2\uff0c\u6700\u5927\u7248\u672c\u5219\u4e0d\u52302.0\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u5b89\u88c5gino 1.0\u65f6\uff0c\u53ea\u8981SQLAlchemy\u5b58\u5728\u8d85\u8fc71.2\uff0c\u4e14\u5c0f\u4e8e2.0\u7684\u6700\u65b0\u7248\u672c\uff0c\u5b83\u5c31\u4e00\u5b9a\u4f1a\u9009\u62e9\u5b89\u88c5\u8fd9\u4e2a\u6700\u65b0\u7248\u672c\uff0c\u6700\u7ec8\uff0cSQLAlchemy 1.4.0\u88ab\u5b89\u88c5\u5230\u73af\u5883\u4e2d\u3002</p> <p>SQLAlchemy\u57282020\u5e74\u4e5f\u610f\u8bc6\u5230\u4e86asyncio\u7684\u91cd\u8981\u6027\uff0c\u5e76\u8ba1\u5212\u57281.4\u7248\u672c\u65f6\u8f6c\u5411asyncio\u3002\u7136\u800c\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u8c03\u7528\u63a5\u53e3\u5c31\u5fc5\u987b\u53d1\u751f\u6539\u53d8 -- \u4e5f\u5c31\u662f\uff0c\u4e4b\u524d\u4f9d\u8d56\u4e8eSQLAlchemy\u7684\u90a3\u4e9b\u7a0b\u5e8f\uff0c\u4e0d\u8fdb\u884c\u4fee\u6539\u662f\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528SQLAlchemy 1.4\u7684\u30021.4.0\u8fd9\u4e2a\u7248\u672c\u53d1\u5e03\u4e8e2021\u5e743\u670816\u65e5\u3002</p> <p>\u539f\u56e0\u627e\u5230\u4e86\uff0c\u6700\u7ec8\u95ee\u9898\u4e5f\u89e3\u51b3\u4e86\u3002\u6700\u7ec8\uff0c\u6211\u628a\u8fd9\u4e2a\u9519\u8bef\u62a5\u544a\u7ed9\u4e86gino\uff0cgino\u7684\u5f00\u53d1\u8005\u627f\u62c5\u4e86\u8d23\u4efb\uff0c\u53d1\u5e03\u4e861.0.1,\u5c06SQLAlchemy\u7684\u7248\u672c\u9501\u5b9a\u5728\"&gt;1.2,&lt;1.4\"\u8fd9\u4e2a\u8303\u56f4\u5185\u3002</p> <pre><code>pip install gino==1.0.1\nLooking in indexes: https://pypi.jieyu.ai/simple, https://pypi.org/simple\nCollecting gino==1.0.1\n  Using cached gino-1.0.1-py3-none-any.whl (49 kB)\nCollecting SQLAlchemy&lt;1.4,&gt;=1.2.16\n  Using cached SQLAlchemy-1.3.24-cp39-cp39-macosx_11_0_arm64.whl\n</code></pre> <p>\u5728\u8fd9\u4e2a\u6848\u4f8b\u4e2d\uff0c\u6211\u5e76\u6ca1\u6709\u8981\u6c42\u5347\u7ea7\u5e76\u4f7f\u7528SQLAlchemy\u7684\u65b0\u529f\u80fd\uff0c\u56e0\u6b64\uff0c\u65b0\u7684\u5b89\u88c5\u672c\u4e0d\u5e94\u8be5\u53bb\u5347\u7ea7\u8fd9\u6837\u4e00\u4e2a\u7834\u574f\u6027\u7684\u7248\u672c\uff1b\u4f46\u662f\u5982\u679cSQLAlchemy\u51fa\u4e86\u65b0\u7684\u5b89\u5168\u66f4\u65b0\uff0c\u6216\u8005bug\u4fee\u590d\uff0c\u663e\u7136\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u6211\u4eec\u7684\u7a0b\u5e8f\u5728\u4e0d\u8fdb\u884c\u66f4\u65b0\u53d1\u5e03\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u80fd\u5bf9\u4f9d\u8d56\u8fdb\u884c\u66f4\u65b0\uff08\u5426\u5219\uff0c\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u4f9d\u8d56\u53d1\u5e03\u5b89\u5168\u66f4\u65b0\uff0c\u90fd\u5c06\u5bfc\u81f4\u4e3b\u7a0b\u5e8f\u4e0d\u5f97\u4e0d\u53d1\u5e03\u66f4\u65b0\u7684\u8bdd\uff0c\u8fd9\u79cd\u8026\u5408\u4e5f\u662f\u5f88\u96be\u63a5\u53d7\u7684\uff09\u3002\u56e0\u6b64\uff0c\u662f\u5426\u5b58\u5728\u4e00\u79cd\u673a\u5236\uff0c\u4f7f\u5f97\u6211\u4eec\u7684\u5e94\u7528\u5728\u6307\u5b9a\u76f4\u63a5\u4f9d\u8d56\u65f6\uff0c\u4e5f\u53ef\u4ee5\u6070\u5f53\u5730\u9501\u5b9a\u4f20\u9012\u4f9d\u8d56\u7684\u7248\u672c\uff0c\u5e76\u4e14\u5141\u8bb8\u4f20\u9012\u4f9d\u8d56\u8fdb\u884c\u5408\u7406\u7684\u66f4\u65b0\uff1f\u8fd9\u662f\u6211\u4eec\u8fd9\u4e2a\u6848\u4f8b\u63d0\u51fa\u6765\u7684\u7b2c\u4e09\u4e2a\u95ee\u9898\u3002</p> <p>\u73b0\u5728\uff0c\u4f3c\u4e4e\u662f\u6211\u4eec\u5c06\u4ea7\u54c1\u53d1\u5e03\u7684\u65f6\u5019\u4e86\u3002\u6211\u4eec\u770b\u5230\u5176\u5b83\u4eba\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee\u53d1\u5e03\u5728pypi\u4e0a\uff0c\u8fd9\u5f88\u9177\u3002\u6211\u4e5f\u5e0c\u671b\u6211\u7684\u7a0b\u5e8f\u80fd\u88ab\u5343\u767e\u4e07\u4eba\u4f7f\u7528\u3002\u8fd9\u5c31\u9700\u8981\u7f16\u5199MANINFEST.in, setup.cfg, setup.py\u7b49\u6587\u4ef6\u3002</p> <p>MANIFEST.in\u7528\u6765\u544a\u8bc9setup tools\u54ea\u4e9b\u989d\u5916\u7684\u6587\u4ef6\u5e94\u8be5\u88ab\u5305\u542b\u5728\u53d1\u884c\u5305\u91cc\uff0c\u4ee5\u53ca\u54ea\u4e9b\u6587\u4ef6\u5219\u5e94\u8be5\u88ab\u6392\u9664\u6389\u3002\u5f53\u7136\u5728\u6211\u4eec\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u662f\u53ef\u4ee5\u88ab\u5ffd\u7565\u7684\u3002</p> <p>setup.py\u4e2d\u9700\u8981\u6307\u660e\u4f9d\u8d56\u9879\u3001\u7248\u672c\u53f7\u7b49\u7b49\u4fe1\u606f\u3002\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4f7f\u7528\u4e86requirements.txt\u548crequirements_dev.txt\u6765\u7ba1\u7406\u4f9d\u8d56\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u5728setup.py\u4e2d\u91cd\u590d\u6307\u5b9a -- \u6211\u4eec\u5e0c\u671b\u53ea\u66f4\u65b0requirements.txt\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0setup.py\uff1a</p> <p><pre><code>from setuptools import setup\n\nwith open('requirements.txt') as f:\n    install_requires = f.read().splitlines()\nwith open('requirements_dev.txt') as f:\n    extras_dev_requires = f.read().splitlines()\n\n# setup\u662f\u4e00\u4e2a\u6709\u7740\u5e9e\u5927\u53c2\u6570\u4f53\u7684\u51fd\u6570\uff0c\u8fd9\u91cc\u53ea\u663e\u793a\u4e86\u90e8\u5206\u76f8\u5173\u53c2\u6570\nsetup(\n    name='foo',\n    version='0.0.1',\n    install_requires=install_requires,\n    extras_require={'dev': extras_dev_requires},\n    packages=['foo'],\n)\n</code></pre> \u770b\u4e0a\u53bb\u8fd8\u7b97\u5b8c\u7f8e\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u53d1\u5e03\u65f6\uff0c\u8fd8\u4f1a\u6d89\u53ca\u5230\u4fee\u6539\u7248\u672c\u53f7\u7b49\u95ee\u9898\uff0c\u8fd9\u90fd\u662f\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\u3002\u800c\u4e14\uff0c\u5b83\u8fd8\u4e0d\u6d89\u53ca\u6253\u5305\u548c\u53d1\u5e03\u3002\u901a\u5e38\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u7f16\u5199\u4e00\u4e2amakefile\uff0c\u901a\u8fc7makefile\u547d\u4ee4\u6765\u5b9e\u73b0\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u8fd9\u4e9b\u770b\u4e0a\u53bb\u90fd\u662f\u5f88\u5e38\u89c4\u7684\u64cd\u4f5c\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u5c06\u5b83\u81ea\u52a8\u5316\u5462\uff1f\u8fd9\u662f\u7b2c\u56db\u4e2a\u95ee\u9898\uff0c\u5373\u5982\u4f55\u7b80\u5316\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u8fd9\u5c31\u662f\u6211\u4eec\u8fd9\u4e00\u7ae0\u8981\u8ba8\u8bba\u7684\u4e3b\u9898\u3002\u6211\u4eec\u5c06\u4ee5Poetry\u4e3a\u4e3b\u8981\u5de5\u5177\uff0c\u7ed3\u5408semantic versioning\u6765\u4e32\u8d77\u8fd9\u4e00\u8bdd\u9898\u7684\u8ba8\u8bba\u3002</p>"},{"location":"chap05/#poetry-\u7b80\u6d01\u6e05\u6670\u7684\u9879\u76ee\u7ba1\u7406\u5de5\u5177","title":"Poetry\uff1a \u7b80\u6d01\u6e05\u6670\u7684\u9879\u76ee\u7ba1\u7406\u5de5\u5177","text":"<p>[Poetry]\u662f\u4e00\u4e2a\u4f9d\u8d56\u7ba1\u7406\u548c\u6253\u5305\u5de5\u5177\u3002Poetry\u7684\u4f5c\u8005\u89e3\u91ca\u5f00\u53d1Poetry\u7684\u521d\u8877\u65f6\u8bf4\uff1a</p> <p>Quote</p> <p>Packaging systems and dependency management in Python are rather convoluted and hard to understand for newcomers. Even for seasoned developers it might be cumbersome at times to create all files needed in a Python project: setup.py, requirements.txt, setup.cfg, MANIFEST.in and the newly added Pipfile. So I wanted a tool that would limit everything to a single configuration file to do: dependency management, packaging and publishing.</p> <p>\u7ffb\u8bd1\uff1aPython\u7684\u6253\u5305\u7cfb\u7edf\u548c\u4f9d\u8d56\u7ba1\u7406\u76f8\u5f53\u590d\u6742\uff0c\u5bf9\u65b0\u4eba\u6765\u8bb2\u5c24\u5176\u8d39\u89e3\u3002\u8981\u6b63\u786e\u5730\u521b\u5efaPython\u9879\u76ee\u6240\u9700\u8981\u7684\u6587\u4ef6:setup.py, requirements.txt, setup.cfg, MANIFEST.in\u548c\u65b0\u52a0\u5165\u7684pipfile\uff0c\u6709\u65f6\u5019\u5373\u4f7f\u5bf9\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u8001\u624b\uff0c\u4e5f\u662f\u6709\u4e00\u4e9b\u56f0\u96be\u7684\u3002\u56e0\u6b64\uff0c\u6211\u5e0c\u671b\u521b\u5efa\u4e00\u79cd\u5de5\u5177\uff0c\u53ea\u7528\u4e00\u4e2a\u6587\u4ef6\u5c31\u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u3001\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u901a\u8fc7\u524d\u9762\u7684\u6848\u4f8b\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u51fa\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\u4f46\u4e0d\u6b62\u4e8e\u6b64\u3002</p> <p>\u5f53\u60a8\u5c06\u4f9d\u8d56\u52a0\u5165\u5230requirements.txt\u65f6\uff0c\u6ca1\u6709\u4eba\u5e2e\u4f60\u786e\u5b9a\u5b83\u662f\u5426\u4e0e\u65e2\u5b58\u7684\u4f9d\u8d56\u80fd\u591f\u548c\u5e73\u5171\u5904\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8981\u6bd4\u6211\u4eec\u60f3\u8c61\u7684\u590d\u6742\u8bb8\u591a\uff0c\u4e0d\u4ec5\u4ec5\u662f\u76f4\u63a5\u4f9d\u8d56\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5f7c\u6b64\u7684\u4f20\u9012\u4f9d\u8d56\u662f\u5426\u4e5f\u80fd\u5f7c\u6b64\u517c\u5bb9\uff1b\u6240\u4ee5\u4e00\u822c\u7684\u505a\u6cd5\u662f\uff0c\u5148\u5c06\u5b83\u4eec\u52a0\u8fdb\u6765\uff0c\u5b8c\u6210\u5f00\u53d1\u548c\u6d4b\u8bd5\uff0c\u5728\u6253\u5305\u4e4b\u524d\uff0c\u8fd0\u884c<code>pip freeze &gt; requirements.txt</code>\u6765\u9501\u5b9a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u3002\u4f46\u6211\u4eec\u4e5f\u5728\u524d\u9762\u7684\u6848\u4f8b\u4e2d\u63d0\u5230\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5c06\u4e0d\u5fc5\u8981\u7684\u5f00\u53d1\u4f9d\u8d56\u6253\u5165\u5230\u53d1\u884c\u7248\u4e2d\uff1b\u6b64\u5916\uff0c\u5b83\u4e5f\u4f1a\u8fc7\u5ea6\u9501\u5b9a\u7248\u672c\uff0c\u4ece\u800c\u4f7f\u5f97\u4e00\u4e9b\u6d3b\u8dc3\u7684\u7b2c\u4e09\u65b9\u5e93\u5931\u53bb\u81ea\u52a8\u66f4\u65b0\u70ed\u4fee\u590d\u548c\u5b89\u5168\u66f4\u65b0\u7684\u673a\u4f1a\u3002</p> <p>\u9879\u76ee\u7684\u7248\u672c\u7ba1\u7406\u4e5f\u662f\u4e00\u4e2a\u95ee\u9898\u3002\u5728\u8001\u65e7\u7684Python\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6211\u4eec\u4f7f\u7528bumpversion\u6765\u7ba1\u7406\u7248\u672c\uff0c\u5b83\u9700\u8981\u4f7f\u7528\u4e09\u4e2a\u6587\u4ef6\u3002\u5728\u6211\u7684\u65e5\u5e38\u4f7f\u7528\u65f6\uff0c\u5b83\u5e38\u5e38\u4f1a\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u6700\u5e38\u89c1\u7684\u662f\u5355\u53cc\u5f15\u53f7\u5bfc\u81f4\u628a<code>__version__=0.1</code>\u5f53\u6210\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u800c\u4e0d\u662f<code>0.1</code>\u3002\u8fd9\u6837\u6253\u51fa\u6765\u7684\u5305\u540d\u4e5f\u4f1a\u5947\u602a\u5730\u591a\u4e00\u4e2a\u65e0\u610f\u4e49\u7684version\u5b57\u6837\u3002\u5355\u53cc\u5f15\u53f7\u5219\u662f\u56e0\u4e3a\u4f60\u7684format\u5de5\u5177\u5bf9\u5b57\u7b26\u4e32\u5e38\u91cf\u5e94\u8be5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5f15\u53f7\u89c4\u5219\u6709\u81ea\u5df1\u7684\u610f\u89c1\u3002</p> <p>\u9879\u76ee\u8fdb\u884c\u6253\u5305\u548c\u53d1\u5e03\u9700\u8981\u51c6\u5907\u592a\u591a\u7684\u6587\u4ef6\uff0c\u6b63\u5982Poetry\u7684\u5f00\u53d1\u8005\u6240\u8bf4\uff0c\u8981\u786e\u4fdd\u8fd9\u4e9b\u6587\u4ef6\u7684\u5185\u5bb9\u5b8c\u5168\u6b63\u786e\uff0c\u5bf9\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u4e5f\u4e0d\u662f\u8f7b\u800c\u6613\u4e3e\u7684\u4e8b\u3002</p> <p>Poetry\u89e3\u51b3\u4e86\u6240\u6709\u8fd9\u4e9b\u95ee\u9898\uff08\u9664\u4e86\u6848\u4f8b\u4e2d\u7684\u7b2c\u4e00\u4e2a\uff0c\u8be5\u95ee\u9898\u8981\u901a\u8fc7tox\u548cCI\u6765\u89e3\u51b3\uff09\u3002\u5b83\u63d0\u4f9b\u4e86\u7248\u672c\u7ba1\u7406\u3001\u4f9d\u8d56\u89e3\u6790\u3001\u6784\u5efa\u548c\u53d1\u5e03\u7684\u4e00\u7ad9\u5f0f\u670d\u52a1\uff0c\u5e76\u5c06\u6240\u6709\u7684\u914d\u7f6e\uff0c\u96c6\u4e2d\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u5373pyproject.toml\u3002\u6b64\u5916\uff0cPoetry\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u7a0b\u521b\u5efa\u5411\u5bfc\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u5411\u5bfc\u7684\u529f\u80fd\u4ecd\u7136\u8fc7\u4e8e\u7b80\u5355\uff0c\u6211\u4eec\u7684\u63a8\u8350\u5219\u662f\u4f7f\u7528\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684python project wizard\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0aPoetry\u8fd8\u4f1a\u7528\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6\uff0c\u5373poetry.lock\u3002\u8fd9\u4e2a\u6587\u4ef6\u5e76\u975e\u72ec\u7acb\u6587\u4ef6\uff0c\u800c\u662fPoetry\u6839\u636epyproject.toml\u751f\u6210\u7684\u3001\u9501\u5b9a\u4e86\u4f9d\u8d56\u7248\u672c\u7684\u6700\u7ec8\u6587\u4ef6\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u773csample\u9879\u76ee\u4e2d\u7684pyproject.toml\u6587\u4ef6: <pre><code>[tool]\n[tool.poetry]\nname = \"sample\"\nversion = \"0.1.0\"\nhomepage = \"https://github.com/zillionare/sample\"\ndescription = \"Skeleton project created by Python Project Wizard (ppw).\"\nauthors = [\"aaron yang &lt;aaron_yang@jieyu.ai&gt;\"]\nreadme = \"README.md\"\nlicense =  \"MIT\"\nclassifiers=[\n'Development Status :: 2 - Pre-Alpha',\n'Intended Audience :: Developers',\n'License :: OSI Approved :: MIT License',\n'Natural Language :: English',\n'Programming Language :: Python :: 3',\n'Programming Language :: Python :: 3.7',\n'Programming Language :: Python :: 3.8',\n'Programming Language :: Python :: 3.9',\n'Programming Language :: Python :: 3.10',\n]\npackages = [\n{ include = \"sample\" },\n{ include = \"tests\", format = \"sdist\" },\n]\n\n[tool.poetry.dependencies]\npython = \"&gt;=3.7.1,&lt;4.0\"\nfire = \"0.4.0\"\n\nblack  = { version = \"^22.3.0\", optional = true}\nisort  = { version = \"5.10.1\", optional = true}\nflake8  = { version = \"4.0.1\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\npytest  = { version = \"^7.0.1\", optional = true}\npytest-cov  = { version = \"^3.0.0\", optional = true}\ntox  = { version = \"^3.24.5\", optional = true}\nvirtualenv  = { version = \"^20.13.1\", optional = true}\npip  = { version = \"^22.0.3\", optional = true}\nmkdocs  = { version = \"^1.2.3\", optional = true}\nmkdocs-include-markdown-plugin  = { version = \"^3.2.3\", optional = true}\nmkdocs-material  = { version = \"^8.1.11\", optional = true}\nmkdocstrings  = { version = \"^0.18.0\", optional = true}\nmkdocs-material-extensions  = { version = \"^1.0.3\", optional = true}\ntwine  = { version = \"^3.8.0\", optional = true}\nmkdocs-autorefs = {version = \"^0.3.1\", optional = true}\npre-commit = {version = \"^2.17.0\", optional = true}\ntoml = {version = \"^0.10.2\", optional = true}\nlivereload = {version = \"^2.6.3\", optional = true}\npyreadline = {version = \"^2.1\", optional = true}\nmike = { version=\"^1.1.2\", optional=true}\n\n[tool.poetry.extras]\ntest = [\n\"pytest\",\n\"black\",\n\"isort\",\n\"flake8\",\n\"flake8-docstrings\",\n\"pytest-cov\"\n]\n\ndev = [\"tox\", \"pre-commit\", \"virtualenv\", \"pip\", \"twine\", \"toml\"]\n\ndoc = [\n\"mkdocs\",\n\"mkdocs-include-markdown-plugin\",\n\"mkdocs-material\",\n\"mkdocstrings\",\n\"mkdocs-material-extension\",\n\"mkdocs-autorefs\",\n\"mike\"\n]\n\n[tool.poetry.scripts]\nsample = 'sample.cli:main'\n\n[build-system]\nrequires = [\"poetry-core&gt;=1.0.0\"]\nbuild-backend = \"poetry.core.masonry.api\"\n\n[tool.black]\nline-length = 88\ninclude = '\\.pyi?$'\nexclude = '''\n/(\n    \\.eggs\n  | \\.git\n  | \\.hg\n  | \\.mypy_cache\n  | \\.tox\n  | \\.venv\n  | _build\n  | buck-out\n  | build\n  | dist\n)/\n'''\n[tool.isort]\nprofile = \"black\"\n</code></pre> \u6211\u4eec\u7b80\u5355\u5730\u89e3\u8bfb\u4e00\u4e0b\u8fd9\u4e2a\u6587\u4ef6\uff1a \u5728[tool.poetry]\u90a3\u4e00\u8282\uff0c\u5b9a\u4e49\u4e86\u5305\u7684\u540d\u5b57\uff08\u8fd9\u91cc\u662fsample)\u3001\u7248\u672c\u53f7(\u8fd9\u91cc\u662f0.1.0)\uff0c\u5176\u5b83\u7684\u4e00\u4e9b\u5b57\u6bb5\uff0c\u6bd4\u5982classifiers\uff0c\u8fd9\u662f\u6253\u5305\u548c\u53d1\u5e03\u65f6\u9700\u8981\u7684\u3002\u5982\u679c\u60a8\u719f\u6089python setup tools\uff0c\u90a3\u4e48\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u5c06\u4e0d\u4f1a\u964c\u751f\u3002packages\u5b57\u6bb5\u6307\u660e\u4e86\u6253\u5305\u65f6\u9700\u8981\u5305\u542b\u7684\u6587\u4ef6\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u8981\u6c42\u5728\u4ee5.whl\u683c\u5f0f\u53d1\u5e03\u7684\u5305\u4e2d\uff0c\u5c06sample\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u6253\u5305\u53d1\u5e03\uff1b\u800c\u4ee5sdist\u683c\u5f0f(\u5373.tar.gz)\u53d1\u5e03\u7684\u5305\u4e2d\uff0c\u8fd8\u8981\u5305\u542btests\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p>\u63a5\u4e0b\u6765\u662f[tool.poetry.dependencies]\u4e00\u8282\uff0c\u8fd9\u662f\u6211\u4eec\u58f0\u660e\u9879\u76ee\u4f9d\u8d56\u7684\u5730\u65b9\u3002\u9996\u5148\u662f\u9879\u76ee\u8981\u6c42\u7684python\u7248\u672c\u58f0\u660e\u3002\u8fd9\u91cc\u6211\u4eec\u8981\u6c42\u5fc5\u987b\u57283.7.1\u4ee5\u4e0a\uff0c4.0\u4ee5\u4e0b\u7684python\u73af\u5883\u4e2d\u8fd0\u884c\u3002\u56e0\u6b64\uff0cpython 3.7.1\uff0c3.8\uff0c 3.9\uff0c 3.10\u90fd\u662f\u6070\u5f53\u7684python\u7248\u672c\uff0c\u4f464.0\u5219\u4e0d\u5141\u8bb8\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5de5\u7a0b\u4e2d\u9700\u8981\u7528\u5230\u7684\u5176\u5b83\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u6709\u8fd0\u884c\u65f6\u7684\uff08\u5373\u5f53\u6700\u7ec8\u7528\u6237\u4f7f\u7528\u6211\u4eec\u7684\u7a0b\u5e8f\u65f6\uff0c\u5fc5\u987b\u5b89\u88c5\u7684\u90a3\u4e9b\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff09\uff0c\u4e5f\u6709\u5f00\u53d1\u65f6\u7684\uff08\u5373\u53ea\u5728\u5f00\u53d1\u548c\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u5230\u7684\uff0c\u6bd4\u5982\u6587\u6863\u5de5\u5177\u7c7bmkdocs\uff0c\u6d4b\u8bd5\u7c7btox, pytest\u7b49\uff09\u3002</p> <p>\u6211\u4eec\u5bf9\u8fd0\u884c\u65f6\u548c\u5f00\u53d1\u65f6\u9700\u8981\u7684\u4f9d\u8d56\u8fdb\u884c\u4e86\u5206\u7ec4\u3002\u5bf9\u5f00\u53d1\u65f6\u9700\u8981\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5206\u6210dev, test\u548cdoc\u4e09\u7ec4\uff0c\u901a\u8fc7[tool.poetry.extras]\u4e2d\u8fdb\u884c\u5206\u7ec4\u58f0\u660e\u3002\u5bf9\u4e8e\u5f52\u5165\u5230dev, test\u548cdoc\u5206\u7ec4\u4e2d\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5728[tool.poetry.dependencies]\u4e2d\uff0c\u5c06\u5176\u58f0\u660e\u4e3aoptional\u7684\uff0c\u8fd9\u6837\u5728\u5b89\u88c5\u6700\u7ec8\u5206\u53d1\u5305\u65f6\uff0c\u8fd9\u4e9b\u58f0\u660e\u4e3aoptional\u7684\u7b2c\u4e09\u65b9\u4f9d\u8d56\u5c06\u4e0d\u4f1a\u5b89\u88c5\u5230\u7528\u6237\u73af\u5883\u4e2d\u3002</p> <p>\u518d\u63a5\u4e0b\u6765\uff0c[tool.poetry.scripts]\u58f0\u660e\u4e86\u4e00\u4e2aconsole script\u5165\u53e3\u3002Console script\u662f\u4e00\u79cd\u7279\u6b8a\u7684Python\u811a\u672c\uff0c\u5b83\u4f7f\u5f97\u60a8\u53ef\u4ee5\u8c61\u8c03\u7528\u666e\u901a\u7684shell\u547d\u4ee4\u4e00\u6837\u6765\u8c03\u7528\u8fd9\u4e2a\u811a\u672c\u3002 <pre><code>[tool.poetry.scripts]\nsample = 'sample.cli:main'\n</code></pre> \u5f53sample\u5305\u88ab\u5b89\u88c5\u540e\uff0c\u5c31\u5f80\u5b89\u88c5\u73af\u5883\u91cc\u6ce8\u5165\u4e86\u4e00\u4e2a<code>sample</code> shell\u547d\u4ee4\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u5404\u79cd\u53c2\u6570\uff0c\u6700\u7ec8\u5c06\u4ea4\u7ed9sample\\cli.py\u4e2d\u7684main\u51fd\u6570\u6765\u6267\u884c\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u7684\u76f8\u5173\u6307\u793a\uff0c\u5728[build-system]\u4e2d\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e2d\u53ea\u5305\u542b\u7eaf\u7cb9\u7684Python\u4ee3\u7801\uff0c\u90a3\u4e48\u8fd9\u90e8\u5206\u53ef\u4e0d\u505a\u4efb\u4f55\u4fee\u6539\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u5305\u542b\u4e86\u4e00\u4e9b\u539f\u751f\u7684\u4ee3\u7801\uff08\u6bd4\u5982c\u7684\uff09\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u81ea\u5df1\u5b9a\u4e49\u6784\u5efa\u811a\u672c\u3002</p> <p>\u5728\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u8fd8\u6709[tool.black]\u548c[tool.isort]\u4e24\u4e2a\u5c0f\u8282\uff0c\u5206\u522b\u662fblack\uff08\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff09\u548cisort\uff08\u5c06\u5bfc\u5165\u8fdb\u884c\u6392\u5e8f\u7684\u5de5\u5177\uff09\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5b83\u4eec\u662f\u5bf9pyproject.toml\u7684\u6269\u5c55\uff0c\u5e76\u4e0d\u662fpoetry\u6240\u8981\u6c42\u7684\u3002</p>"},{"location":"chap05/#\u7248\u672c\u7ba1\u7406","title":"\u7248\u672c\u7ba1\u7406","text":"<p>poetry\u4e3a\u6211\u4eec\u7684package\u63d0\u4f9b\u4e86\u57fa\u4e8e\u8bed\u4e49(semantic version)\u7684\u7248\u672c\u7ba1\u7406\u529f\u80fd\u3002\u5b83\u901a\u8fc7<code>poetry version</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u8ba9\u6211\u4eec\u67e5\u770bpackage\u7684\u7248\u672c\uff0c\u5e76\u4e14\u5b9e\u73b0\u7248\u672c\u53f7\u7684\u5347\u7ea7\u3002</p>"},{"location":"chap05/#semantic-versioning\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406","title":"Semantic Versioning\uff08\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\uff09","text":"<p>\u8bf4\u5230\u7248\u672c\u7ba1\u7406\uff0c\u6211\u4e0d\u7981\u60f3\u8d77\u5fd2\u4fee\u65af\u4e4b\u8239\uff08The Ship of Theseus\uff09\u95ee\u9898\uff0c\u8be5\u95ee\u9898\u662f\u6700\u4e3a\u53e4\u8001\u7684\u601d\u60f3\u5b9e\u9a8c\u4e4b\u4e00\uff0c\u6700\u65e9\u51fa\u81ea\u516c\u5143\u4e00\u4e16\u7eaa\u666e\u9c81\u5854\u514b\u7684\u8bb0\u8f7d\u3002\u5b83\u63cf\u8ff0\u7684\u662f\u4e00\u8258\u53ef\u4ee5\u5728\u6d77\u4e0a\u822a\u884c\u51e0\u767e\u5e74\u7684\u8239\uff0c\u5f52\u529f\u4e8e\u4e0d\u95f4\u65ad\u7684\u7ef4\u4fee\u548c\u66ff\u6362\u90e8\u4ef6\u3002\u53ea\u8981\u4e00\u5757\u6728\u677f\u8150\u70c2\u4e86\uff0c\u5b83\u5c31\u4f1a\u88ab\u66ff\u6362\u6389\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6240\u6709\u7684\u529f\u80fd\u90e8\u4ef6\u90fd\u4e0d\u662f\u6700\u5f00\u59cb\u7684\u90a3\u4e9b\u4e86\u3002\u95ee\u9898\u662f\uff0c\u6700\u7ec8\u4ea7\u751f\u7684\u8fd9\u8258\u8239\u662f\u5426\u8fd8\u662f\u539f\u6765\u7684\u90a3\u8258\u7279\u4fee\u65af\u4e4b\u8239\uff0c\u8fd8\u662f\u4e00\u8258\u5b8c\u5168\u4e0d\u540c\u7684\u8239\uff1f\u5982\u679c\u4e0d\u662f\u539f\u6765\u7684\u8239\uff0c\u90a3\u4e48\u5728\u4ec0\u4e48\u65f6\u5019\u5b83\u4e0d\u518d\u662f\u539f\u6765\u7684\u8239\u4e86\uff1f</p> <p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u4e5f\u5e38\u5e38\u5bf9\u540c\u4e00\u8f6f\u4ef6\u8fdb\u884c\u4e0d\u65ad\u7684\u4fee\u8865\u548c\u66f4\u65b0\u3002\u4f46\u662f\uff0c\u968f\u7740\u8fd9\u79cd\u4fee\u8865\u548c\u66ff\u6362\u8d8a\u6765\u8d8a\u591a\uff0c\u8f6f\u4ef6\u4f1a\u4e0d\u4f1a\u4e5f\u51fa\u73b0\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff1a\u73b0\u5728\u7684\u8f6f\u4ef6\u8fd8\u662f\u4e0d\u662f\u5f53\u521d\u7684\u8f6f\u4ef6\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u5b83\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u4e0d\u518d\u662f\u539f\u6765\u7684\u8f6f\u4ef6\u4e86\u5462\uff1f\u8be5\u8f6f\u4ef6\u5e94\u8be5\u5982\u4f55\u5411\u5916\u754c\u8868\u660e\u5b83\u5df2\u53d1\u751f\u4e86\u5b9e\u8d28\u6027\u7684\u53d8\u5316\uff1b\u751f\u6001\u5185\u4f9d\u8d56\u4e8e\u8be5\u8f6f\u4ef6\u7684\u5176\u5b83\u8f6f\u4ef6\uff0c\u53c8\u5e94\u8be5\u5982\u4f55\u8bc6\u522b\u8f6f\u4ef6\u7684\u8715\u53d8\u5462\uff1f</p> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0cTom Preston-Werner\uff08Github\u7684\u5171\u540c\u521b\u59cb\u4eba\uff09\u63d0\u51faSemantic versioniong\u65b9\u6848\uff0c\u5373\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\u3002Semantic version\u8868\u793a\u6cd5\u63d0\u51fa\u7684\u521d\u8877\u662f\uff1a</p> <p>Quote</p> <p>\u5728\u8f6f\u4ef6\u7ba1\u7406\u7684\u9886\u57df\u91cc\u5b58\u5728\u7740\u88ab\u79f0\u4f5c\u201c\u4f9d\u8d56\u5730\u72f1\u201d\u7684\u6b7b\u4ea1\u4e4b\u8c37\uff0c\u7cfb\u7edf\u89c4\u6a21\u8d8a\u5927\uff0c\u52a0\u5165\u7684\u5305\u8d8a\u591a\uff0c\u4f60\u5c31\u8d8a\u6709\u53ef\u80fd\u5728\u672a\u6765\u7684\u67d0\u4e00\u5929\u53d1\u73b0\u81ea\u5df1\u5df2\u6df1\u9677\u7edd\u671b\u4e4b\u4e2d\u3002</p> <p>\u5728\u4f9d\u8d56\u9ad8\u7684\u7cfb\u7edf\u4e2d\u53d1\u5e03\u65b0\u7248\u672c\u5305\u53ef\u80fd\u5f88\u5feb\u4f1a\u6210\u4e3a\u5669\u68a6\u3002\u5982\u679c\u4f9d\u8d56\u5173\u7cfb\u8fc7\u9ad8\uff0c\u53ef\u80fd\u9762\u4e34\u7248\u672c\u63a7\u5236\u88ab\u9501\u6b7b\u7684\u98ce\u9669\uff08\u5fc5\u987b\u5bf9\u6bcf\u4e00\u4e2a\u4f9d\u8d56\u5305\u6539\u7248\u624d\u80fd\u5b8c\u6210\u67d0\u6b21\u5347\u7ea7\uff09\u3002\u800c\u5982\u679c\u4f9d\u8d56\u5173\u7cfb\u8fc7\u4e8e\u677e\u6563\uff0c\u53c8\u5c06\u65e0\u6cd5\u907f\u514d\u7248\u672c\u7684\u6df7\u4e71\uff08\u5047\u8bbe\u517c\u5bb9\u4e8e\u672a\u6765\u7684\u591a\u4e2a\u7248\u672c\u5df2\u8d85\u51fa\u4e86\u5408\u7406\u6570\u91cf\uff09\u3002\u5f53\u4f60\u4e13\u6848\u7684\u8fdb\u5c55\u56e0\u4e3a\u7248\u672c\u4f9d\u8d56\u88ab\u9501\u6b7b\u6216\u7248\u672c\u6df7\u4e71\u53d8\u5f97\u4e0d\u591f\u7b80\u4fbf\u548c\u53ef\u9760\uff0c\u5c31\u610f\u5473\u7740\u4f60\u6b63\u5904\u4e8e\u4f9d\u8d56\u5730\u72f1\u4e4b\u4e2d\u3002</p> <p>Semantic versioning\u7b80\u5355\u5730\u8bf4\uff0c\u5c31\u662f\u7528\u7248\u672c\u53f7\u7684\u53d8\u5316\u5411\u5916\u754c\u8868\u660e\u8f6f\u4ef6\u53d8\u66f4\u7684\u5267\u70c8\u7a0b\u5ea6\u3002\u8981\u7406\u89e3Semantic versioning\uff0c\u6211\u4eec\u9996\u5148\u5f97\u4e86\u89e3\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u3002</p> <p>\u5f53\u6211\u4eec\u8bf4\u8d77\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u65f6\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u610f\u8bc6\u5230\uff0c\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u4e00\u822c\u7531\u4e3b\u7248\u672c\u53f7(major)\uff0c\u6b21\u7248\u672c\u53f7(minor)\uff0c\u4fee\u8ba2\u53f7(patch)\u548c\u6784\u5efa\u7f16\u53f7(build no.)\u56db\u90e8\u5206\u7ec4\u6210\u3002\u7531\u4e8ePython\u7a0b\u5e8f\u6ca1\u6709\u5176\u5b83\u8bed\u8a00\u901a\u5e38\u610f\u4e49\u4e0a\u7684\u6784\u5efa\uff0c\u6240\u4ee5\uff0c\u5bf9Python\u7a0b\u5e8f\u800c\u8a00\uff0c\u4e00\u822c\u53ea\u7528\u4e09\u6bb5\uff0c\u5373major.minor.patch\u6765\u8868\u793a\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a\uff0c\u51fa\u4e8e\u5185\u90e8\u5f00\u53d1\u7684\u9700\u8981\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u80fd\u7ed9Python\u7a0b\u5e8f\u7684\u7248\u672c\u7528\u4e0abuild no\uff0c\u7279\u522b\u662f\u5728CI\u96c6\u6210\u4e2d\u3002\u5f53\u6211\u4eec\u5411\u4ed3\u5e93\u63a8\u9001\u4e00\u4e2acommit\u65f6\uff0cCI\u90fd\u9700\u8981\u8fdb\u884c\u4e00\u8f6e\u6784\u5efa\u548c\u81ea\u52a8\u9a8c\u8bc1\uff0c\u6b64\u65f6\u5e76\u4e0d\u4f1a\u4fee\u6539\u6b63\u5f0f\u7248\u672c\u53f7\uff0c\u56e0\u6b64\uff0c\u4e00\u822c\u503e\u5411\u4e8e\u4f7f\u7528\u6784\u5efa\u53f7\u6765\u533a\u5206\u4e0d\u540c\u7684\u63d0\u4ea4\u5bfc\u81f4\u7684\u7248\u672c\u4e0a\u7684\u4e0d\u540c\u3002\u5728python project wizard\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5176CI\u5c31\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u903b\u8f91\u3002</p> <p>\u4e0a\u8ff0\u7248\u672c\u8868\u793a\u6cd5\u6ca1\u6709\u53cd\u6620\u51fa\u4efb\u4f55\u89c4\u5219\u3002\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\uff0c\u4f60\u7684\u8f6f\u4ef6\u5e94\u8be5\u5b9a\u4e49\u4e3a0.x\uff0c\u4ec0\u4e48\u65f6\u5019\u53c8\u5e94\u8be5\u5b9a\u4e49\u4e3a1.x\uff0c\u4ec0\u4e48\u65f6\u5019\u9012\u589e\u4e3b\u7248\u672c\u53f7\uff0c\u4ec0\u4e48\u65f6\u5019\u5219\u53ea\u9700\u8981\u9012\u589e\u4fee\u8ba2\u53f7\u5462\uff1f\u5982\u679c\u4e0d\u540c\u7684\u8f6f\u4ef6\u751f\u4ea7\u5546\u5bf9\u4ee5\u8fd9\u4e9b\u95ee\u9898\u6ca1\u6709\u5171\u8bc6\u7684\u8bdd\uff0c\u4f1a\u4ea7\u751f\u4ec0\u4e48\u95ee\u9898\u5417\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u968f\u610f\u5b9a\u4e49\u7248\u672c\u53f7\u5f15\u8d77\u7684\u95ee\u9898\u5f88\u591a\u3002\u5728\u524d\u9762\u6211\u4eec\u63d0\u5230\u8fc7SQLAlchemy\u7684\u5347\u7ea7\u5bfc\u81f4\u8bb8\u591aPython\u8f6f\u4ef6\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u7684\u4f8b\u5b50\u3002\u5728\u8bb2\u8ff0\u90a3\u4e2a\u4f8b\u5b50\u65f6\uff0c\u6211\u6307\u51fa\uff0c\u662fgino\u7684\u5f00\u53d1\u8005\u627f\u62c5\u4e86\u8d23\u4efb\uff0c\u53d1\u884c\u4e86\u65b0\u7684gino\u7248\u672c\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u8d23\u4efb\u7684\u6839\u6e90\u5728SQLAlchemy\u7684\u5f00\u53d1\u8005\u90a3\u91cc\u3002\u4ece1.3.x\u52301.4.x,\u51fa\u73b0\u4e86\u63a5\u53e3\u7684\u53d8\u66f4\uff0c\u8fd9\u662f\u4e00\u79cd\u7834\u574f\u6027\u7684\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4\u4f7f\u7528\u8005\u5982\u679c\u4e0d\u4fee\u6539\u4ed6\u4eec\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u5c31\u65e0\u6cd5\u4f7f\u7528SQLAlchemy\u7684\u95ee\u9898\u3002gino\u7684\u5f00\u53d1\u8005\u8ba4\u4e3a\uff08\u8fd9\u4e5f\u662f\u7b26\u5408semantic versioning\u601d\u60f3\u7684\uff09\uff0cSQLAlchemy\u4ece1.2\u52302.0\u4e4b\u95f4\u7684\u7248\u672c\uff0c\u53ef\u4ee5\u589e\u52a0\u63a5\u53e3\uff0c\u589e\u5f3a\u6027\u80fd\uff0c\u4fee\u590d\u5b89\u5168\u6f0f\u6d1e\uff0c\u4f46\u4e0d\u5e94\u8be5\u53d8\u66f4\u63a5\u53e3\uff1b\u56e0\u6b64\uff0c\u5b83\u58f0\u660e\u4e3a\u4f9d\u8d56SQLAlchemy\u5c0f\u4e8e2.0\u7684\u7248\u672c\u662f\u5b89\u5168\u7684\u3002\u4f46\u53ef\u60dc\u7684\u662f\uff0cSQLAlchemy\u5e76\u6ca1\u6709\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\u3002</p> <p>Sematic versioning\u63d0\u8bae\u7528\u4e00\u7ec4\u7b80\u5355\u7684\u89c4\u5219\u53ca\u6761\u4ef6\u6765\u7ea6\u675f\u7248\u672c\u53f7\u7684\u914d\u7f6e\u548c\u589e\u957f\u3002\u9996\u5148\uff0c\u4f60\u89c4\u5212\u597d\u516c\u5171API\uff0c\u5728\u6b64\u540e\u7684\u65b0\u7248\u672c\u53d1\u5e03\u4e2d\uff0c\u900f\u8fc7\u4fee\u6539\u76f8\u5e94\u7684\u7248\u672c\u53f7\u6765\u5411\u5927\u5bb6\u8bf4\u660e\u4f60\u7684\u4fee\u6539\u7684\u7279\u6027\u3002\u8003\u8651\u4f7f\u7528\u8fd9\u6837\u7684\u7248\u672c\u53f7\u683c\u5f0f\uff1aX.Y.Z \uff08\u4e3b\u7248\u672c\u53f7.\u6b21\u7248\u672c\u53f7.\u4fee\u8ba2\u53f7\uff09\uff1a\u4fee\u590d\u95ee\u9898\u4f46\u4e0d\u5f71\u54cdAPI \u65f6\uff0c\u9012\u589e\u4fee\u8ba2\u53f7\uff1bAPI \u4fdd\u6301\u5411\u4e0b\u517c\u5bb9\u7684\u65b0\u589e\u53ca\u4fee\u6539\u65f6\uff0c\u9012\u589e\u6b21\u7248\u672c\u53f7\uff1b\u8fdb\u884c\u4e0d\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\u65f6\uff0c\u9012\u589e\u4e3b\u7248\u672c\u53f7\u3002</p> <p>\u5728\u524d\u9762\u6211\u4eec\u63d0\u5230\u8fc7SQLAlchemy\u4ece1.x\u5347\u7ea7\u52301.4\u7684\u4f8b\u5b50\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u662f\u4e2a\u4e0d\u80fd\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\uff0c\u5f15\u5165\u4e86\u5f02\u6b65\u673a\u5236\uff0c\u56e0\u6b64\uff0cSQLAlchemy\u672c\u5e94\u8be5\u542f\u75282.x\u7684\u5168\u65b0\u7248\u672c\u5e8f\u5217\u53f7\uff0c\u800c\u628a1.4\u7559\u4f5c1.x\u7684\u540e\u7eed\u4fee\u8865\u53d1\u5e03\u7248\u672c\u53f7\u4f7f\u7528\u3002\u5982\u6b64\u4ee5\u6765\uff0cSQLAlchemy\u7684\u4f7f\u7528\u8005\u5c31\u5f88\u5bb9\u6613\u660e\u767d\uff0c\u5982\u679c\u8981\u4f7f\u7528\u6700\u65b0\u7684SQLAlchemy\u7248\u672c\uff0c\u5219\u5fc5\u987b\u5bf9\u4ed6\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u5b8c\u5168\u7684\u9002\u914d\u548c\u6d4b\u8bd5\uff0c\u800c\u4e0d\u80fd\u8c61\u4e4b\u524d\u7684\u5347\u7ea7\u4e00\u6837\uff0c\u7b80\u5355\u5730\u628a\u6700\u65b0\u7248\u672c\u5b89\u88c5\u4e0a\uff0c\u4ecd\u7136\u671f\u671b\u5b83\u80fd\u8c61\u4e4b\u524d\u4e00\u6837\u5de5\u4f5c\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u4e00\u4e2a\u5b9a\u4e49\u4e86\u826f\u597d\u4f9d\u8d56\u5173\u7cfb\u7684\u8f6f\u4ef6\uff0c\u8fd8\u80fd\u81ea\u52a8\u4ece\u5347\u7ea7\u4e2d\u6392\u9664\u6389\u5347\u7ea7\u5230SQLAlchemy 2.x\uff0c\u800c\u59cb\u7ec8\u53ea\u57281.x\uff0c\u751a\u81f3\u66f4\u5c0f\u7684\u8303\u56f4\u5185\u8fdb\u884c\u5347\u7ea7\u3002</p> <p>Info</p> <p>SQLAlchemy\u7684\u9519\u8bef\u5e76\u975e\u5b64\u4f8b\u3002\u4e00\u4e2a\u66f4\u6709\u5f71\u54cd\u7684\u4f8b\u5b50\u6d89\u53ca\u5230python\u7684cryptography\u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684\u5bc6\u7801\u5b66\u76f8\u5173\u7684python\u5e93\u3002\u4e3a\u4e86\u63d0\u5347\u6027\u80fd\uff0c\u8bb8\u591a\u4ee3\u7801\u6700\u521d\u662f\u4f7f\u7528c\u5199\u7684\u3002\u6709\u4e00\u5929\u4f5c\u8005\u610f\u8bc6\u5230\uff0c\u4f7f\u7528c\u4f1a\u5b58\u5728\u5f88\u591a\u5b89\u5168\u95ee\u9898\uff0c\u800c\u5b89\u5168\u6027\u53c8\u662fcryptography\u7684\u6838\u5fc3\u3002\u4e8e\u662f\uff0c\u57282021\u5e742\u67088\u65e5\u524d\u540e\uff0c\u4ed6\u6539\u7528rust\u6765\u8fdb\u884c\u5b9e\u73b0\u3002\u8fd9\u5bfc\u81f4\u5b89\u88c5cryptography\u5e93\u7684\u4eba\uff0c\u5fc5\u987b\u5728\u672c\u673a\u4e0a\u6709rust\u7684\u7f16\u8bd1\u5de5\u5177\u94fe -- \u4e8b\u5b9e\u662f\uff0crust\u4e0ec\u548cpython\u76f8\u6bd4\uff0c\u8fd8\u662f\u76f8\u5f53\u5c0f\u4f17\u7684\uff0c\u5f88\u591a\u4eba\u7684\u673a\u5668\u4e0a\u663e\u7136\u4e0d\u4f1a\u6709\u8fd9\u5957\u5de5\u5177\u94fe\u3002</p> <p>\u9700\u8981\u6307\u51fa\u7684\u662f\uff0ccryptography\u6539\u7528rust\u5b9e\u73b0\uff0c\u5e76\u6ca1\u6709\u6539\u53d8\u5b83\u7684python\u63a5\u53e3\u3002\u76f8\u53cd\uff0c\u5176python\u63a5\u53e3\u5b8c\u5168\u4fdd\u6301\u7740\u4e00\u81f4\u3002\u56e0\u6b64\uff0ccryptography\u7684\u4f5c\u8005\u4e5f\u65e2\u6ca1\u6709\u91cd\u547d\u540dcryptography\uff0c\u4e5f\u6ca1\u6709\u53d8\u66f4\u4e3b\u7248\u672c\u53f7\u3002</p> <p>\u4f46\u662f\u8fd9\u4e00\u5c0f\u5c0f\u7684\u6539\u52a8\uff0c\u6380\u8d77\u4e86\u8f69\u7136\u5927\u6ce2\u3002\u4e00\u591c\u4e4b\u95f4\uff0c\u5b83\u6467\u6bc1\u4e86\u65e0\u6570\u7684CI\u7cfb\u7edf\uff0c\u65e0\u6570docker\u955c\u50cf\u5fc5\u987b\u88ab\u91cd\u6784\uff0c\u62b1\u6028\u58f0\u5982\u6f6e\u6c34\u822c\u6d8c\u5411\u4f5c\u8005\u3002\u5728\u77ed\u77ed\u51e0\u4e2a\u5c0f\u65f6\uff0c\u4f5c\u8005\u5c31\u6536\u5230\u4e86100\u6761\u6fc0\u70c8\u7684\u8bc4\u8bba\uff0c\u6700\u7ec8\u4f5c\u8005\u4e0d\u5f97\u4e0d\u5173\u6389\u4e86\u8fd9\u4e2aissue</p> <p>\u4e00\u4e2a\u6b63\u786e\u5730\u4f7f\u7528semantic versioning\u7684\u4f8b\u5b50\u662faioredis\u4ece1.x\u5347\u7ea7\u52302.0\u3002\u5c3d\u7ba1aioredis\u5347\u7ea7\u52302.0\u65f6\uff0c\u5927\u591a\u6570API\u5e76\u6ca1\u6709\u53d1\u751f\u6539\u53d8--\u53ea\u662f\u5728\u5185\u90e8\u8fdb\u884c\u4e86\u6027\u80fd\u589e\u5f3a\uff0c\u4f46\u5b83\u7684\u786e\u6539\u53d8\u4e86\u521d\u59cb\u5316aioredis\u7684\u65b9\u5f0f\uff0c\u4ece\u800c\u4f7f\u5f97\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u53ef\u80fd\u4e0d\u52a0\u4fee\u6539\u5c31\u76f4\u63a5\u66f4\u65b0\u52302.0\u7248\u672c\u3002\u56e0\u6b64\uff0caioredis\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c06\u7248\u672c\u53f7\u66f4\u65b0\u4e3a2.0\u662f\u975e\u5e38\u6b63\u786e\u7684\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u7684API\u53d1\u751f\u4e86\u53d8\u5316\uff08\u51fd\u6570\u7b7e\u540d\u53d1\u751f\u6539\u53d8\uff09\uff0c\u6216\u8005\u4f1a\u5bfc\u81f4\u65e7\u7248\u7684\u6570\u636e\u65e0\u6cd5\u7ee7\u7eed\u4f7f\u7528\uff0c\u4f60\u90fd\u5e94\u8be5\u8003\u8651\u4e3b\u7248\u672c\u53f7\u7684\u9012\u589e\u3002</p> <p>\u6b64\u5916\uff0c\u4ece0.1\u52301.0\u4e4b\u524d\u7684\u6bcf\u4e00\u4e2aminor\u7248\u672c\uff0c\u90fd\u88ab\u8ba4\u4e3a\u5728API\u4e0a\u662f\u4e0d\u7a33\u5b9a\u7684\uff0c\u90fd\u53ef\u80fd\u662f\u7834\u574f\u6027\u7684\u66f4\u65b0\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u4e86\u8fd8\u672a\u5b9a\u578b\u52301.0\u7248\u672c\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4f60\u9700\u8981\u8c28\u614e\u58f0\u660e\u5176\u4f9d\u8d56\u5173\u7cfb\u3002</p>"},{"location":"chap05/#\u5982\u4f55\u4f7f\u7528poetry\u8fdb\u884c\u7248\u672c\u7ba1\u7406","title":"\u5982\u4f55\u4f7f\u7528Poetry\u8fdb\u884c\u7248\u672c\u7ba1\u7406","text":"<p>\u5047\u8bbe\u60a8\u5df2\u7ecf\u4f7f\u7528[python project wizard]\u751f\u6210\u4e86\u4e00\u4e2a\u5de5\u7a0b\u6846\u67b6\uff0c\u90a3\u4e48\u5e94\u8be5\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e0b\u627e\u5230pyproject.toml\u6587\u4ef6\uff0c\u5176\u4e2d\u6709\u4e00\u9879\uff1a</p> <p><pre><code>version = 0.1\n</code></pre> \u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c<code>poetry version</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5c31\u4f1a\u663e\u793a<code>0.1</code>\u8fd9\u4e2a\u7248\u672c\u53f7\u3002</p> <p>Poetry\u4f7f\u7528\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c(semantic version)\u8868\u793a\u6cd5\u3002 </p> <p>\u5728Poetry\u4e2d\uff0c\u5f53\u6211\u4eec\u9700\u8981\u4fee\u6539\u7248\u672c\u53f7\u65f6\uff0c\u5e76\u4e0d\u662f\u76f4\u63a5\u6307\u5b9a\u65b0\u7684\u7248\u672c\u53f7\uff0c\u800c\u662f\u901a\u8fc7<code>poetry version semver</code>\u6765\u4fee\u6539\u7248\u672c\u3002<code>semver</code>\u53ef\u4ee5\u662f<code>patch</code>, <code>minor</code>, <code>major</code>, <code>prepatch</code>, <code>preminor</code>, <code>premajor</code>\u548c <code>prerelease</code>\u4e2d\u7684\u4e00\u4e2a\u3002\u8fd9\u4e9b\u5173\u952e\u5b57\u5b9a\u4e49\u5728\u89c4\u8303PEP 440\u4e2d\u3002</p> <p><code>semver</code>\u7ed3\u5408\u60a8\u5f53\u524d\u7684\u7248\u672c\u53f7\uff0c\u901a\u8fc7\u8fd0\u7b97\uff0c\u5c31\u5f97\u51fa\u4e86\u65b0\u7684\u7248\u672c\u53f7\uff1a</p> rule before after major 1.3.0 2.0.0 minor 2.1.4 2.2.0 patch 4.1.1 4.1.2 premajor 1.0.2 2.0.0-alpha.0 preminor 1.0.2 1.1.0-alpha.0 prepatch 1.0.2 1.0.3-alpha.0 prerelease 1.0.2 1.0.3-alpha.0 prerelease 1.0.3-alpha.0 1.0.3-alpha.1 prerelease 1.0.3-beta.0 1.0.3-beta.1 <p>\u53ef\u4ee5\u770b\u51fa\uff0cpoetry\u5bf9\u7248\u672c\u53f7\u7684\u7ba1\u7406\u662f\u5b8c\u5168\u7b26\u5408semantic version\u7684\u8981\u6c42\u7684\u3002\u5f53\u4f60\u5b8c\u6210\u4e86\u4e00\u4e2a\u5c0f\u7684\u4fee\u8ba2\uff08\u6bd4\u5982\u4fee\u590d\u4e86\u4e00\u4e2abug\uff0c\u6216\u8005\u589e\u5f3a\u4e86\u6027\u80fd\uff0c\u6216\u8005\u4fee\u590d\u4e86\u5b89\u5168\u6f0f\u6d1e)\uff0c\u6b64\u65f6\u53ea\u5e94\u8be5\u9012\u589epackage\u7684\u4fee\u8ba2\u53f7\uff0c\u5373x.y.z\u4e2d\u7684'z'\uff0c\u8fd9\u65f6\u6211\u4eec\u5c31\u5e94\u8be5\u4f7f\u7528\u547d\u4ee4: <pre><code>poetry version patch\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u662f0.1.0\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a0.1.1\u3002 \u5982\u679c\u6211\u4eec\u7684package\u65b0\u589e\u52a0\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u800c\u4e4b\u524d\u63d0\u4f9b\u7684\u529f\u80fd\uff08API\uff09\u90fd\u8fd8\u80fd\u4e0d\u52a0\u4fee\u6539\uff0c\u7ee7\u7eed\u4f7f\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u9012\u589e\u6b21\u7248\u672c\u53f7\uff0c\u5373x.y.z\u4e2d\u7684'y'\u3002\u8fd9\u65f6\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u547d\u4ee4\uff1a <pre><code>poetry version minor\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u662f0.1.1\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a0.2.0</p> <p>\u5982\u679c\u6211\u4eec\u7684package\u8fdb\u884c\u4e86\u5927\u5e45\u7684\u4fee\u6539\uff0c\u5e76\u4e14\u4e4b\u524d\u63d0\u4f9b\u7684\u529f\u80fd\uff08API\uff09\u7684\u7b7e\u540d\u5df2\u7ecf\u53d8\u6389\uff0c\u4ece\u800c\u4f7f\u5f97\u8c03\u7528\u8005\u5fc5\u987b\u4fee\u6539\u4ed6\u4eec\u7684\u7a0b\u5e8f\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e9bAPI\uff0c\u53c8\u6216\u8005\u65b0\u7684\u7248\u672c\u4e0d\u518d\u80fd\u517c\u5bb9\u8001\u7248\u672c\u7684\u6570\u636e\u683c\u5f0f\uff0c\u7528\u6237\u5fc5\u987b\u5bf9\u6570\u636e\u8fdb\u884c\u989d\u5916\u7684\u8fc1\u79fb\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u8fd9\u662f\u4e00\u6b21\u7834\u574f\u6027\u7684\u66f4\u65b0\uff0c\u5fc5\u987b\u5347\u7ea7\u4e3b\u7248\u672c\u53f7\uff1a <pre><code>poetry version major\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u53f7\u662f0.3.1,\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a1.0.0\uff1b\u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u53f7\u662f1.2.1\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a2.0.0\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cpoetry\u8fd8\u63d0\u4f9b\u4e86\u9884\u53d1\u5e03\u7248\u672c\u53f7\u7684\u652f\u6301\u3002\u6bd4\u5982\uff0c\u4e0a\u4e00\u4e2a\u53d1\u5e03\u7684\u7248\u672c\u662f0.1.0\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u6b63\u5f0f\u53d1\u5e030.1.1\u8fd9\u4e2a\u4fee\u8ba2\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u75280.1.1.a0\u8fd9\u4e2a\u7248\u672c\u53f7\uff1a <pre><code>poetry version prerelease\n# output:\nBumping version from 0.1.0 to 0.1.1a0\n</code></pre> \u5982\u679c\u9700\u8981\u518d\u51fa\u4e00\u4e2aalpha\u7248\u672c\uff0c\u5219\u53ef\u4ee5\u518d\u6b21\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\uff1a <pre><code>poetry version prerelease\n# output:\nBumping version from 0.1.1a0 to 0.1.1a1\n</code></pre> \u5982\u679calpha\u7248\u672c\u5df2\u7ecf\u5b8c\u6210\uff0c\u53ef\u4ee5\u6b63\u5f0f\u53d1\u5e03\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a <pre><code>poetry version patch\n# output:\nBumping version from 0.1.1a1 to 0.1.1\n</code></pre> poetry\u6682\u65f6\u8fd8\u6ca1\u6709\u63d0\u4f9b\u4ecealpha\u8f6c\u5230beta\u7248\u672c\u7cfb\u5217\u7684\u547d\u4ee4\u3002\u5982\u679c\u6709\u6b64\u9700\u8981\uff0c\u60a8\u9700\u8981\u624b\u5de5\u7f16\u8f91pyproject.toml\u6587\u4ef6\u3002</p> <p>\u9664\u4e86poetry version prerelease\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u6ce8\u610f\u5230\u4e0a\u9762\u5217\u51fa\u7684premajor, preminor\u548cprepatch\u9009\u9879\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u4e5f\u662f\u5c06\u7248\u672c\u53f7\u4fee\u6539\u4e3aalpha\u7248\u672c\u7cfb\u5217\uff0c\u4f46\u65e0\u8bba\u4f60\u8fd0\u884c\u591a\u5c11\u6b21\uff0c\u5b83\u4eec\u5e76\u4e0d\u4f1a\u8c61prerelease\u9009\u9879\u4e00\u6837\uff0c\u9012\u589ealpha\u7248\u672c\u53f7\u3002\u6240\u4ee5\u5728\u5b9e\u9645\u7684alpha\u7248\u672c\u7ba1\u7406\u4e2d\uff0c\u4f3c\u4e4e\u53ea\u4f7f\u7528<code>poetry version prerelease</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"chap05/#\u4f9d\u8d56\u7ba1\u7406","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"chap05/#\u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u7684\u610f\u4e49","title":"\u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u7684\u610f\u4e49","text":"<p>\u6211\u4eec\u5df2\u7ecf\u901a\u8fc7\u5927\u91cf\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u4f9d\u8d56\u7ba1\u7406\u7684\u4f5c\u7528\u3002\u603b\u7ed3\u8d77\u6765\uff0c\u4f9d\u8d56\u7ba1\u7406\u4e0d\u4ec5\u8981\u68c0\u67e5\u9879\u76ee\u4e2d\u58f0\u660e\u7684\u76f4\u63a5\u4f9d\u8d56\u4e4b\u95f4\u7684\u51b2\u7a81\uff0c\u8fd8\u8981\u68c0\u67e5\u5b83\u4eec\u5404\u81ea\u7684\u4f20\u9012\u4f9d\u8d56\u4e4b\u95f4\u7684\u5f7c\u6b64\u517c\u5bb9\u6027\u3002</p>"},{"location":"chap05/#poetry\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u7684\u76f8\u5173\u547d\u4ee4","title":"Poetry\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u7684\u76f8\u5173\u547d\u4ee4","text":"<p>\u5728Poetry\u7ba1\u7406\u7684\u5de5\u7a0b\u4e2d\uff0c\u5f53\u6211\u4eec\u5411\u5de5\u7a0b\u4e2d\u52a0\u5165\uff08\u6216\u8005\u66f4\u65b0\uff09\u4f9d\u8d56\u65f6\uff0c\u603b\u662f\u4f7f\u7528<code>poetry add</code>\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a<code>poetry add pytest</code></p> <p>\u8fd9\u91cc\u53ef\u4ee5\u6307\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a\u7248\u672c\u53f7\u3002\u547d\u4ee4\u5728\u6267\u884c\u65f6\uff0c\u4f1a\u5bf9<code>pytest</code>\u6240\u4f9d\u8d56\u7684\u5e93\u8fdb\u884c\u89e3\u6790\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u7248\u672c\u4e3a\u6b62\u3002\u5982\u679c\u60a8\u6307\u5b9a\u4e86\u7248\u672c\u53f7\uff0c\u8be5\u7248\u672c\u4e0e\u5de5\u7a0b\u91cc\u5df2\u6709\u7684\u5176\u5b83\u5e93\u4e0d\u517c\u5bb9\u7684\u8bdd\uff0c\u547d\u4ee4\u5c06\u4f1a\u5931\u8d25\u3002</p> <p>\u6211\u4eec\u5728\u6dfb\u52a0\u4f9d\u8d56\u65f6\uff0c\u4e00\u822c\u8981\u6307\u5b9a\u8f83\u4e3a\u51c6\u786e\u7684\u7248\u672c\u53f7\uff0c\u754c\u5b9a\u4e0a\u4e0b\u754c\uff0c\u4ece\u800c\u907f\u514d\u610f\u5916\u5347\u7ea7\u5e26\u6765\u7684\u5404\u79cd\u98ce\u9669\u3002\u5728\u6307\u5b9a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u8303\u56f4\u65f6\uff0c\u6709\u4ee5\u4e0b\u5404\u79cd\u8bed\u6cd5\uff1a <pre><code>poetry add SQLAlchemy               # \u4f7f\u7528\u6700\u65b0\u7684\u7248\u672c\n</code></pre> \u4f7f\u7528\u901a\u914d\u7b26\u8bed\u6cd5: <pre><code>poetry add SQLAlchemy=*             # \u4f7f\u7528&gt;=0.0.0\u7684\u7248\u672c\uff0c\u65e0\u6cd5\u9501\u5b9a\u4e0a\u754c\uff0c\u4e0d\u63a8\u8350\npoetry add SQLAlchemy=1.*           # \u4f7f\u7528&gt;=1.0.0, &lt;2.0.0\u7684\u7248\u672c\n</code></pre> \u4f7f\u7528\u63d2\u5b57\u7b26(caret)\u8bed\u6cd5: <pre><code>poetry add SQLAlchemy^1.2.3         # \u4f7f\u7528&gt;=1.2.3, &lt;2.0.0\u7684\u7248\u672c\npoetry add SQLAlchemy^1.2           # \u4f7f\u7528&gt;=1.2.0, &lt;2.0.0\u7684\u7248\u672c\npoetry add SQLAlchemy^1             # \u4f7f\u7528&gt;=1.0.0, &lt;2.0.0\u7684\u7248\u672c\n</code></pre> \u4f7f\u7528\u6ce2\u6d6a\u7b26(Tilde)\u8bed\u6cd5: <pre><code>poetry add SQLAlchemy~1.2           # \u4f7f\u7528&gt;=1.2.0,&lt;1.3\u7684\u7248\u672c\npoetry add SQLAlchemy~1.2.3         # \u4f7f\u7528&gt;=1.2.3\uff0c&lt;1.3\u7684\u7248\u672c\n</code></pre> \u4f7f\u7528\u4e0d\u7b49\u5f0f\u8bed\u6cd5(\u53ca\u591a\u4e2a\u4e0d\u7b49\u5f0f): <pre><code>poetry add SQLAlchemy&gt;=1.2,&lt;1.4     # \u4f7f\u7528&gt;=1.2,&lt;1.4\u7684\u7248\u672c\n</code></pre> \u6700\u540e\uff0c\u7cbe\u786e\u5339\u914d\u8bed\u6cd5\uff1a <pre><code>poetry add SQLAlchemy==1.2.3        # \u4f7f\u75281.2.3\u7248\u672c\n</code></pre></p> <p>\u5982\u679c\u6709\u53ef\u80fd\uff0c\u6211\u4eec\u63a8\u8350\u603b\u662f\u4f7f\u7528\u6ce2\u6d6a\u7b26\u6216\u8005\u4e0d\u7b49\u5f0f\u8bed\u6cd5\u3002\u5b83\u4eec\u6709\u52a9\u4e8e\u5728\u53ef\u5347\u7ea7\u6027\u548c\u53ef\u5339\u914d\u6027\u4e0a\u53d6\u5f97\u8f83\u597d\u7684\u5e73\u8861\u3002\u6bd4\u5982\uff0c\u5982\u679c\u5728\u589e\u52a0\u5bf9SQLAlchemy\u7684\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u63d2\u5b57\u7b26\u8bed\u6cd5\uff0c\u4f60\u5df2\u7ecf\u53d1\u884c\u51fa\u53bb\u7684\u5b89\u88c5\u5305\uff0c\u5219\u4f1a\u5728\u5b89\u88c5\u65f6\u81ea\u52a8\u91c7\u7528\u76f4\u52302.0.0\u4e4b\u524d\u7684SQLAlchemy\u7684\u6700\u65b0\u7248\u672c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u7684\u5b89\u88c5\u5305\u662f\u5728SQLAlchemy 1.4\u4e4b\u524d\u88ab\u5b89\u88c5\uff0c\u6b64\u540e\u7528\u6237\u4e0d\u518d\u5347\u7ea7\uff0c\u5219\u5b83\u4eec\u5c06\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\uff1b\u800c\u5982\u679c\u662f\u5728SQLAlchemy 1.4\u53d1\u5e03\u4e4b\u540e\u88ab\u5b89\u88c5\uff0cpip\u5c06\u81ea\u52a8\u4f7f\u75281.4\u53ca\u4ee5\u540e\u6700\u65b0\u7684SQLAlchemy\uff0c\u4e8e\u662f1.4\u8fd9\u4e2a\u8ddf\u4e4b\u524d\u7248\u672c\u4e0d\u517c\u5bb9\u7684\u7248\u672c\u5c31\u88ab\u5b89\u88c5\u4e0a\u4e86\uff0c\u5bfc\u81f4\u4f60\u7684\u7a0b\u5e8f\u5d29\u6e83;\u800c\u4f60\u5c06\u4e0d\u4f1a\u6709\u4efb\u4f55\u529e\u6cd5\uff08\u9664\u975e\u53d1\u884c\u65b0\u7684\u5347\u7ea7\u5305\uff09\u6765\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u3002</p> <p>\u8fd9\u4e5f\u770b\u51fa\u6765SQLAlchemy\u7684\u53d1\u884c\u5e76\u4e0d\u7b26\u5408Semantic\u7684\u6807\u51c6\u3002\u4e00\u65e6\u51fa\u73b0API\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u662f\u9700\u8981\u5bf9\u4e3b\u7248\u672c\u5347\u7ea7\u7684\u3002\u5982\u679cSQLAlchemy\u4e0d\u662f\u5c06\u7248\u672c\u5347\u7ea7\u52301.4\uff0c\u5219\u662f\u5347\u7ea7\u52302.0\uff0c\u5219\u4e0d\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u73b0\u95ee\u9898\u3002</p> <p>\u59cb\u7ec8\u9075\u5faa\u793e\u533a\u89c4\u8303\u8fdb\u884c\u5f00\u53d1\uff0c\u8fd9\u662f\u6bcf\u4e00\u4e2a\u5f00\u6e90\u7a0b\u5e8f\u5f00\u53d1\u8005\u90fd\u5e94\u8be5\u91cd\u89c6\u7684\u95ee\u9898\u3002</p> <p>\u4f46\u662f\uff0c\u6307\u5b9a\u5177\u4f53\u7684\u7248\u672c\u4e5f\u4f1a\u6709\u5b83\u7684\u95ee\u9898\u3002\u5728\u5411\u5de5\u7a0b\u4e2d\u589e\u52a0\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u6307\u5b9a\u4e86\u5177\u4f53\u7684\u7248\u672c\uff0c\u6709\u53ef\u80fd\u56e0\u4e3a\u4f9d\u8d56\u51b2\u7a81\u7684\u539f\u56e0\uff0c\u65e0\u6cd5\u6307\u5b9a\u6210\u529f\u3002\u6b64\u65f6\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u8f83\u5bbd\u6cdb\u4e00\u70b9\u7684\u7248\u672c\u8303\u56f4\uff0c\u5f85\u89e3\u6790\u6210\u529f\u548c\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u518d\u6539\u4e3a\u56fa\u5b9a\u7248\u672c\u3002\u53e6\u5916\uff0c\u5982\u679c\u8be5\u4f9d\u8d56\u53d1\u5e03\u4e86\u4e00\u4e2a\u7d27\u6025\u7684\u5b89\u5168\u66f4\u65b0\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u9012\u589e\u4fee\u8ba2\u53f7\u7684\u65b9\u5f0f\u6765\u9012\u589e\u7248\u672c\u3002\u4f7f\u7528\u6307\u5b9a\u7684\u7248\u672c\u53f7\u4f1a\u5bfc\u81f4\u4f60\u7684\u5e94\u7528\u65e0\u6cd5\u5feb\u901f\u83b7\u5f97\u6b64\u5b89\u5168\u66f4\u65b0\u3002</p> <p>\u5728\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u5230\u4e86\u4f9d\u8d56\u5206\u7ec4\u3002\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f1a\u4f9d\u8d56\u8bb8\u591a\u7b2c\u4e09\u65b9\u5e93\uff0c\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u5e93\u4e2d\uff0c\u6709\u7684\u662f\u8fd0\u884c\u65f6\u4f9d\u8d56\uff0c\u56e0\u6b64\u5b83\u4eec\u5fc5\u987b\u968f\u6211\u4eec\u7684\u7a0b\u5e8f\u4e00\u540c\u88ab\u5206\u53d1\u5230\u7ec8\u7aef\u7528\u6237\u90a3\u91cc\uff1b\u6709\u7684\u5219\u53ea\u662f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9700\u8981\uff0c\u6bd4\u5982\u8c61pytest\uff0cblack\uff0cmkdocs\u7b49\u7b49\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u4f9d\u8d56\u5206\u7ec4\uff0c\u5e76\u4e14\u53ea\u5411\u7ec8\u7aef\u7528\u6237\u5206\u53d1\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u8fd9\u6837\u505a\u7684\u76ca\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u4e00\u65b9\u9762\uff0c\u4f9d\u8d56\u89e3\u6790\u5e76\u4e0d\u5bb9\u6613\uff0c\u4e00\u4e2a\u7a0b\u5e8f\u540c\u65f6\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\u8d8a\u591a\uff0c\u4f9d\u8d56\u89e3\u6790\u5c31\u8d8a\u56f0\u96be\uff0c\u8017\u65f6\u8d8a\u957f\uff0c\u4e5f\u8d8a\u5bb9\u6613\u5931\u8d25\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u5411\u7ec8\u7aef\u7528\u6237\u7684\u73af\u5883\u91cc\u6ce8\u5165\u7684\u4f9d\u8d56\u8d8a\u591a\uff0c\u4ed6\u4eec\u7684\u73af\u5883\u4e2d\u5c31\u8d8a\u5bb9\u6613\u9047\u5230\u4f9d\u8d56\u51b2\u7a81\u95ee\u9898\u3002</p> <p>\u6700\u65b0\u7684Python\u89c4\u8303\u5141\u8bb8\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u53d1\u884c\u4f9d\u8d56\uff08\u5728\u6700\u65b0\u7684poetry\u7248\u672c\u4e2d\uff0c\u88ab\u5f52\u7c7b\u4e3amain\u4f9d\u8d56\uff09\u548cextra requirements\u3002\u5728\u4e0a\u4e00\u7ae0\u5411\u5bfc\u521b\u5efa\u7684\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u628aextra reuqirement\u5206\u4e3a\u4e86\u4e09\u4e2a\u7ec4\uff0c\u5373dev, test, doc\u3002</p> <p><pre><code>[tool.poetry.dependencies]\nblack  = { version = \"20.8b1\", optional = true}\nisort  = { version = \"5.6.4\", optional = true}\nflake8  = { version = \"3.8.4\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\npytest  = { version = \"6.1.2\", optional = true}\npytest-cov  = { version = \"2.10.1\", optional = true}\ntox  = { version = \"^3.20.1\", optional = true}\nvirtualenv  = { version = \"^20.2.2\", optional = true}\npip  = { version = \"^20.3.1\", optional = true}\nmkdocs  = { version = \"^1.1.2\", optional = true}\nmkdocs-include-markdown-plugin  = { version = \"^1.0.0\", optional = true}\nmkdocs-material  = { version = \"^6.1.7\", optional = true}\nmkdocstrings  = { version = \"^0.13.6\", optional = true}\nmkdocs-material-extensions  = { version = \"^1.0.1\", optional = true}\ntwine  = { version = \"^3.3.0\", optional = true}\nmkdocs-autorefs = {version = \"0.1.1\", optional = true}\npre-commit = {version = \"^2.12.0\", optional = true}\ntoml = {version = \"^0.10.2\", optional = true}\n\n[tool.poetry.extras]\ntest = [\n    \"pytest\",\n    \"black\",\n    \"isort\",\n    \"flake8\",\n    \"flake8-docstrings\",\n    \"pytest-cov\"\uff0c\n    \"twine\"\n    ]\n\ndev = [\"tox\", \"pre-commit\", \"virtualenv\", \"pip\",  \"toml\"]\n\ndoc = [\n    \"mkdocs\",\n    \"mkdocs-include-markdown-plugin\",\n    \"mkdocs-material\",\n    \"mkdocstrings\",\n    \"mkdocs-material-extension\",\n    \"mkdocs-autorefs\"\n    ]\n</code></pre> \u8fd9\u91cctox\uff0c pre-commit\u7b49\u662f\u6211\u4eec\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u5de5\u5177\uff1bpytest\u7b49\u662f\u6d4b\u8bd5\u65f6\u9700\u8981\u7684\u4f9d\u8d56\uff1b\u800cdoc\u5219\u662f\u6784\u5efa\u6587\u6863\u65f6\u9700\u8981\u7684\u5de5\u5177\u3002\u901a\u8fc7\u8fd9\u6837\u5212\u5206\uff0c\u53ef\u4ee5\u4f7fCI\u6216\u8005\u6587\u6863\u6258\u7ba1\u5e73\u53f0\u53ea\u5b89\u88c5\u5fc5\u8981\u7684\u4f9d\u8d56\uff1b\u540c\u65f6\u4e5f\u5bb9\u6613\u8ba9\u5f00\u53d1\u8005\u5206\u6e05\u6bcf\u4e2a\u4f9d\u8d56\u7684\u5177\u4f53\u4f5c\u7528\u3002</p> <p>\u5f53\u4f60\u4f7f\u7528poetry add\u547d\u4ee4\uff0c\u4e0d\u52a0\u4efb\u4f55\u9009\u9879\u65f6\uff0c\u8be5\u4f9d\u8d56\u5c06\u88ab\u6dfb\u52a0\u4e3a\u53d1\u884c\u4f9d\u8d56\uff08\u57281.3\u4ee5\u4e0a\u7684poetry\u4e2d\uff0c\u88ab\u5f52\u4e3amain\u7ec4\uff09\uff0c\u5373\u5b89\u88c5\u4f60\u7684\u5305\u7684\u6700\u7ec8\u7528\u6237\uff0c\u4ed6\u4eec\u4e5f\u5c06\u5b89\u88c5\u8be5\u4f9d\u8d56\u3002\u4f46\u6709\u4e00\u4e9b\u4f9d\u8d56\u53ea\u662f\u5f00\u53d1\u8005\u9700\u8981\uff0c\u6bd4\u5982\u8c61mkdocs\uff0c pytest\u7b49\uff0c\u5b83\u4eec\u4e0d\u5e94\u8be5\u88ab\u5206\u53d1\u5230\u6700\u7ec8\u7528\u6237\u90a3\u91cc\u3002</p> <p>\u5728python proejct wizard\u5f00\u53d1\u65f6\uff0cpoetry\u8fd8\u53ea\u652f\u6301\u4e00\u4e2adev\u5206\u7ec4\uff0c\u8fd9\u6837\u7684\u7c92\u5ea6\u5f53\u7136\u662f\u4e0d\u591f\u7684\uff0c\u56e0\u6b64\uff0cpython project wizard\u501f\u7528\u4e86extras\u5b57\u6bb5\u6765\u5411\u9879\u76ee\u6dfb\u52a0\u53ef\u9009\u4f9d\u8d56\u5206\u7ec4\uff0c\u5176\u5b83\u5de5\u5177\uff0c\u6bd4\u5982tox\u4e5f\u652f\u6301\u8fd9\u6837\u7684\u8bed\u6cd5\u3002</p> <p>\u73b0\u5728\u6700\u65b0\u7684poetry\u5df2\u7ecf\u5b8c\u5168\u652f\u6301\u5206\u7ec4\u6a21\u5f0f\uff0c\u5e76\u4e14\u4ece\u6587\u6863\u53ef\u4ee5\u770b\u51fa\uff0c\u5b83\u5efa\u8bae\u81f3\u5c11\u4f7f\u7528main, docs\u548ctest\u4e09\u4e2a\u5206\u7ec4\u3002\u540e\u7eedpython project wizard\u751f\u6210\u7684\u9879\u76ee\u6846\u67b6\uff0c\u4e5f\u5c06\u5b8c\u5168\u4f7f\u7528\u6700\u65b0\u7684\u8bed\u6cd5\uff0c\u4f46\u4ecd\u7136\u4fdd\u7559\u56db\u4e2a\u5206\u7ec4\uff0c\u5373main, dev, docs\u548ctest\u3002</p> <p>\u901a\u8fc7poetry\u5411\u9879\u76ee\u589e\u52a0\u5206\u7ec4\u53ca\u4f9d\u8d56\uff0c\u8bed\u6cd5\u662f\uff1a <pre><code>poetry add pytest --group test\n</code></pre> \u8fd9\u6837\uff0c\u751f\u6210\u7684pyproject.toml\u7247\u6bb5\u5982\u4e0b\uff1a <pre><code>[tool.poetry.group.test.dependencies]\npytest = \"*\"\n</code></pre></p> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u5176\u6307\u5b9a\u4e3aoptional\u3002\u76ee\u524d\u6700\u65b0\u7248\u672c\u7684poetry\u4ecd\u7136\u4e0d\u652f\u6301\u901a\u8fc7\u547d\u4ee4\u884c\u76f4\u63a5\u5c06group\u6307\u5b9a\u4e3aoptional\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u624b\u5de5\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <pre><code>[tool.poetry.group.test]\noptional = true\n</code></pre> <p>Info</p> <p>\u6ce8\u610f\uff0c\u901a\u8fc7\u4e0a\u8ff0\u547d\u4ee4\u751f\u6210\u7684toml\u6587\u4ef6\u7684\u5185\u5bb9\u53ef\u80fd\u4e0epython project wizard\u5f53\u524d\u7248\u672c\u751f\u6210\u7684\u6709\u6240\u4e0d\u540c\u3002\u4f46python project wizard\u7684\u672a\u6765\u7248\u672c\u6700\u7ec8\u5c06\u4f7f\u7528\u540c\u6837\u7684\u8bed\u6cd5\u3002</p>"},{"location":"chap05/#poetry\u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406","title":"poetry\u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u7b80\u5355\u5730\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528poetry\u6765\u5411\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u589e\u52a0\u4f9d\u8d56\u3002\u6211\u4eec\u5f3a\u8c03\u4e86\u4f9d\u8d56\u89e3\u6790\u7684\u56f0\u96be\uff0c\u4f46\u5e76\u6ca1\u6709\u89e3\u91capoetry\u662f\u5982\u4f55\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\u7684\uff0c\u5b83\u4f1a\u9047\u5230\u54ea\u4e9b\u56f0\u96be\uff0c\u53ef\u80fd\u906d\u9047\u4ec0\u4e48\u6837\u7684\u5931\u8d25\uff0c\u4ee5\u53ca\u5e94\u8be5\u5982\u4f55\u6392\u9519\u3002\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8fd9\u5f80\u5f80\u662f\u914d\u7f6epoetry\u9879\u76ee\u65f6\u6700\u56f0\u96be\u548c\u6700\u8017\u65f6\u95f4\u7684\u90e8\u5206\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5f80\u9879\u76ee\u4e2d\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u4f9d\u8d56\uff0c\u901a\u5e38\u6211\u4eec\u4f7f\u7528<code>poetry add xxx</code>\u6765\u5f80\u9879\u76ee\u4e2d\u589e\u52a0\u4f9d\u8d56\u3002\u4e3a\u4e86\u4e00\u7aa5poetry\u4f9d\u8d56\u89e3\u6790\u7684\u7a76\u7adf\uff0c\u8fd9\u6b21\u6211\u4eec\u52a0\u4e0a\u8be6\u7ec6\u4fe1\u606f\u8f93\u51fa:</p> <p><pre><code>poetry add gino -vvv\n</code></pre> \u8f93\u51fa\u4f1a\u5f88\u957f\u3002\u6211\u4eec\u6458\u8981\u8bfb\u4e00\u4e0b\u8ddfgino\u76f8\u5173\u7684\u4e00\u4e9b\u89e3\u6790\u8fc7\u7a0b\uff1a</p> <p>\u9996\u5148\uff0cpoetry\u6ce8\u610f\u5230sample 0.1.0\u4f9d\u8d56\u5230gino(&gt;=1.0.1, &lt; 2.0.0)\uff0c\u4ee5\u53ca\u5176\u5b83\u4e00\u4e9b\u4f9d\u8d56\uff0c\u751f\u6210\u4e86\u7b2c\u4e00\u6b65\u7684\u89e3\u6790\u7ed3\u679c\uff1a <pre><code>   1: fact: sample is 0.1.0\n   1: derived: sample\n   1: selecting sample (0.1.0)\n   1: derived: gino (&gt;=1.0.1,&lt;2.0.0)\n   1: derived: mike (&gt;=1.1.2,&lt;2.0.0)\n    ...\n```text\n\u63a5\u4e0b\u6765\uff0c\u4e0b\u8f7dgino\uff0c\u89e3\u6790\u51fa\u4e0b\u9762\u7684\u4f9d\u8d56:\n```text\n1 packages found for gino &gt;=1.0.1,&lt;2.0.0\n   1: fact: gino (1.0.1) depends on SQLAlchemy (&gt;=1.2.16,&lt;1.4)\n   1: fact: gino (1.0.1) depends on asyncpg (&gt;=0.18,&lt;1.0)\n   1: selecting gino (1.0.1)\n   1: derived: asyncpg (&gt;=0.18,&lt;1.0)\n   1: derived: SQLAlchemy (&gt;=1.2.16,&lt;1.4)\n</code></pre> \u518d\u63a5\u4e0b\u6765\uff0c\u5b83\u627e\u5230sqlalchemy\u768429\u4e2a\u7248\u672c\uff1a <pre><code>Source (ali): 14 packages found for asyncpg &gt;=0.18,&lt;1.0\nSource (ali): 29 packages found for sqlalchemy &gt;=1.2.16,&lt;1.4\n</code></pre> \u63a5\u4e0b\u6765\u6bd4\u8f83\u5e78\u8fd0\uff0c\u5f53poetry\u67e5\u627easyncpg\u548csqlalchemy\u7684\u4f20\u9012\u4f9d\u8d56\u65f6\uff0c\u6ca1\u6709\u627e\u5230\u5b83\u4eec\u6709\u66f4\u591a\u7684\u4f20\u9012\u4f9d\u8d56\uff0c\u89e3\u6790\u7ed3\u675f\uff0c\u8fd9\u6837\uff0cpoetry\u5c31\u987a\u5229\u5730\u9009\u62e9\u4e8629\u4e2a\u7248\u672c\u4e2d\uff0c\u6700\u65b0\u7684\u4e00\u4e2a\uff0c\u5373SQLAlchemy-1.3.24\u3002\u8fd9\u4e2a\u7248\u672c\u53c8\u6709linux, windows\u548cmac\u7b49\u597d\u51e0\u4e2a\u5305\uff0cpoetry\u6700\u7ec8\u9009\u62e9\u8ddf\u5f53\u524d\u73af\u5883\u4e2d\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u4e00\u81f4\u3001python\u7248\u672c\u4e00\u81f4\u7684\u90a3\u4e2a\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u73b0\u5728\u8ba9\u6211\u4eec\u770b\u4e00\u770bpoetry\u6700\u7ec8\u89e3\u6790\u51fa\u6765\u7684\u4f9d\u8d56\u6811\uff1a <pre><code>poetry show -t\n# --- output ---\nblack 22.12.0 The uncompromising code formatter.\n\u251c\u2500\u2500 click &gt;=8.0.0\n\u2502   \u251c\u2500\u2500 colorama * \n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 mypy-extensions &gt;=0.4.3\n\u251c\u2500\u2500 pathspec &gt;=0.9.0\n\u251c\u2500\u2500 platformdirs &gt;=2\n\u2502   \u2514\u2500\u2500 typing-extensions &gt;=4.4 \n\u251c\u2500\u2500 tomli &gt;=1.1.0\n\u251c\u2500\u2500 typed-ast &gt;=1.4.2\n\u2514\u2500\u2500 typing-extensions &gt;=3.10.0.0\ngino 1.0.1 GINO Is Not ORM - a Python asyncio ORM on SQLAlchemy core.\n\u251c\u2500\u2500 asyncpg &gt;=0.18,&lt;1.0\n\u2514\u2500\u2500 sqlalchemy &gt;=1.2.16,&lt;1.4\nmkdocs 1.2.4 Project documentation with Markdown.\n\u251c\u2500\u2500 click &gt;=3.3\n\u2502   \u251c\u2500\u2500 colorama * \n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 ghp-import &gt;=1.0\n\u2502   \u2514\u2500\u2500 python-dateutil &gt;=2.8.1 \n\u2502       \u2514\u2500\u2500 six &gt;=1.5 \n\u251c\u2500\u2500 importlib-metadata &gt;=3.10\n\u2502   \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502   \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 jinja2 &gt;=2.10.1\n\u2502   \u2514\u2500\u2500 markupsafe &gt;=2.0 \n\u251c\u2500\u2500 markdown &gt;=3.2.1\n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 mergedeep &gt;=1.3.4\n\u251c\u2500\u2500 packaging &gt;=20.5\n\u251c\u2500\u2500 pyyaml &gt;=3.10\n\u251c\u2500\u2500 pyyaml-env-tag &gt;=0.1\n\u2502   \u2514\u2500\u2500 pyyaml * \n\u2514\u2500\u2500 watchdog &gt;=2.0\n</code></pre> \u8fd9\u4e2a\u4f9d\u8d56\u6811\u5f88\u957f\uff0c\u8fd9\u91cc\u53ea\u622a\u53d6\u4e86\u4e00\u5c0f\u90e8\u5206\uff0c\u4f46\u5927\u81f4\u4e0a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3poetry\u7684\u5de5\u4f5c\u539f\u7406\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230<code>black</code>\u548c<code>mkdocs</code>\u90fd\u4f9d\u8d56\u4e86<code>click</code>\uff0c\u4f46<code>black</code>\u8981\u6c42\u66f4\u65b0\u52308.0\u4ee5\u4e0a\uff0c\u800c<code>mkdocs</code>\u5219\u8ba4\u4e3a\u53ea\u8981\u662f3.3\u4ee5\u4e0a\u90fd\u53ef\u4ee5\u3002\u4e24\u8005\u7248\u672c\u8981\u6c42\u5dee\u8ddd\u5982\u6b64\u4e4b\u5927\uff0c\u4e5f\u4e0d\u514d\u8ba9\u4eba\u62c5\u5fc3\uff0c8.0\u7684<code>click</code>\u4e0e3.3\u7684<code>click</code>\u8fd8\u4f1a\u662f\u540c\u4e00\u4e2a<code>click</code>\u5417\uff1f</p> <p>\u6700\u7ec8\uff0c\u5173\u4e8egino\u548csqlalchemy\uff0cpoetry\u5b89\u88c5\u7684\u5206\u522b\u662f1.0.1\u548c1.3.24\uff0c\u4f46\u662f\uff0c\u4e0a\u8ff0\u89e3\u6790\u6811\u8868\u660e\uff0c\u5982\u679c\u5b58\u5728sqlalchemy\u76841.3.25\u7248\u672c\uff0c\u5b83\u662f\u53ef\u4ee5\u81ea\u52a8\u5347\u7ea7\u7684\u3002\u6211\u4eec\u8bb8\u7684\u613f\uff0cpoetry\u5e2e\u52a9\u5b9e\u73b0\u4e86\u3002</p> <p>One more thing: \u751f\u6210\u8fd9\u68f5\u4f9d\u8d56\u6811\u53ef\u80fd\u8981\u6bd4\u4f60\u60f3\u50cf\u7684\u56f0\u96be\u5f97\u591a\u3002\u9996\u5148\uff0cPyPi\u5728\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u65e0\u6cd5\u7ed9\u51fa\u5b83\u4e0a\u9762\u7684\u67d0\u4e00\u4e2apackage\u7684\u4f9d\u8d56\u6811\uff08\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u4f60\u5728pypi.org\u4e0a\u6ca1\u6709\u770b\u5230\u7c7b\u4f3c\u4e0a\u9762\u7684\u4f9d\u8d56\u6811\u7684\u539f\u56e0\uff09\uff0c\u8fd9\u610f\u5473\u7740poetry\u8981\u77e5\u9053<code>black</code>\u4f9d\u8d56\u54ea\u4e9b\u5e93\uff0c\u5b83\u5fc5\u987b\u5148\u628a<code>black</code>\u4e0b\u8f7d\u4e0b\u6765\uff0c\u6253\u5f00\u5b83\u5e76\u89e3\u6790\u624d\u80fd\u77e5\u9053\u3002\u7136\u540e\u5b83\u4ece<code>black</code>\u4e2d\u53d1\u73b0\u66f4\u591a\u7684\u4f9d\u8d56\uff0c\u8fd9\u5f80\u5f80\u5c31\u9700\u8981\u5b83\u628a\u8fd9\u4e9b\u4f9d\u8d56\u4e5f\u4e0b\u8f7d\u4e0b\u6765\uff0c\u4f9d\u6b21\u9012\u5f52\u4e0b\u53bb\u3002</p> <p>\u66f4\u4e3a\u7cdf\u7cd5\u7684\u662f\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u67d0\u4e2a\u5e93\u7684\u597d\u51e0\u4e2a\u7248\u672c\u53ef\u80fd\u90fd\u9700\u8981\u4f9d\u6b21\u4e0b\u8f7d\u4e0b\u6765 -- \u56e0\u4e3a\u5b83\u4eec\u7684\u4f20\u9012\u4f9d\u8d56\u4e0d\u80fd\u517c\u5bb9\u3002\u6211\u8bb0\u5f97\u5728\u67d0\u6b21\u89e3\u6790\u4e2d\uff0cpoetry\u628anumpy\u7684\u7248\u672c\u4ece1.2.x\u4e00\u76f4\u4e0b\u8f7d\u5230\u4e860.1\uff01</p> <p>\u6240\u4ee5\uff0c\u5982\u679c\u4f60\u5728\u6dfb\u52a0\u67d0\u4e2a\u4f9d\u8d56\u65f6\uff0c\u53d1\u73b0poetry\u8017\u65f6\u8fc7\u957f\uff0c\u4e0d\u8981\u614c\u5f20\uff0c\u5f88\u591a\u4eba\u90fd\u6709\u4e0e\u4f60\u4e00\u6837\u7684\u7ecf\u5386\u3002\u8fd9\u79cd\u60c5\u51b5\u4e3b\u8981\u662fpoetry\u65e0\u6cd5\u5feb\u901f\u9501\u5b9a\u67d0\u4e2apackage\u7684\u6b63\u786e\u7248\u672c\uff0c\u4e0d\u5f97\u4e0d\u5411\u540e\u4e00\u4e2a\u4e2a\u7248\u672c\u641c\u7d22\u4e0b\u8f7d\u6240\u81f4\u3002\u6211\u4eec\u80fd\u505a\u7684\uff0c\u5c31\u662f\u52a0\u5febpoetry\u4e0b\u8f7d\u7684\u901f\u5ea6\u3002</p> <p>poetry\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u662f\u4ecepypi.org\u4e0a\u4e0b\u8f7dpackage\u3002\u5982\u679c\u9047\u5230\u89e3\u6790\u901f\u5ea6\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4e34\u65f6\u6dfb\u52a0\u4e00\u4e2a\u6e90\uff1a <pre><code>poetry source add ali https://mirrors.aliyun.com/pypi/simple --default\n</code></pre> \u518d\u6b21\u8fd0\u884c<code>poetry add</code>\uff0c\u8fd9\u6b21\u4f60\u4f1a\u53d1\u73b0\u89e3\u6790\u901f\u5ea6\u5feb\u4e86\u5f88\u591a\u3002</p> <p>Info</p> <p>\u65e9\u671fpoetry\u7684\u4f9d\u8d56\u89e3\u6790\u53ef\u4ee5\u6162\u523010\u591a\u4e2a\u5c0f\u65f6\u90fd\u505a\u4e0d\u5b8c\u3002\u8fd9\u6709\u4e24\u65b9\u9762\u7684\u539f\u56e0\uff0c\u4e00\u662f\u65e9\u671fpoetry\u7684\u4f9d\u8d56\u89e3\u6790\u8fd8\u6ca1\u6709\u542f\u7528\u591a\u7ebf\u7a0b\u4e0b\u8f7d\u4f18\u5316\uff1b\u4e8c\u662f\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0cpoetry\u9700\u8981\u628a\u67d0\u4e9bpackage\u5728pypi\u4e0a\u6240\u6709\u7684\u7248\u672c\u5168\u90e8\u4e0b\u8f7d\u4e00\u6b21\uff0c\u624d\u80fd\u5f97\u51fa\u65e0\u6cd5\uff08\u6216\u8005\u53ef\u4ee5\uff09\u52a0\u5165\u8be5\u4f9d\u8d56\u7684\u7ed3\u8bba\u3002\u968f\u7740python\u751f\u6001\u7684\u53d8\u5316\uff0c\u73b0\u5728\u8fd9\u79cd\u9700\u8981\u6570\u5c0f\u65f6\u7684\u4f9d\u8d56\u89e3\u6790\u7684\u65f6\u4ee3\u57fa\u672c\u7ed3\u675f\u4e86\u3002\u5728\u6dfb\u52a0\u56fd\u5185\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u6162\u7684\u65f6\u5019\u4e5f\u5f80\u5f80\u662f\u4e0d\u5230\u4e00\u523b\u949f\u5c31\u80fd\u5b8c\u6210\u89e3\u6790\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6765\u79fb\u9664gino\uff1a <pre><code>poetry remove gino\n\n# --- output ---\nUpdating dependencies\nResolving dependencies... (1.2s)\n\nWriting lock file\n\nPackage operations: 0 installs, 0 updates, 3 removals\n\n  \u2022 Removing asyncpg (0.27.0)\n  \u2022 Removing gino (1.0.1)\n  \u2022 Removing sqlalchemy (1.3.24)\n</code></pre> \u4ece\u8f93\u51fa\u53ef\u4ee5\u770b\u51fa\uff0c\u4e0d\u4ec5\u662fgino\u672c\u8eab\u88ab\u5378\u8f7d\uff0c\u5b83\u7684\u4f20\u9012\u4f9d\u8d56 -- asyncpg\u548csqlalchemy\u4e5f\u88ab\u79fb\u9664\u6389\u4e86\u3002\u8fd9\u662fpip\u505a\u4e0d\u5230\u7684\u3002</p>"},{"location":"chap05/#\u865a\u62df\u8fd0\u884c\u65f6","title":"\u865a\u62df\u8fd0\u884c\u65f6","text":"<p>Poetry\u81ea\u5df1\u7ba1\u7406\u7740\u865a\u62df\u8fd0\u884c\u65f6\u73af\u5883\u3002\u5f53\u4f60\u6267\u884c<code>poetry install</code>\u547d\u4ee4\u65f6\uff0cPoetry\u5c31\u4f1a\u5b89\u88c5\u4e00\u4e2a\u57fa\u4e8evenv\u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u628a\u9879\u76ee\u4f9d\u8d56\u90fd\u5b89\u88c5\u5230\u8fd9\u4e2a\u865a\u62df\u7684\u8fd0\u884c\u73af\u5883\u4e2d\u53bb\u3002\u6b64\u540e\uff0c\u5f53\u4f60\u901a\u8fc7poetry\u6765\u6267\u884c\u5176\u5b83\u547d\u4ee4\u65f6\uff0c\u6bd4\u5982<code>poetry pytest</code>\uff0c\u4e5f\u4f1a\u5728\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\u6267\u884c\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f60\u76f4\u63a5\u6267\u884c<code>pytest</code>\uff0c\u5219\u4f1a\u62a5\u544a\u4e00\u4e9b\u6a21\u5757\u65e0\u6cd5\u5bfc\u5165\uff0c\u56e0\u4e3a\u4f60\u7684\u5de5\u7a0b\u4f9d\u8d56\u5e76\u6ca1\u6709\u5b89\u88c5\u5728\u5f53\u524d\u7684\u73af\u5883\u4e0b\u3002</p> <p>\u6211\u4eec\u63a8\u8350\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528conda\u6765\u521b\u5efa\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u8fd0\u884c\u65f6\u3002\u5728\u8c03\u8bd5Python\u7a0b\u5e8f\u65f6\uff0c\u90fd\u8981\u4e8b\u5148\u7ed9IDE\u6307\u5b9a\u89e3\u6790\u5668\uff0c\u8fd9\u91cc\u4f7f\u7528\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u8fd0\u884c\u65f6\uff0c\u53ef\u80fd\u66f4\u65b9\u4fbf\u4e00\u70b9\u3002Poetry\u4e5f\u5141\u8bb8\u8fd9\u79cd\u505a\u6cd5\u3002\u5f53Poetry\u68c0\u6d4b\u5230\u5f53\u524d\u662f\u8fd0\u884c\u5728\u865a\u62df\u8fd0\u884c\u65f6\u73af\u5883\u4e0b\u65f6\uff0c\u5b83\u662f\u4e0d\u4f1a\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\u7684\u3002</p> <p>\u4f46\u662fPoetry\u7684\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u529f\u80fd\u4e5f\u662f\u6709\u7528\u7684\uff0c\u4e3b\u8981\u662f\u5728\u6d4b\u8bd5\u65f6\uff0c\u901a\u8fc7virtualenv/venv\u521b\u5efa\u865a\u62df\u73af\u5883\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p>"},{"location":"chap05/#\u6784\u5efa\u53d1\u884c\u5305","title":"\u6784\u5efa\u53d1\u884c\u5305","text":""},{"location":"chap05/#python\u6784\u5efa\u6807\u51c6\u548c\u5de5\u5177\u7684\u53d8\u5316","title":"Python\u6784\u5efa\u6807\u51c6\u548c\u5de5\u5177\u7684\u53d8\u5316","text":"<p>\u5728poetry 1.0\u53d1\u5e03\u4e4b\u524d\uff0c\u6253\u5305\u4e00\u4e2apython\u9879\u76ee\uff0c\u9700\u8981\u51c6\u5907MANIFEST.in, setup.cfg, setup.py\uff0cmakefile\u7b49\u6587\u4ef6\u3002\u8fd9\u662fPyPA(python packaging authority)\u7684\u8981\u6c42\uff0c\u53ea\u6709\u9075\u5faa\u8fd9\u4e9b\u8981\u6c42\u6253\u51fa\u6765\u7684\u5305\uff0c\u624d\u53ef\u4ee5\u4e0a\u4f20\u5230pypi.org\uff0c\u4ece\u800c\u5411\u5168\u4e16\u754c\u53d1\u5e03\u3002</p> <p>\u4f46\u662f\u8fd9\u4e00\u5957\u7cfb\u7edf\u4e5f\u6709\u4e0d\u5c11\u95ee\u9898\uff0c\u6bd4\u5982\u7f3a\u5c11\u6784\u5efa\u65f6\u4f9d\u8d56\u58f0\u660e\uff0c\u81ea\u52a8\u914d\u7f6e\uff0c\u7248\u672c\u7ba1\u7406\u3002\u56e0\u6b64\uff0cPEP 517\u88ab\u63d0\u51fa\uff0c\u7136\u540e\u57fa\u4e8ePEP 517, PEP 518\u7b49\u4e00\u7cfb\u5217\u65b0\u7684\u6807\u51c6\uff0cS\u00e9bastien Eustace\u5f00\u53d1\u4e86poetry\u3002</p>"},{"location":"chap05/#\u57fa\u4e8epoetry\u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa","title":"\u57fa\u4e8ePoetry\u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa","text":"<p>\u6211\u4eec\u901a\u8fc7\u8fd0\u884c<code>poetry build</code>\u6765\u6253\u5305\uff0c\u6253\u5305\u7684\u6587\u4ef6\u7ea6\u5b9a\u4fd7\u6210\u5730\u653e\u5728dist\u76ee\u5f55\u4e0b\u3002</p> <p>poetry\u652f\u6301\u5411pypi\u8fdb\u884c\u53d1\u5e03\uff0c\u5176\u547d\u4ee4\u662f<code>poetry publish</code>\u3002\u4e0d\u8fc7\uff0c\u5728\u8fd0\u884c\u8be5\u547d\u4ee4\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5bf9poetry\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4e3b\u8981\u662frepo\u548ctoken\u3002</p> <p><pre><code># publish to test pypi\npoetry config repositories.testpypi https://test.pypi.org/legacy/\npoetry config testpypi-token.pypi my-token\npoetry publish -r testpypi\n\n# publish to pypi\npoetry config pypi-token.pypi my-token\npoetry publish\n</code></pre> \u4e0a\u9762\u7684\u547d\u4ee4\u5206\u522b\u5bf9\u53d1\u5e03\u5230test pypi\u548cpypi\u8fdb\u884c\u4e86\u6f14\u793a\u3002\u7531\u4e8e\u9ed8\u8ba4\u5730Poetry\u652f\u6301PyPI\u53d1\u5e03\uff0c\u6240\u4ee5\u6709\u4e9b\u53c2\u6570\u5c31\u4e0d\u9700\u8981\u63d0\u4f9b\u4e86\u3002\u5f53\u7136\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u4e0d\u5e94\u8be5\u76f4\u63a5\u8fd0\u884c<code>poetry publish</code>\u547d\u4ee4\u6765\u53d1\u5e03\u7248\u672c\u3002\u7248\u672c\u7684\u53d1\u5e03\uff0c\u90fd\u5e94\u8be5\u901a\u8fc7CI\u673a\u5236\u6765\u8fdb\u884c\u3002\u8fd9\u6837\u7684\u597d\u5904\u65f6\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u6b21\u53d1\u5e03\uff0c\u90fd\u7ecf\u8fc7\u4e86\u5b8c\u6574\u7684\u6d4b\u8bd5\uff0c\u5e76\u4e14\uff0c\u6784\u5efa\u73af\u5883\u662f\u59cb\u7ec8\u4e00\u81f4\u7684\uff0c\u4e0d\u4f1a\u51fa\u73b0\u56e0\u6784\u5efa\u73af\u5883\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u6253\u51fa\u6765\u7684\u5305\u6709\u95ee\u9898\u7684\u60c5\u51b5\u3002</p>"},{"location":"chap05/#\u5176\u5b83\u91cd\u8981\u7684poetry\u547d\u4ee4","title":"\u5176\u5b83\u91cd\u8981\u7684Poetry\u547d\u4ee4","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86poetry add, poetry remove, poetry show, poetry build, poetry publish, poetry version\u7b49\u547d\u4ee4\u3002\u8fd8\u6709\u4e00\u4e9b\u547d\u4ee4\u4e5f\u503c\u5f97\u4ecb\u7ecd\u3002</p>"},{"location":"chap05/#poetry-lock","title":"poetry lock","text":"<p>\u8be5\u547d\u4ee4\u5c06\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\uff0c\u9501\u5b9a\u6240\u6709\u7684\u4f9d\u8d56\u5230\u6700\u65b0\u7684\u517c\u5bb9\u7248\u672c\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u5230poetry.lock\u6587\u4ef6\u4e2d\u3002\u901a\u5e38\uff0c\u8fd0\u884cpoetry add\u65f6\u4e5f\u4f1a\u751f\u6210\u65b0\u7684\u9501\u5b9a\u6587\u4ef6\u3002</p> <p>\u5728\u5bf9\u4ee3\u7801\u6267\u884c\u6d4b\u8bd5\u3001CI\u6216\u8005\u53d1\u5e03\u4e4b\u524d\uff0c\u52a1\u5fc5\u8981\u786e\u4fddpoetry.lock\u5b58\u5728\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u5e94\u8be5\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\uff0c\u8fd9\u6837\u6240\u6709\u7684\u6d4b\u8bd5\uff0cCI\u670d\u52a1\u5668\uff0c\u4f60\u7684\u540c\u4faa\u5f00\u53d1\u8005\u6784\u5efa\u7684\u73af\u5883\u624d\u4f1a\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002</p>"},{"location":"chap05/#poetry-export","title":"poetry export","text":"<p>\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u5c06\u4f9d\u8d56\u5bfc\u51fa\u4e3arequirements: <pre><code>poetry export -f requirements.txt --output requirements.txt\n</code></pre></p>"},{"location":"chap05/#poetry-config","title":"poetry config","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7poetry config --list\u6765\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u9879\uff1a <pre><code>cache-dir = \"/path/to/cache/directory\"\nvirtualenvs.create = true\nvirtualenvs.in-project = null\nvirtualenvs.options.always-copy = true\nvirtualenvs.options.no-pip = false\nvirtualenvs.options.no-setuptools = false\nvirtualenvs.options.system-site-packages = false\nvirtualenvs.path = \"{cache-dir}/virtualenvs\"  # /path/to/cache/directory/virtualenvs\nvirtualenvs.prefer-active-python = false\nvirtualenvs.prompt = \"{project_name}-py{python_version}\"\n</code></pre> \u8fd9\u91cc\u9762\u6bd4\u8f83\u91cd\u8981\u7684\u6709\u914d\u7f6epypi-token\uff0c\u4ee5\u4fbf\u53d1\u5e03\u4f60\u7684\u9879\u76ee\u3002</p>"},{"location":"chap05/#\u6848\u4f8b-\u57fa\u4e8epoetry\u521b\u5efa\u5e76\u53d1\u5e03\u4e00\u4e2a\u9879\u76ee","title":"\u6848\u4f8b\uff1a \u57fa\u4e8ePoetry\u521b\u5efa\u5e76\u53d1\u5e03\u4e00\u4e2a\u9879\u76ee","text":"<p>\u79fb\u9664\u6389\uff1f</p>"},{"location":"chap06/","title":"\u7b2c\u516d\u7ae0 \u5b9e\u73b0\u9ad8\u6548\u7684Python\u7f16\u7801","text":""},{"location":"chap06/#\u5b9e\u73b0\u9ad8\u6548\u7684python\u7f16\u7801","title":"\u5b9e\u73b0\u9ad8\u6548\u7684Python\u7f16\u7801","text":""},{"location":"chap06/#ai\u8d4b\u80fd\u7684\u4ee3\u7801\u7f16\u5199","title":"AI\u8d4b\u80fd\u7684\u4ee3\u7801\u7f16\u5199","text":"<p>\u4f20\u7edf\u4e0a\uff0cIDE\u7684\u91cd\u8981\u529f\u80fd\u4e4b\u4e00\uff0c\u5c31\u662f\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u6587\u6863\u63d0\u793a\u3001\u9519\u8bef\u8bca\u65ad\u7b49\u7b49\u3002\u968f\u7740\u4eba\u7c7b\u8fdb\u5165\u6df1\u5ea6\u5b66\u4e60\u65f6\u4ee3\uff0cAI\u8f85\u52a9\u7f16\u7801\u5219\u8ba9\u7a0b\u5e8f\u5458\u5982\u864e\u6dfb\u7ffc\u3002</p> <p>\u6211\u4eec\u9996\u5148\u4ecb\u7ecd\u51e0\u4e2aAI\u8f85\u52a9\u7f16\u7801\u7684\u5de5\u5177\uff0c\u7136\u540e\u518d\u4ecb\u7ecd\u5e38\u89c4\u7684\u8bed\u6cd5\u9ad8\u4eae\u3001\u6587\u6863\u63d0\u793a\u7b49\u529f\u80fd\u3002</p>"},{"location":"chap06/#github-copilot","title":"github copilot","text":"<p>github copilot\u662fgithub\u5b98\u65b9\u51fa\u54c1\u7684AI\u8f85\u52a9\u7f16\u7801\u5de5\u5177\u3002\u5b83\u662f\u57fa\u4e8e\u5927\u89c4\u6a21\u8bed\u6599\u3001\u8d85\u5927\u89c4\u6a21\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff0c\u7ed3\u5408\u4e86\u5927\u91cf\u7684\u7f16\u7a0b\u7ecf\u9a8c\uff0c\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4ee3\u7801\u8865\u5168\u3001\u4ee3\u7801\u7247\u6bb5\u8054\u60f3\u3001\u4ee3\u7801\u63a8\u8350\u7b49\u529f\u80fd\u3002copilot\u53ef\u4ee5\u6839\u636e\u7528\u6237\u8f93\u5165\u7684\u4e00\u884c\u6ce8\u91ca\uff0c\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u7247\u6bb5\u751a\u81f3\u6574\u4e2a\u51fd\u6570\uff0c\u529f\u80fd\u5341\u5206\u5f3a\u5927\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u5199\u4e00\u6bb5\u6ce8\u91ca\u5982\u4e0b\uff1a <pre><code># create a fibonacci series up to nth term\n</code></pre> \u7136\u540e\u56de\u8f66\uff0ccopilot\u5c31\u4f1a\u5199\u51fa\u4e0b\u9762\u7684\u4ee3\u7801: <pre><code>def fibonacci(n):\n    if n &lt;= 1:\n        return n\n    else:\n        return fibonacci(n-1) + fibonacci(n-2)\n</code></pre> \u8fd9\u4e2a\u51fd\u6570\u8fd8\u6709\u4e00\u4e2a\u5c3e\u9012\u5f52\u7248\u672c\uff0c\u5f53\u7136copilot\u4e5f\u80fd\u63d0\u4f9b\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0ccopilot\u80fd\u63d0\u4f9b10\u4e2a\u4ee5\u5185\u7684\u5907\u9009\u7b54\u6848\u3002</p> <p>\u6211\u4eec\u518d\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6709\u4ee5\u4e0b\u6ce8\u91ca\uff1a <pre><code>\u8bbe\u7f6enpm\u4e2d\u56fd\u52a0\u901f\u955c\u50cf\n</code></pre> \u4f60\u4f1a\u7acb\u5373\u5f97\u5230\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org\n</code></pre> \u6211\u4eec\u518d\u8bd5\u4e00\u4e2a\u4f8b\u5b50:</p> <p><pre><code># \u8bfb\u53d6csv\u6587\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u5bf9\u8c61\ndef read_csv(filename):\n    with open(filename, 'r') as f:\n        reader = csv.reader(f)\n        return list(reader)\n\n# \u5c06\u6570\u7ec4\u5bf9\u8c61\u8f6c\u6362\u4e3ajson\u5b57\u7b26\u4e32\ndef to_json(data):\n    return json.dumps(data)\n\n# \u5c06json\u53d1\u9001\u5230github\ndef send_json(json_data):\n    url = 'https://api.github.com/repos/udacity/ud120-projects/issues'\n    headers = {\n        'Authorization': ''  # \u8bf7\u586b\u5199\u4f60\u7684token\n    }\n    r = requests.post(url, json_data, headers=headers)\n\ndef main():\n    data = read_csv('foo.csv')\n    json_data = to_json(data)\n    send_json(json_data)\n</code></pre> \u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ea\u5199\u4e86\u4e09\u884c\u6ce8\u91ca\uff0ccopilot\u81ea\u52a8\u5e2e\u6211\u4eec\u586b\u5145\u4e86\u4ee3\u7801\u3002\u5728send_json\u90a3\u4e2a\u65b9\u6cd5\u91cc\uff0ccopilot\u5728headers\u4e2d\u63d0\u793a\u8f93\u5165'Authorization'\u5b57\u6bb5\uff0c\u5e76\u63d0\u793a\u8fd9\u91cc\u8981\u7ed9\u51fatoken\uff0c\u8fd9\u4e2a\u586b\u5145\u5f88\u6709\u610f\u601d\uff0c\u5b83\u56e0\u4e3agithub\u8fd9\u4e2aAPI\u6b63\u597d\u662f\u901a\u8fc7token\u8ba4\u8bc1\u7684\u3002\u5f53\u7136\uff0c\u7531\u4e8e\u4fe1\u606f\u8fc7\u5c11\uff0c\u5b83\u7ed9\u7684url\u51e0\u4e4e\u80af\u5b9a\u662f\u9519\u7684\uff0c\u8fd9\u4e5f\u5728\u60c5\u7406\u4e4b\u4e2d\u3002</p> <p>\u6bd4\u8f83\u6709\u610f\u601d\u7684\u662fmain\u51fd\u6570\u3002\u6211\u53ea\u5b9a\u4e49\u4e86main()\u65b9\u6cd5\u7684\u51fd\u6570\u5934\uff0ccopilot\u5c45\u7136\u81ea\u52a8\u5b8c\u6210\u4e86\u6240\u6709\u529f\u80fd\u7684\u4e32\u8054\uff0c\u800c\u4e14\u5e94\u8be5\u8bf4\uff0c\u7b26\u5408\u9884\u671f\u3002</p> <p>\u5982\u679c\u4e0a\u9762\u7684\u4f8b\u5b50\u8fc7\u4e8e\u7b80\u5355\uff0c\u4f60\u53ef\u4ee5\u5199\u4e00\u4e9b\u6ce8\u91ca\uff0c\u8bf7\u6c42copilot\u4e3a\u4f60\u6293\u53d6\u52a0\u5bc6\u8d27\u5e01\u4ef7\u683c\uff0c\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5224\u65ad\u662f\u5426\u662f\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740\uff0c\u6216\u8005\u538b\u7f29\u3001\u89e3\u538b\u7f29\u6587\u4ef6\u7b49\u7b49\u3002\u4f60\u4f1a\u53d1\u73b0\uff0ccopilot\u7684\u80fd\u529b\u662f\u975e\u5e38\u5f3a\u5927\u7684\u3002</p> <p>copilot\u7684\u795e\u5947\u4e4b\u5904\uff0c\u7edd\u4e0d\u53ea\u9650\u4e8e\u4e0a\u9762\u7684\u4e3e\u4f8b\u3002\u4f5c\u8005\u5728\u5b9e\u8df5\u4e2d\u786e\u5b9e\u4f53\u9a8c\u8fc7\u5b83\u7684\u8d85\u5e38\u80fd\u529b\uff0c\u6bd4\u5982\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u81ea\u52a8\u751f\u6210\u6570\u636e\u5e8f\u5217\uff0c\u6216\u8005\u5728\u751f\u6210\u7684\u4ee3\u7801\u4e2d\uff0c\u5b83\u7684\u9519\u8bef\u5904\u7406\u65b9\u6848\u4f1a\u6bd4\u4f60\u81ea\u5df1\u80fd\u5199\u51fa\u6765\u7684\u66f4\u7ec6\u817b\uff0c\u7b49\u7b49\u3002\u4f46\u662f\uff0c\u8981\u6f14\u793a\u90a3\u6837\u590d\u6742\u7684\u529f\u80fd\uff0c\u5df2\u7ecf\u8d85\u51fa\u4e86\u4e00\u672c\u4e66\u6240\u4ee5\u5c55\u73b0\u7684\u8303\u56f4\u4e86\u3002</p> <p>\u8fd9\u662f\u4e00\u4e9b\u4f7f\u7528\u8005\u7684\u611f\u8a00\uff1a</p> <p>Quote</p> <p>\u6211\u7684\u4e00\u90e8\u5206\u5de5\u4f5c\u5185\u5bb9\u4ece\u7f16\u5199\u4ee3\u7801\u8f6c\u6210\u4e86\u7b56\u5212\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4eba\u7c7b\u53ef\u4ee5\u89c2\u5bdf\u5e76\u4fee\u6b63\u4e00\u4e9b\u4ee3\u7801\uff0c\u4e0d\u5fc5\u4eb2\u81ea\u52a8\u624b\u505a\u6bcf\u4e00\u4ef6\u4e8b\u3002</p> <p>\u6211\u5bf9\u5197\u4f59\u4ee3\u7801\u7684\u5bb9\u5fcd\u5ea6\u53d8\u9ad8\u4e86\u3002\u8ba9AI\u53bb\u505a\u91cd\u590d\u7684\u5de5\u4f5c\uff0c\u628a\u4ee3\u7801\u5199\u5f97\u66f4\u8be6\u7ec6\uff0c\u53ef\u4ee5\u63d0\u9ad8\u53ef\u8bfb\u6027\u3002</p> <p>\u6211\u66f4\u613f\u610f\u91cd\u6784\u4ee3\u7801\u4e86\u3002\u5bf9\u4e8e\u90a3\u4e9b\u5df2\u7ecf\u80fd\u7528\u4f46\u5199\u7684\u4e0d\u591f\u7406\u60f3\u7684\u4ee3\u7801\uff0cCopilot\u53ef\u4ee5\u7075\u6d3b\u7684\u5b8c\u6210\u91cd\u6784\uff0c\u6bd4\u5982\u628a\u590d\u6742\u51fd\u6570\u62c6\u5206\u6216\u5bf9\u5173\u952e\u90e8\u5206\u62bd\u8c61\u5316\u3002</p> <p>\u6240\u4ee5\uff0cDon't fly solo\uff08copilot\u5e7f\u544a\u8bed\uff09\uff0c\u5982\u679c\u6709\u53ef\u80fd\uff0c\u5f53\u4f60\u5728\u4ee3\u7801\u7684\u4e16\u754c\u91cc\u9068\u6e38\u65f6\uff0c\u8fd8\u662f\u8ba9copilot\u6765\u4f34\u98de\u5427\u3002\u5f53\u7136\uff0ccopilot\u4e5f\u6709\u5176\u4e0d\u8db3\uff0c\u5176\u4e2d\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u4e0d\u80fd\u514d\u8d39\u4f7f\u7528\uff08\u5b66\u751f\u9664\u5916\uff09\uff0c\u800c\u4e14\u6bcf\u4e2a\u670810\u7f8e\u91d1\u7684\u8d39\u7528\u5bf9\u4e2d\u56fd\u7a0b\u5e8f\u5458\u6765\u8bb2\u53ef\u80fd\u5e76\u4e0d\u4fbf\u5b9c\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u76ee\u524d\u5b83\u53ea\u63a5\u53d7\u4fe1\u7528\u5361\u548cpaypal\u4ed8\u6b3e\uff0c\u56e0\u6b64\u5728\u652f\u4ed8\u4e0a\u4e5f\u4e0d\u591f\u65b9\u4fbf\u3002</p>"},{"location":"chap06/#tabnine","title":"tabnine","text":"<p>\u53e6\u4e00\u4e2a\u9009\u9879\u662ftabnine\uff0c\u4e0ecopilot\u4e00\u6837\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4ece\u81ea\u7136\u8bed\u8a00\u5230\u4ee3\u7801\u7684\u8f6c\u6362\uff0c\u4ee5\u53ca\u6574\u6bb5\u51fd\u6570\u7684\u751f\u6210\u7b49\u529f\u80fd\u3002\u4e00\u4e9b\u8bc4\u8bba\u8ba4\u4e3a\uff0c\u5b83\u6bd4copilot\u591a\u51fa\u7684\u4e00\u4e2a\u529f\u80fd\u662f\uff0c\u5b83\u80fd\u57fa\u4e8e\u8bed\u6cd5\u89c4\u5219\u5728\u4e00\u884c\u8fd8\u672a\u7ed3\u675f\u65f6\u5c31\u7ed9\u51fa\u4ee3\u7801\u63d0\u793a\uff0c\u800ccopilot\u53ea\u80fd\u5728\u4e00\u884c\u7ed3\u675f\u540e\u7ed9\u51fa\u6574\u6bb5\u4ee3\u7801\uff0c\u5373copilot\u9700\u8981\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002</p> <p>tabnine\u4e0ecopilot\u7684\u503c\u5f97\u4e00\u63d0\u7684\u533a\u522b\u662f\u5b83\u7684\u4ed8\u8d39\u6a21\u5f0f\u3002tabnine\u63d0\u4f9b\u4e86\u57fa\u7840\u7248\u548c\u4e13\u4e1a\u7248\u4e24\u4e2a\u7248\u672c\uff0c\u800ccopilot\u53ea\u80fd\u4ed8\u8d39\u4f7f\u7528\u3002tabnine\u7684\u4e13\u4e1a\u7248\u8fd8\u6709\u4e00\u4e2a\u7279\u8272\uff0c\u5c31\u662f\u4f60\u53ef\u4ee5\u57fa\u4e8e\u81ea\u5df1\u7684\u4ee3\u7801\u8bad\u7ec3\u81ea\u5df1\u7684\u79c1\u6709AI\u6a21\u578b\uff0c\u4ece\u800c\u5f97\u5230\u66f4\u4e3a\u4e2a\u6027\u5316\u7684\u4ee3\u7801\u5b8c\u6210\u670d\u52a1\u3002\u8fd9\u4e2a\u529f\u80fd\u5bf9\u4e8e\u4e00\u4e9b\u5927\u578b\u516c\u53f8\u6765\u8bf4\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u5b83\u7684\u53e6\u4e00\u4e2a\u4f18\u52bf\u5c31\u662f\uff0c\u5b83\u5728\u8bad\u7ec3\u81ea\u5df1\u65f6\u53ea\u4f7f\u7528\u5b9e\u884c\u5bbd\u677e\u5f00\u6e90\u8bb8\u53ef\u8bc1\u6a21\u5f0f\u7684\u4ee3\u7801\uff0c\u56e0\u6b64\uff0c\u4f60\u7684\u4ee3\u7801\u4e0d\u4f1a\u56e0\u4e3a\u4f7f\u7528\u4e86tabnine\u751f\u6210\u7684\u4ee3\u7801\uff0c\u5c31\u5fc5\u987b\u5f00\u6e90\u51fa\u53bb\u3002</p> <p>GPT code clippy\u662fGithub copilot\u7684\u5f00\u6e90\u66ff\u4ee3\u54c1\uff0c\u5982\u679c\u65e2\u4e0d\u80fd\u7528copilot\uff0c\u4e5f\u4e0d\u80fd\u4f7f\u7528tabnine\uff0c\u4e5f\u53ef\u4ee5\u8bd5\u8bd5\u8fd9\u4e2a\u3002\u4e0d\u8fc7\u5728\u6211\u4eec\u6210\u6587\u7684\u65f6\u5019\uff0c\u5b83\u8fd8\u6ca1\u6709\u63d0\u4f9b\u4e00\u4e2a\u53d1\u884c\u7248\u7684vscode\u6269\u5c55\uff0c\u53ea\u80fd\u901a\u8fc7\u6e90\u7801\u5b89\u88c5\u3002</p> <p>Info</p> <p>\u8bf4\u5230AI\u8f85\u52a9\u7f16\u7801\uff0c\u4e0d\u80fd\u4e0d\u63d0\u5230\u8fd9\u4e00\u884c\u7684\u5148\u9a71 - Kite\u3002Kite\u6210\u7acb\u4e8e2014\u5e74\uff0c\u81f4\u529b\u4e8eAI\u8f85\u52a9\u7f16\u7a0b\uff0c\u4e8e2021\u5e7411\u6708\u5173\u95ed\u3002\u7531\u4e8e\u5207\u5165\u5e02\u573a\u8fc7\u65e9\uff0ckite\u7684\u6280\u672f\u8def\u7ebf\u4e5f\u5fc5\u7136\u76f8\u5bf9\u843d\u540e\u4e00\u4e9b\uff0c\u5176AI\u8f85\u52a9\u529f\u80fd\u4e3b\u8981\u662f\u57fa\u4e8e\u5173\u952e\u8bcd\u8054\u60f3\u4ee3\u7801\u7247\u6bb5\u7684\u6a21\u5f0f\u3002\u7b49\u52302020\u5e74github\u7684copilot\u6a2a\u7a7a\u51fa\u4e16\u65f6\uff0c\u57fa\u4e8e\u5927\u89c4\u6a21\u8bed\u6599\u3001\u8d85\u5927\u89c4\u6a21\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u88ab\u8bc1\u660e\u624d\u662f\u6700\u6709\u5e0c\u671b\u7684\u6280\u672f\u8def\u7ebf\u3002\u800c\u6b64\u65f6kite\u591a\u5e74\u4ee5\u6765\u7684\u6295\u5165\u548c\u6280\u672f\u79ef\u7d2f\uff0c\u4e0d\u4ec5\u4e0d\u518d\u662f\u6709\u6548\u8d44\u4ea7\uff0c\u53cd\u800c\u6210\u4e3a\u4e86\u5386\u53f2\u5305\u88b1\u3002\u5f80\u65b0\u7684\u6280\u672f\u8def\u7ebf\u4e0a\u7684\u5207\u6362\u7684\u4ee3\u4ef7\u5f80\u5f80\u662f\u5de8\u5927\u7684 -- \u7528\u6237\u4f53\u9a8c\u4e5f\u96be\u514d\u6539\u53d8\uff0c\u800c\u4e14\u65b0\u7684\u6a21\u578b\u6240\u9700\u8981\u7684\u949e\u80fd\u529b\uff0ckite\u4e5f\u5e76\u4e0d\u5177\u5907\u3002</p> <p>2021\u5e7411\u670816\u65e5\uff0c\u521b\u59cb\u4ebaAdam Smith\u53d1\u8868\u4e86\u4e00\u7bc7\u544a\u522b\u6f14\u8bf4\uff0c\u5bf9kite\u4e3a\u4ec0\u4e48\u6ca1\u6709\u6210\u529f\u8fdb\u884c\u4e86\u53cd\u601d\uff0c\u6307\u51fa\u5c3d\u7ba1Kite\u6bcf\u4e2a\u6708\u6709\u8d85\u8fc750\u4e07\u6708\u6d3b\u8def\u7528\u6237\uff0c\u4f46\u8fd9\u4e48\u591a\u6708\u6d3b\u8dc3\u7528\u6237\u57fa\u672c\u4e0d\u4ed8\u8d39\uff0c\u8fd9\u6700\u7ec8\u538b\u57ae\u4e86kite\u3002\u5f53\u7136\uff0c\u7ec8\u7aef\u7528\u6237\u5176\u5b9e\u4e5f\u6ca1\u6709\u9519\uff0c\u6bd5\u7adfcopilot\u7684\u4ed8\u8d39\u6a21\u5f0f\u8fd0\u884c\u5f97\u5f88\u6d41\u7545\u3002\u4eba\u4eec\u4e0d\u4e3akite\u4ed8\u8d39\uff0c\u4e5f\u786e\u5b9e\u662f\u56e0\u4e3akite\u8fd8\u4e0d\u591f\u597d\u3002</p> <p>\u5c5e\u4e8ekite\u7684\u65f6\u4ee3\u5df2\u7ecf\u8fc7\u53bb\u4e86\uff0c\u4f46\u6b63\u5982Adam Smith\u6240\u8bf4\uff0c\u672a\u6765\u662f\u5149\u660e\u7684\u3002AI\u5fc5\u5c06\u5f15\u53d1\u4e00\u573a\u7f16\u7a0b\u9769\u547d\u3002kite\u7684\u8bd5\u9a8c\u5931\u8d25\u4e86\uff0c\u4f46\u50ac\u751f\u8fd9\u573aAI\u8bd5\u9a8c\u7684\u6240\u6709\u4eba\uff1a\u6295\u8d44\u4eba\uff0c\u5f00\u53d1\u56e2\u961f\u4ee5\u53ca\u6700\u7ec8\u7528\u6237\uff0c\u4ed6\u4eec\u7684\u52c7\u6c14\u548c\u8d21\u732e\u90fd\u503c\u5f97\u88ab\u94ed\u8bb0\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u66fe\u7ecf\u4f7f\u7528\u8fc7kite\uff0c\u4e5f\u6b20Kite\u4e00\u4e2a\u4f1a\u5458\u7684\u4f7f\u7528\u8005\uff0c\u6211\u4e5f\u5728\u6b64\u9053\u58f0\u611f\u8c22\u4e0e\u73cd\u91cd\uff01</p> <p>\u5c3d\u7ba1AI\u8f85\u52a9\u7f16\u7a0b\u7684\u529f\u80fd\u5f88\u597d\u7528\uff0c\u4f46\u4ecd\u7136\u6709\u4e00\u4e9b\u573a\u666f\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9\u4f20\u7edf\u7684\u5de5\u5177\uff0c\u6bd4\u5982pylance\u3002pylance\u662f\u5fae\u8f6f\u5b98\u65b9\u51fa\u54c1\u7684\u6269\u5c55\u3002vscode\u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u901a\u7528\u7684IDE\u6846\u67b6\uff0c\u5bf9\u5177\u4f53\u67d0\u4e2a\u8bed\u8a00\u7684\u5f00\u53d1\u652f\u6301\uff08\u7f16\u8f91\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u8c03\u8bd5\u7b49\uff09\uff0c\u90fd\u662f\u7531\u8be5\u8bed\u8a00\u7684\u6269\u5c55\u53ca\u8bed\u8a00\u670d\u52a1\u5668\uff08\u5bf9python\u800c\u8a00\uff0c\u6709jedi\u548cpylance\u4e24\u4e2a\u5b9e\u73b0\uff09\u6765\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\uff0cpylance\u662f\u6211\u4eec\u5728vscode\u4e2d\u5f00\u53d1python\u9879\u76ee\u65f6\uff0c\u5fc5\u987b\u5b89\u88c5\u7684\u4e00\u4e2a\u6269\u5c55\u3002</p> <p>\u5b83\u53ef\u4ee5\u968f\u7528\u6237\u8f93\u5165\u65f6\uff0c\u63d0\u793a\u51fd\u6570\u7684\u7b7e\u540d\u3001\u6587\u6863\u548c\u8fdb\u884c\u53c2\u6570\u7684\u7c7b\u578b\u63d0\u793a\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>Pylance\u5728\u4e0a\u9762\u63d0\u5230\u7684\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u4e4b\u5916\uff0c\u8fd8\u80fd\u5b9e\u73b0\u4f9d\u8d56\u81ea\u52a8\u5bfc\u5165\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u5b83\u8131\u80ce\u4e8e\u8bed\u6cd5\u9759\u6001\u68c0\u67e5\u5668\uff0c\u6240\u4ee5\u5b83\u8fd8\u80fd\u63d0\u793a\u4ee3\u7801\u4e2d\u7684\u9519\u8bef\u5e76\u663e\u793a\u3002\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5c3d\u65e9\u4fee\u6b63\u8fd9\u4e9b\u9519\u8bef\u3002</p> <p></p> <p>Tips</p> <p>Pylance\u5b89\u88c5\u540e\uff0c\u9700\u8981\u8fdb\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u6587\u4ef6\u662fpyrightconfig.json\uff0c\u653e\u7f6e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u3002 <pre><code>{\n    \"exclude\": [\n    \".git\",\n    \".eggs\"\n    ],\n    \"ignore\": [],\n    \"reportMissingImports\": true,\n    \"reportMissingTypeStubs\": false,\n    \"pythonVersion\": \"3.8\"\n}\n</code></pre> \u8fd9\u4e9b\u914d\u7f6e\u9879\u4e5f\u53ef\u4ee5\u5728vscode\u4e2d\u914d\u7f6e\uff0c\u4f46\u4e3a\u4e86\u4f7f\u5f00\u53d1\u6210\u5458\u4f7f\u7528\u4e00\u81f4\u7684\u914d\u7f6e\uff0c\u5efa\u8bae\u90fd\u91c7\u7528\u6587\u4ef6\u914d\u7f6e\uff0c\u5e76\u4e14\u4f7f\u7528git\u6765\u7ba1\u7406\u3002</p>"},{"location":"chap06/#type-hint-type-annotations","title":"Type Hint \uff08Type Annotations)","text":"<p>\u5f88\u591a\u4eba\u8c08\u5230Python\u65f6\uff0c\u4f1a\u89c9\u5f97\u5b83\u4f5c\u4e3a\u4e00\u79cd\u52a8\u6001\u8bed\u8a00\uff0c\u662f\u6ca1\u6709\u7c7b\u578b\u68c0\u67e5\u80fd\u529b\u7684\u3002\u8fd9\u79cd\u8bf4\u660e\u5e76\u4e0d\u51c6\u786e\uff0cPython\u662f\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u53d8\u91cf\u53ef\u4ee5\u6539\u53d8\u7c7b\u578b\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\uff0c\u4ecd\u7136\u4f1a\u6709\u7c7b\u578b\u68c0\u67e5\uff0c\u7c7b\u578b\u68c0\u67e5\u5931\u8d25\uff0c\u4f1a\u629b\u51faTypeError\uff1a</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86Python\u4e2d\u53d8\u91cf\u662f\u5982\u4f55\u6539\u53d8\u7c7b\u578b\u7684\uff0c\u4ee5\u53ca\u7c7b\u578b\u68c0\u67e5\u53ea\u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u7684\u8fd9\u4e00\u7279\u70b9\uff1a</p> <pre><code>&gt;&gt;&gt; one = 1\n... if False:\n...     one + \"two\" # \u8fd9\u4e00\u884c\u4e0d\u4f1a\u6267\u884c\uff0c\u6240\u4ee5\u4e0d\u4f1a\u629b\u51faTypeError\n... else:\n...     one + 2\n...\n3\n\n&gt;&gt;&gt; one + \"two\"     # \u8fd0\u884c\u5230\u6b64\u5904\u65f6\uff0c\u5c06\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u629b\u51faTypeError\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n... one = \"one \"    # \u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7\u8d4b\u503c\u6539\u53d8\u7c7b\u578b\n... one + \"two\"     # \u73b0\u5728\u7c7b\u578b\u68c0\u67e5\u6ca1\u6709\u95ee\u9898\none two\n</code></pre> <p>\u4f46Python\u8fc7\u53bb\u7684\u786e\u7f3a\u5c11\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u7684\u80fd\u529b\uff0c\u8fd9\u662fPython\u4e00\u76f4\u4ee5\u6765\u4e3a\u4eba\u8bdf\u75c5\u7684\u5730\u65b9\u3002\u6bd5\u7adf\uff0c\u9519\u8bef\u53d1\u73b0\u7684\u8d8a\u65e9\uff0c\u4fee\u590d\u6210\u672c\u5c31\u8d8a\u4f4e\u3002\u4f46\u8fd9\u6b63\u5728\u6210\u4e3a\u5386\u53f2\u3002</p> <p>\u7c7b\u578b\u6ce8\u91ca\u4ecepython 3.0\uff082006\u5e74\uff0cPEP 3107\uff0c\u5f53\u65f6\u8fd8\u53eb\u7740function annotations\uff09\u65f6\u88ab\u5f15\u5165\uff0c\u4f46\u5b83\u7684\u7528\u6cd5\u548c\u8bed\u4e49\u5e76\u6ca1\u6709\u5f97\u5230\u6e05\u6670\u5b9a\u4e49\uff0c\u4e5f\u6ca1\u6709\u5f15\u8d77\u5e7f\u6cdb\u5173\u6ce8\u548c\u8fd0\u7528\u3002\u6570\u5e74\u4e4b\u540e\uff0cPEP 484\uff08type hints including generics\uff09\u88ab\u63d0\u51fa\uff0c\u5b9a\u4e49\u4e86\u5982\u4f55\u7ed9python\u4ee3\u7801\u52a0\u4e0a\u7c7b\u578b\u63d0\u793a\uff0c\u8fd9\u6837\uff0ctype annotation\u5c31\u6210\u4e3a\u5b9e\u73b0type hint\u7684\u4e3b\u8981\u624b\u6bb5\u3002\u56e0\u6b64\uff0c\u5f53\u4eca\u5929\u4eba\u4eec\u63d0\u5230type annotation\u548ctype hint\u65f6\uff0c\u4e24\u8005\u57fa\u672c\u4e0a\u662f\u540c\u4e00\u542b\u4e49\u3002</p> <p>PEP 484\u662f\u7c7b\u578b\u68c0\u67e5\u7684\u5960\u57fa\u77f3\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u95ee\u9898\u6ca1\u6709\u5f97\u5230\u89e3\u51b3\uff0c\u6bd4\u5982\u5982\u4f55\u5bf9\u53d8\u91cf\u8fdb\u884c\u7c7b\u578b\u6ce8\u89e3\uff1f\u6bd4\u5982\u4e0b\u9762\u7684\u8bed\u6cd5\u5728\u5f53\u65f6\u8fd8\u662f\u4e0d\u652f\u6301\u7684\uff1a <pre><code>class Node:\n        left: str\n</code></pre></p> <p>2016\u5e748\u6708\uff0cPEP 526(syntax for variable annotations)\u63d0\u51fa\uff0c\u4ece\u6b64\uff0c\u8c61\u4e0a\u6587\u4e2d\u7684\u6ce8\u89e3\u4e5f\u662f\u5141\u8bb8\u7684\u4e86\u3002</p> <p>Info</p> <p>PEP 526\u4ece\u63d0\u51fa\u5230\u88ab\u63a5\u53d7\u4e3a\u6b63\u5f0f\u6807\u51c6\u4e0d\u52301\u6708\u7684\u65f6\u95f4\uff0c\u53ef\u80fd\u662f\u6700\u5feb\u88ab\u63a5\u53d7\u7684PEP\u4e4b\u4e00\u3002</p> <p>PEP 563(Postponed Evaluation of Annotations)\u89e3\u51b3\u4e86\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002\u5728\u8fd9\u4e2a\u63d0\u6848\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199\u4ee3\u7801\uff1a <pre><code>from typing import Optional\n\nclass Node:\n    # left: Optional[Node]  # \u8fd9\u4f1a\u5f15\u8d77\u5faa\u73af\u5f15\u7528\n    left: Optional[\"Node\"]\n    right: Optional[\"Node\"]\n</code></pre> \u6ce8\u610f\u5230\u6211\u4eec\u5728\u7c7b\u578bNode\u8fd8\u6ca1\u6709\u5b8c\u6210\u5176\u5b9a\u4e49\u65f6\uff0c\u5c31\u8981\u4f7f\u7528\u5b83\uff08\u5373\u8981\u4f7f\u7528Node\u6765\u5b9a\u4e49\u81ea\u5df1\u7684\u4e00\u4e2a\u6210\u5458\u53d8\u91cf\u7684\u7c7b\u578b\uff09\uff0c\u8fd9\u5c06\u5f15\u8d77\u5faa\u73af\u5f15\u7528\u3002PEP 563\u7684\u8bed\u6cd5\uff0c\u901a\u8fc7\u5728\u6ce8\u91ca\u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u672c\u8eab\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5728\u8fd9\u51e0\u4e2a\u91cd\u8981\u7684PEP\u4e4b\u540e\uff0c\u968f\u7740Python 3.7\u7684\u6b63\u5f0f\u53d1\u5e03\uff0c\u793e\u533a\u4e5f\u5f00\u59cb\u56f4\u7ed5Type Hint\u53bb\u6784\u5efa\u4e00\u5957\u751f\u6001\u4f53\u7cfb\uff0c\u4e00\u4e9b\u975e\u5e38\u6d41\u884c\u7684python\u5e93\u5f00\u59cb\u8865\u9f50\u7c7b\u578b\u6ce8\u89e3\uff0c\u5728\u7c7b\u578b\u68c0\u67e5\u5de5\u5177\u65b9\u9762\uff0c\u9664\u4e86\u6700\u65e9\u7684mypy\u4e4b\u5916\uff0c\u4e00\u4e9b\u5927\u516c\u53f8\u4e5f\u8ddf\u8fdb\u5f00\u53d1\uff0c\u6bd4\u5982\u5fae\u8f6f\u63a8\u51fa\u4e86pyright\uff08\u73b0\u5728\u662fpylance\u7684\u6838\u5fc3\uff09\u6765\u7ed9vscode\u63d0\u4f9b\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\u3002google\u63a8\u51fa\u4e86pytype\uff0cfacebook\u5219\u63a8\u51fa\u4e86pyre\u3002\u5728\u7c7b\u578b\u6ce8\u91ca\u7684\u57fa\u7840\u4e0a\uff0c\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u7684\u529f\u80fd\u4e5f\u56e0\u6b64\u53d8\u5f97\u66f4\u5bb9\u6613\u3001\u51c6\u786e\uff0c\u63a8\u65ad\u901f\u5ea6\u4e5f\u66f4\u5feb\u4e86\u3002\u4ee3\u7801\u91cd\u6784\u4e5f\u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\u3002</p> <p>\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\u5c06\u5bf9Python\u7684\u672a\u6765\u53d1\u5c55\u8d77\u5230\u6df1\u8fdc\u7684\u5f71\u54cd\uff0c\u53ef\u80fd\u8db3\u591f\u4e0etypescript\u5bf9js\u7684\u5f71\u54cd\u7c7b\u6bd4\u3002\u56f4\u7ed5\u7c7b\u578b\u68c0\u67e5\uff0c\u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u51e0\u4e2a\u6700\u91cd\u8981\u7684PEP\u4e4b\u5916\uff0c\u8fd8\u6709\uff1a     1. PEP 483\uff08\u89e3\u91ca\u4e86python\u4e2d\u7c7b\u578b\u7cfb\u7edf\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u975e\u5e38\u503c\u5f97\u4e00\u8bfb\uff09     2. PEP 544 (\u5b9a\u4e49\u4e86\u5bf9\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\u7684\u652f\u6301)     3. PEP 591 (\u63d0\u51fa\u4e86final\u9650\u5b9a\u7b26)    \u4ee5\u53caPEP 561\u7b49\u53e6\u591618\u4e2aPEP\u3002\u6b64\u5916\uff0c\u8fd8\u6709PEP 692\u7b495\u4e2aPEP\u76ee\u524d\u8fd8\u672a\u88ab\u6b63\u5f0f\u63a5\u53d7\u3002</p> <p>Python\u7684\u7c7b\u578b\u68c0\u67e5\u53ef\u80fd\u6700\u65e9\u7531Jukka Lehtosalo\u63a8\u52a8\uff0cGuido\uff0c\u0141ukasz Langa\u548cIvan Levkivskyi\u4e5f\u662f\u6700\u91cd\u8981\u7684\u51e0\u4e2a\u8d21\u732e\u8005\u4e4b\u4e00\u3002Jukka Lehtosalo\u51fa\u751f\u548c\u6210\u957f\u4e8e\u82ac\u5170\uff0c\u5f53\u4ed6\u5728\u5251\u6865\u5927\u5b66\u8ba1\u7b97\u673a\u653b\u8bfb\u535a\u58eb\u65f6\uff0c\u5728\u4ed6\u7684\u535a\u58eb\u8bba\u6587\u4e2d\uff0c\u4ed6\u63d0\u51fa\u4e86\u4e00\u79cd\u540d\u4e3a\u201c\u7c7b\u578b\u6ce8\u91ca\u201d\u7684\u8bed\u6cd5\uff0c\u4ece\u800c\u4e00\u7edf\u9759\u6001\u8bed\u8a00\u548c\u52a8\u6001\u8bed\u8a00\u3002\u6700\u521d\u7684\u5b9e\u9a8c\u662f\u5728\u4e00\u79cd\u540d\u4e3aAlore\u7684\u8bed\u8a00\u4e0a\u5b9e\u73b0\u7684\uff0c\u7136\u540e\u79fb\u690d\u5230Python\u4e0a\uff0c\u5f00\u53d1\u4e86mypy\u7684\u6700\u521d\u51e0\u4e2a\u7248\u672c\u3002\u4e0d\u8fc7\u5f88\u5feb\uff0c\u4ed6\u7684\u5de5\u4f5c\u91cd\u5fc3\u5c31\u5b8c\u5168\u8f6c\u79fb\u5230Python\u4e0a\u9762\u6765\uff0c\u6bd5\u7adf\uff0cPython\u5e9e\u5927\u7684\u7528\u6237\u7fa4\u548c\u5f00\u6e90\u5e93\u624d\u80fd\u63d0\u4f9b\u4e30\u5bcc\u7684\u6848\u4f8b\u4ee5\u4f9b\u5b9e\u8df5\u3002</p> <p>2013\u5e74\uff0c\u5728\u5723\u514b\u62c9\u62c9\u4e3e\u884c\u7684PyCon\u4f1a\u8bae\u4e0a\uff0c\u4ed6\u516c\u5e03\u4e86\u8fd9\u4e2a\u9879\u76ee\uff0c\u5e76\u4e14\u5f97\u5230\u4e86\u4e0eGuido\u4ea4\u8c08\u7684\u673a\u4f1a\u3002Guido\u8bf4\u670d\u4ed6\u653e\u5f03\u4e4b\u524d\u7684\u81ea\u5b9a\u4e49\u8bed\u6cd5\uff0c\u5b8c\u5168\u9075\u5faaPython 3\u7684\u8bed\u6cd5\uff0c\u5373PEP 3107\u63d0\u51fa\u7684\u51fd\u6570\u6ce8\u89e3\uff09\u3002\u5728\u968f\u540e\u4ed6\u4e0eGuido\u8fdb\u884c\u4e86\u5927\u91cf\u7684\u90ae\u4ef6\u8ba8\u8bba\uff0c\u5e76\u63d0\u51fa\u4e86\u901a\u8fc7\u6ce8\u91ca\u6765\u5bf9\u53d8\u91cf\u8fdb\u884c\u6ce8\u89e3\u7684\u65b9\u6848\uff08\u4e0d\u8fc7\u540e\u6765\u7684PEP 526\u63d0\u51fa\u4e86\u66f4\u597d\u7684\u65b9\u6848\uff09\u3002</p> <p>\u5728Jukka Lehtosalo\u4ece\u5251\u6865\u6bd5\u4e1a\u540e\uff0c\u53d7Guido\u9080\u8bf7\uff0c\u52a0\u5165\u4e86Dropbox\uff0c\u9886\u5bfc\u4e86mypy\u7684\u5f00\u53d1\u5de5\u4f5c\u3002</p> <p>\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u770b\u51fa\u9876\u5c16\u5927\u5b66\u5bf9\u5f85\u5b66\u672f\u7814\u7a76\u4e0a\u7684\u5f00\u653e\u548c\u4e0d\u62d8\u4e00\u683c\u3002\u5927\u6982\u57282016\u5e74\u524d\u540e\uff0c\u6211\u770b\u5230\u65af\u5766\u798f\u7684\u7f51\u7edc\u516c\u5f00\u8bfe\u4e0a\u8fd8\u6709\u8bb2\u6388ios\u7f16\u7a0b\u7684\u8bfe\uff0c\u5f53\u65f6\u4e5f\u662f\u540c\u6837\u7684\u9707\u64bc\u3002\u4e00\u662f\u4ed6\u4eec\u9009\u8bfe\u4e4b\u65b0\uff0c\u4e8c\u662f\u8fd9\u79cd\u5e94\u7528\u578b\u7684\u8bfe\u7a0b\uff0c\u5728\u56fd\u5185\u7684\u9876\u5c16\u5927\u5b66\u91cc\uff0c\u662f\u4e0d\u4f1a\u6709\u5f00\u8bbe\u7684\u3002</p> <p>\u5728\u6709\u4e86\u7c7b\u578b\u6ce8\u89e3\u4e4b\u540e\uff0c\u73b0\u5728\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff1a <pre><code>def foo(name: str) -&gt; int:\n    score = 20\n    return score\n\nfoo(10)\n</code></pre> foo\u51fd\u6570\u8981\u6c42\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u4f46\u6211\u4eec\u5728\u8c03\u7528\u65f6\uff0c\u9519\u8bef\u5730\u4f20\u5165\u4e86\u4e00\u4e2a\u6574\u6570\u3002\u8fd9\u5728\u8fd0\u884c\u65f6\u5e76\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f46pylance\u5c06\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u9519\u8bef\uff0c\u5e76\u4e14\u7ed9\u51fa\u8b66\u544a\uff0c\u5f53\u6211\u4eec\u628a\u9f20\u6807\u79fb\u52a8\u5230\u51fa\u9519\u4f4d\u7f6e\uff0c\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u63d0\u793a\uff1a</p> <p></p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u7b80\u8981\u5730\u4ecb\u7ecd\u4e00\u4e0btype hint\u7684\u4e00\u4e9b\u5e38\u89c1\u7528\u6cd5\uff1a</p> <p><pre><code># \u58f0\u660e\u53d8\u91cf\u7684\u7c7b\u578b\nage: int = 1\n\n# \u58f0\u660e\u53d8\u91cf\u7c7b\u578b\u65f6\uff0c\u5e76\u975e\u4e00\u5b9a\u8981\u521d\u59cb\u5316\u5b83\nchild: bool\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u4e5f\u6700\u597d\u58f0\u660e\u5b83\u4e3aAny\u3002zen of python: explicit is better than implicit\ndummy: Any = 1\ndummy = \"hello\"\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u591a\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528Union\ndx: Union[int, str]\n# \u4ecepython 3.10\u8d77\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\ndx: int | str\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u4e3aNone,\u53ef\u4ee5\u4f7f\u7528Optional\ndy: Optional[int]\n\n# \u5bf9python builtin\u7c7b\u578b\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7c7b\u578b\u7684\u540d\u5b57\uff0c\u6bd4\u5982int, float, bool, str, bytes\u7b49\u3002\nx: int = 1\ny: float = 1.0\nz: bytes = b\"test\"\n\n# \u5bf9collections\u7c7b\u578b\uff0c\u5982\u679c\u662fpython 3.9\u4ee5\u4e0a\u7c7b\u578b\uff0c\u4ecd\u7136\u76f4\u63a5\u4f7f\u7528\u5176\u540d\u5b57\uff1a\nh: list[int] = [1]\ni: dict[str, int] = {\"a\": 1}\nj: tuple[int, str] = (1, \"a\")\nk: set[int] = {1}\n\n# \u6ce8\u610f\u4e0a\u9762\u7684list[], dict[]\u8fd9\u6837\u7684\u8868\u8fbe\u65b9\u5f0f\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528list()\uff0c\u5219\u8fd9\u5c06\u53d8\u6210\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u58f0\u660e\u3002\n\n# \u4f46\u5982\u679c\u662fpython 3.8\u53ca\u4ee5\u4e0b\u7248\u672c\uff0c\u9700\u8981\u4f7f\u7528typing\u6a21\u5757\u4e2d\u7684\u7c7b\u578b\uff1a\nfrom typing import List, Set, Dict, Tuple\nh: List[int] = [1]\ni: Dict[str, int] = {\"a\": 1}\nj: Tuple[int, str] = (1, \"a\")\nk: Set[int] = {1}\n\n# \u5982\u679c\u4f60\u8981\u5199\u4e00\u4e9bdecorator\uff0c\u6216\u8005\u662f\u516c\u5171\u5e93\u7684\u4f5c\u8005\uff0c\u5219\u53ef\u80fd\u4f1a\u5e38\u7528\u5230\u4e0b\u9762\u8fd9\u4e9b\u7c7b\u578b\nfrom typing import Callable, Generator, Coroutine, Awaitable, AsyncIterable, AsyncIterator\n\ndef foo(x:int)-&gt;str:\n    return str(x)\n\n# Callable\u8bed\u6cd5\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u56e0\u6b64\u5b83\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\nf: Callable[[int], str] = foo\n\ndef bar() -&gt; Generator[int, None, str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ng: Generator[int, None, str] = bar\n\n# \u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u51fd\u6570\u8fd4\u56de\u503c\u4ec5\u4ec5\u58f0\u660e\u4e3aIterator:\ndef bar() -&gt; Iterator[str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ndef op() -&gt; Awaitable[str]:\n    if cond:\n        return spam(42)\n    else:\n        return asyncio.Future(...)\n\nh: Awaitable[str] = op()\n\n# \u4e0a\u8ff0\u9488\u5bf9\u53d8\u91cf\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u4e5f\u4e00\u6837\u53ef\u4ee5\u7528\u5728\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u7c7b\u578b\u58f0\u660e\u4e0a\uff0c\u6bd4\u5982\uff1a\ndef stringify(num: int) -&gt; str:\n    return str(num)\n\n# \u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u8bf7\u58f0\u660e\u4e3a\u8fd4\u56deNone\ndef show(value: str) -&gt; None:\n    print(value)\n\n# \u4f60\u53ef\u4ee5\u7ed9\u539f\u6709\u7c7b\u578b\u8d77\u4e00\u4e2a\u522b\u540d\nUrl = str\ndef retry(url: Url, retry_count: int) -&gt;None:\n    pass\n</code></pre> \u6b64\u5916\uff0ctype hint\u8fd8\u652f\u6301\u4e00\u4e9b\u9ad8\u7ea7\u7528\u6cd5\uff0c\u6bd4\u5982TypeVar, Generics, Covariance\u548ccontravariance\u7b49\uff0c\u8fd9\u4e9b\u6982\u5ff5\u5728PEP484\u4e2d\u6709\u5b9a\u4e49\uff0c\u53e6\u5916\uff0cPEP483\u548cunderstanding typing\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u66f4\u597d\u5730\u7406\u89e3\u7c7b\u578b\u63d0\u793a\uff0c\u5efa\u8bae\u611f\u5174\u8da3\u7684\u8bfb\u8005\u6df1\u5165\u7814\u8bfb\u3002</p>"},{"location":"chap06/#pep8---python\u4ee3\u7801\u98ce\u683c\u6307\u5357","title":"PEP8 - python\u4ee3\u7801\u98ce\u683c\u6307\u5357","text":"<p>PEP8\u662f2001\u5e74\u7531Guido\u7b49\u4eba\u62df\u5b9a\u7684\u5173\u4e8epython\u4ee3\u7801\u98ce\u683c\u7684\u4e00\u4efd\u63d0\u6848\u3002PEP8\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8python\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u4f7f\u5f97python\u4ee3\u7801\u5728\u4e0d\u540c\u7684\u5f00\u53d1\u8005\u4e4b\u95f4\u4fdd\u6301\u4e00\u81f4\u7684\u98ce\u683c\u3002PEP8\u7684\u5185\u5bb9\u5305\u62ec\uff1a\u4ee3\u7801\u5e03\u5c40\uff0c\u547d\u540d\u89c4\u8303\uff0c\u4ee3\u7801\u6ce8\u91ca\uff0c\u7f16\u7801\u89c4\u8303\u7b49\u3002PEP8\u7684\u5185\u5bb9\u975e\u5e38\u591a\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4e13\u95e8\u53bb\u8bb0\u5fc6\u5b83\u7684\u89c4\u5219\uff0c\u53ea\u8981\u7528\u5bf9\u6b63\u786e\u7684\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u6700\u7ec8\u5448\u73b0\u7684\u4ee3\u7801\u5c31\u4e00\u5b9a\u662f\u7b26\u5408PEP8\u6807\u51c6\u7684\u3002\u5728\u540e\u9762\u7684\u5c0f\u8282\u91cc\uff0c\u6211\u4eec\u4f1a\u4ecb\u7ecd\u8fd9\u4e00\u5de5\u5177 -- black\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u6253\u7b97\u5728\u6b64\u5904\u8fc7\u591a\u7740\u58a8\u3002</p>"},{"location":"chap06/#\u91cd\u6784","title":"\u91cd\u6784","text":"<p>\u5982\u679c\u60a8\u7684\u4ee3\u7801\u90fd\u505a\u597d\u4e86type annotation\uff0c\u90a3\u4e48IDE\u57fa\u672c\u4e0a\u80fd\u591f\u63d0\u4f9b\u548c\u5f3a\u7c7b\u578b\u8bed\u8a00\u7c7b\u4f3c\u7684\u91cd\u6784\u80fd\u529b\u3002\u9700\u8981\u5f3a\u8c03\u7684\u662f\uff0c\u5728\u91cd\u6784\u4e4b\u524d\uff0c\u4f60\u5e94\u8be5\u5148\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u4ee3\u7801lint\u548cformat\uff0c\u5728\u6ca1\u6709\u9519\u8bef\u4e4b\u540e\uff0c\u518d\u8fdb\u884c\u91cd\u6784\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5982\u679c\u91cd\u6784\u4e4b\u540e\uff0c\u5355\u5143\u6d4b\u8bd5\u4ecd\u7136\u80fd\u591f\u901a\u8fc7\uff0c\u5219\u57fa\u672c\u8868\u660e\u91cd\u6784\u662f\u6210\u529f\u7684\u3002</p>"},{"location":"chap06/#lint\u5de5\u5177","title":"Lint\u5de5\u5177","text":"<p>Lint\u5de5\u5177\u5bf9\u4ee3\u7801\u8fdb\u884c\u903b\u8f91\u68c0\u67e5\u548c\u98ce\u683c\u68c0\u67e5\u3002\u903b\u8f91\u68c0\u67e5\u662f\u6307\u8c61\u4f7f\u7528\u4e86\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u6216\u8005\u5b9a\u4e49\u7684\u53d8\u91cf\u672a\u4f7f\u7528\uff0c\u6ca1\u6709\u6309type annotation\u7684\u7ea6\u5b9a\u4f20\u5165\u53c2\u6570\u7b49\u7b49\uff1b\u98ce\u683c\u68c0\u67e5\u662f\u6307\u53d8\u91cf\u547d\u540d\u98ce\u683c\u3001\u7a7a\u767d\u7b26\u3001\u7a7a\u884c\u7b26\u7684\u4f7f\u7528\u7b49\u3002</p> <p>Python\u793e\u533a\u6709\u5f88\u591aLint\u5de5\u5177\uff0c\u6bd4\u5982Plint, PyFlakes, pycodestyle, bandit, Mypy\u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u6709Flake8\u548cPylama\u8fd9\u6837\uff0c\u5c06\u8fd9\u4e9b\u5de5\u5177\u7ec4\u5408\u8d77\u6765\u4f7f\u7528\u7684\u5de5\u5177\u3002</p> <p>\u5728\u9009\u62e9Lint\u5de5\u5177\u65f6\uff0c\u91cd\u8981\u7684\u6307\u6807\u662f\u62a5\u544a\u9519\u8bef\u7684\u5b8c\u5168\u5ea6\u548c\u901f\u5ea6\u3002\u8fc7\u4e8e\u5b8c\u5907\u7684\u9519\u8bef\u62a5\u544a\u6709\u65f6\u5019\u4e5f\u4e0d\u89c1\u5f97\u5c31\u662f\u6700\u597d\uff0c\u6709\u65f6\u5019\u4f1a\u628a\u4f60\u7684\u5927\u91cf\u7cbe\u529b\u7275\u6d89\u5230\u65e0\u610f\u4e49\u7684\u6392\u67e5\u4e2d -- \u7eaf\u7cb9\u57fa\u4e8e\u9759\u6001\u5206\u6790\u7684\u67e5\u9519\uff0c\u6709\u65f6\u4e5f\u4e0d\u53ef\u907f\u514d\u4f1a\u51fa\u73b0\u9519\u8bef\uff1b\u540c\u65f6\u4e5f\u4f7f\u5f97\u8fd0\u884c\u901f\u5ea6\u964d\u4f4e\u3002</p>"},{"location":"chap06/#flake8","title":"flake8","text":"<p><code>ppw</code>\u9009\u62e9\u4e86flake8\u548cmypy\u4f5c\u4e3alint\u5de5\u5177\u3002flake8\u5b9e\u9645\u4e0a\u662f\u4e00\u7ec4lint\u5de5\u5177\u7684\u7ec4\u5408\uff0c\u5b83\u7531pycodestyle, pyflakes, mcccab\u7ec4\u6210\u3002</p> <p>pycodestyle\u7528\u6765\u68c0\u67e5\u4ee3\u7801\u98ce\u683c\uff08\u7a7a\u683c\u3001\u7f29\u8fdb\u3001\u6362\u884c\u3001\u53d8\u91cf\u540d\u3001\u5b57\u7b26\u4e32\u5355\u53cc\u5f15\u53f7\u7b49\uff09\u662f\u5426\u7b26\u5408PEP8\u6807\u51c6\u3002</p> <p>pyflakes\u7528\u6765\u68c0\u67e5\u8bed\u6cd5\u9519\u8bef\uff0c\u6bd4\u5982\uff0c\u5b9a\u4e49\u4f46\u672a\u4f7f\u7528\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u53d8\u91cf\u91cd\u5b9a\u4e49\u9519\u8bef\uff0c\u672a\u4f7f\u7528\u7684\u5bfc\u5165\uff0c\u683c\u5f0f\u5316\u9519\u8bef\u7b49\u7b49\u3002\u4eba\u4eec\u901a\u5e38\u62ff\u5b83\u4e0epylint\u76f8\u5bf9\u7167\u3002pyflakes\u4e0epylint\u76f8\u6bd4\uff0c\u6240\u80fd\u53d1\u73b0\u7684\u8bed\u6cd5\u9519\u8bef\u4f1a\u5c11\u4e00\u4e9b\uff0c\u4f46\u8bef\u62a5\u7387\u66f4\u4f4e\uff0c\u901f\u5ea6\u4e5f\u66f4\u5feb\u3002\u5728\u6709\u5145\u5206\u5355\u5143\u6d4b\u8bd5\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u521d\u5b66\u8005\u4f7f\u7528pyflakes\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2apylint\u62a5\u544a\u9519\u8bef\uff0c\u800cpyflakes\u4e0d\u80fd\u62a5\u544a\u7684\u4f8b\u5b50\uff1a <pre><code>def add(x, y):\n    print(x + y)\n\nvalue: None = add(10, 10)\n</code></pre> \u663e\u7136\uff0c\u4ee3\u7801\u4f5c\u8005\u5fd8\u4e86\u7ed9add\u51fd\u6570\u52a0\u4e0a\u8fd4\u56de\u8bed\u53e5\uff0c\u56e0\u6b64\uff0c\u5c06value\u8d4b\u503c\u4e3aadd(10, 10)\u7684\u7ed3\u679c\u662fNone\u3002pylint\u4f1a\u62a5\u544a\u9519\u8bef\uff0c\u4f46\u662fpyflakes\u4e0d\u4f1a\u3002</p> <p>\u4f46\u662fpylint\u5b58\u5728\u4e00\u5b9a\u7684\u8bef\u62a5\u7387\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4ea4\u7ed9pylint\u6765\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\uff0c\u5176\u7ed3\u679c\u662f\uff1a <pre><code>xxxx:1:0: C0114: Missing module docstring (missing-module-docstring)\nxxxx:1:0: C0116: Missing function or method docstring (missing-function-docstring)\nxxxx:1:8: C0103: Argument name \"x\" doesn't conform to snake_case naming style (invalid-name)\nxxxx:1:11: C0103: Argument name \"y\" doesn't conform to snake_case naming style (invalid-name)\nxxxx:5:0: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)\nxxxx:5:0: C0103: Constant name \"value\" doesn't conform to UPPER_CASE naming style (invalid-name)\n</code></pre> \u8fd9\u91cc\u7b2c1\uff0c2\u548c\u7b2c5\u884c\u62a5\u544a\u90fd\u662f\u6b63\u786e\u7684\u3002\u4f46\u7b2c3\u548c\u7b2c4\u884c\u7684\u62a5\u544a\u5f88\u96be\u8bf4\u6b63\u786e\uff0c\u4e3a\u4e86\u4ee3\u7801\u7684\u7b80\u6d01\u6027\uff0c\u6211\u4eec\u4f7f\u7528\u5355\u4e2a\u5b57\u6bcd\u4f5c\u4e3a\u5c40\u90e8\u53d8\u91cf\u662f\u5f88\u5e38\u89c1\u7684\u4e8b\u3002PEP8\u89c4\u8303\u4e5f\u53ea\u8981\u6c42\u6211\u4eec\u4e0d\u5f97\u4f7f\u7528\"l\"\uff08\u5c0f\u5199\u7684\u5b57\u6bcdL\uff09, \"O\"\uff08\u5b57\u6bcdo\u7684\u5927\u5199\uff0c\u5f88\u96be\u4e0e\u6570\u5b570\u533a\u5206\uff09, \"I\"\uff08\u5b57\u6bcdi\u7684\u5927\u5199\uff09\u3002</p> <p>\u800c\u6700\u540e\u4e00\u884c\u7684\u62a5\u544a\u5219\u663e\u7136\u662f\u9519\u8bef\u7684\uff0c\u8fd9\u91cc\u51fd\u6570add\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u9519\u8bef\uff0c\u5bfc\u81f4pylint\u8bef\u4ee5\u4e3avalue\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u53d8\u91cf\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5f53\u4f60\u4fee\u590d\u6389add\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u9519\u8bef\u65f6\uff0cpylint\u5c31\u4e0d\u4f1a\u62a5\u544a\u8fd9\u4e2a\u9519\u8bef\u4e86\u3002</p> <p>\u8fd9\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u63a8\u8350\u521d\u5b66\u8005\u4f7f\u7528pyflakes\uff0c\u800c\u4e0d\u662fpylint\u7684\u539f\u56e0\u3002\u521d\u5b66\u8005\u5f88\u5bb9\u6613\u6df9\u6ca1\u5728pylint\u629b\u51fa\u7684\u4e00\u5927\u5806\u9519\u5939\u6742\u7740\u8bef\u62a5\u7684\u9519\u8bef\u62a5\u544a\u4e2d\uff0c\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u6765\u89e3\u51b3\u8fd9\u4e9b\u8bef\u62a5\uff0c\u5374\u832b\u7136\u65e0\u8ba1\u3002\u53e6\u5916\uff0cpylint\u8fc7\u4e8e\u4e25\u683c\u7684\u9519\u8bef\u68c0\u67e5\uff0c\u5bf9\u8fd8\u672a\u517b\u6210\u826f\u597d\u7f16\u7a0b\u4e60\u60ef\u7684\u521d\u5b66\u8005\uff0c\u53ef\u80fd\u4f1a\u4f7f\u4ed6\u4eec\u611f\u5230\u6cae\u4e27\u3002\u6bd4\u5982\uff0c\u4e0a\u9762\u5173\u4e8e\u7f3a\u5c11\u6587\u6863\u7684\u9519\u8bef\u62a5\u544a\uff0c\u5c3d\u7ba1\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8981\u4e00\u4e0b\u5b50\u8fbe\u5230\u6240\u6709\u8fd9\u4e9b\u6807\u51c6\uff0c\u4f1a\u4f7f\u5f97\u5b66\u4e60\u66f2\u7ebf\u53d8\u5f97\u8fc7\u4e8e\u9661\u5ced\uff0c\u4ece\u800c\u5bfc\u81f4\u5b66\u4e60\u7684\u70ed\u60c5\u964d\u4f4e\u3002</p> <p>mccabe\u7528\u6765\u68c0\u67e5\u4ee3\u7801\u7684\u590d\u6742\u5ea6\uff0c\u5b83\u628a\u4ee3\u7801\u6309\u63a7\u5236\u6d41\u5904\u7406\u6210\u4e00\u5f20\u56fe\uff0c\u4ece\u800c\u4ee3\u7801\u7684\u590d\u6742\u5ea6\u8ba1\u7b97\u516c\u5f0f\uff1a <code>M = E - N + P</code>\uff0c\u5176\u4e2dE\u662f\u8def\u5f84\u6570\uff0cN\u662f\u8282\u70b9\u6570\uff0cP\u5219\u662f\u51b3\u7b56\u6570\u3002</p> <p>\u4ee5\u4e0b\u9762\u7684\u4ee3\u7801\u4e3a\u4f8b\uff1a <pre><code>if (c1())\n    f1();\nelse\n    f2();\n\nif (c2())\n    f3();\nelse\n    f4();\n</code></pre> \u5bf9\u5e94\u7684\u63a7\u5236\u6d41\u56fe\u53ef\u4ee5\u7ed8\u5236\u6210\u4e3a\uff1a </p> <p>\u4e0a\u8ff0\u63a7\u5236\u6d41\u56fe\u4e2d\uff0c\u67099\u6761\u8fb9\uff0c7\u4e2a\u7ed3\u70b9\uff0c1\u4e2a\u8fde\u63a5\uff0c\u56e0\u6b64\u5b83\u7684\u590d\u6742\u5ea6\u4e3a3\u3002</p> <p>mccabe\u7684\u540d\u5b57\u6765\u6e90\u4e8eThomas J. McCabe\uff0c\u4ed6\u4e8e1976\u5e74\u5728IEEE\u4e0a\u53d1\u8868\u4e86\"A Complexity Measure\"\u8fd9\u7bc7\u8bba\u6587\uff0c\u8fd9\u7bc7\u91cd\u8981\u6587\u7ae0\uff0c\u88ab\u5176\u5b83\u5b66\u672f\u8bba\u6587\u5f15\u7528\u8d85\u8fc78000\u6b21\uff0c\u88ab\u8ba4\u4e3a\u662f\u8f6f\u4ef6\u5de5\u4e1a\u9886\u57df\u6700\u91cd\u8981\u548c\u6700\u6709\u5f71\u54cd\u529b\u7684\u8bba\u6587\u4e4b\u4e00\uff0c\u5f71\u54cd\u4e86\u4e00\u4ee3\u4eba\u300233\u5e74\u4e4b\u540e\uff0cThomas J. McCabe\u4e8e2019\u5e74\u88abACM\u6388\u4e88\u6700\u6709\u5f71\u54cd\u529b\u8bba\u6587\u5956\u3002\u8fd9\u4e2a\u5956\u4e00\u5e74\u53ea\u6388\u4e88\u4e00\u6b21\uff0c\u53ea\u6709\u6388\u5956\u5f53\u5e7411\u5e74\u4e4b\u524d\u7684\u8bba\u6587\u624d\u6709\u8d44\u683c\u5165\u9009\uff0c\u8fc4\u4eca\u4e5f\u53ea\u9881\u53d1\u4e8615\u5c4a\uff0c\u7ea640\u4eba\u62ff\u5230\u4e86\u8fd9\u4e2a\u5956\u9879\u3002</p> <p>Tom McCabe\u63d0\u51fa\uff0c\u5982\u679c\u8fd9\u4e2a\u590d\u6742\u5ea6\u572810\u4ee5\u4e0b\uff0c\u8be5\u6bb5\u4ee3\u7801\u5c31\u53ea\u662f\u4e00\u6bb5\u7b80\u5355\u7684\u8fc7\u7a0b\uff0c\u98ce\u9669\u8f83\u4f4e\uff1b11-20\u4e3a\u4e2d\u7b49\u98ce\u9669\uff1b21-50\u5c5e\u4e8e\u9ad8\u98ce\u9669\u9ad8\u590d\u6742\u5ea6\uff1b\u5982\u679c\u5927\u4e8e50\uff0c\u5219\u8be5\u6bb5\u4ee3\u7801\u662f\u4e0d\u53ef\u6d4b\u8bd5\u7684\uff0c\u5177\u6709\u975e\u5e38\u5927\u7684\u98ce\u9669\u3002</p> <p>\u914d\u7f6eflake8\uff0c\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e0b\u653e\u7f6e.flake8\u6587\u4ef6\u3002\u5c3d\u7ba1\u53ef\u4ee5\u628a\u914d\u7f6e\u6574\u5408\u5230pyproject.toml\u6587\u4ef6\u4e2d\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u63a8\u8350\u4f7f\u7528\u5355\u72ec\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u51cf\u5c11pyproject.toml\u7684\u590d\u6742\u5ea6\u3002\u5bf9\u540e\u9762\u5c06\u63d0\u5230\u7684\u5176\u5b83\u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4eec\u4e5f\u662f\u4e00\u6837\u7684\u6001\u5ea6\u3002</p> <p>.flak8\u662f\u4e00\u4e2aini\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a <pre><code>[flake8]\n# required by black, https://github.com/psf/black/blob/master/.flake8\nmax-line-length = 88\nmax-complexity = 18\nignore = E203, E266, E501, W503, F403, F401\nselect = B,C,E,F,W,T4,B9\ndocstring-convention=google\nper-file-ignores =\n    __init__.py:F401\nexclude =\n    .git,\n    __pycache__,\n    setup.py,\n    build,\n    dist,\n    releases,\n    .venv,\n    .tox,\n    .mypy_cache,\n    .pytest_cache,\n    .vscode,\n    .github,\n    docs/conf.py,\n    tests\n</code></pre></p> <p>\u6211\u4eec\u6392\u9664\u4e86\u5bf9test\u6587\u4ef6\u8fdb\u884clint\uff0c\u8fd9\u4e5f\u662fflake8\u5f00\u53d1\u8005\u7684\u63a8\u8350\uff0c\u5c3d\u7ba1\u4ee3\u7801\u53ef\u8bfb\u6027\u5341\u5206\u91cd\u8981\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u5e94\u8be5\u5728test\u4ee3\u7801\u7684\u98ce\u683c\u4e0a\u82b1\u592a\u591a\u5b9d\u8d35\u65f6\u95f4\u3002\u8fd9\u91cc\u6700\u521d\u51e0\u884c\u914d\u7f6e\uff0c\u662f\u4e3a\u4e86\u4e0eblack\u517c\u5bb9\u3002\u5982\u679c\u4e0d\u8fd9\u6837\u914d\u7f6e\uff0c\u90a3\u4e48\u7ecfblack\u683c\u5f0f\u5316\u7684\u6587\u4ef6\uff0cflake8\u603b\u4f1a\u62a5\u9519\uff0c\u800c\u8fd9\u79cd\u62a5\u9519\u5e76\u65e0\u4efb\u4f55\u610f\u4e49\u3002</p>"},{"location":"chap06/#mypy","title":"Mypy","text":"<p>flake8\u627f\u62c5\u4e86\u4ee3\u7801\u98ce\u683c\u3001\u90e8\u5206\u8bed\u6cd5\u9519\u8bef\u548c\u4ee3\u7801\u590d\u6742\u5ea6\u68c0\u67e5\u7684\u5de5\u4f5c\u3002\u4f46\u662f\uff0c\u5b83\u6ca1\u6709\u5904\u7406\u7c7b\u578b\u68c0\u67e5\u65b9\u9762\u7684\u9519\u8bef\uff0c\u8fd9\u9879\u5de5\u4f5c\u6211\u4eec\u53ea\u80fd\u7559\u7ed9mypy\u6765\u5b8c\u6210\u3002</p> <p>ppw\u4e2d\u5df2\u7ecf\u96c6\u6210\u4e86mypy\u6a21\u5757\uff0c\u5e76\u4f1a\u5728tox\u8fd0\u884c\u65f6\uff0c\u81ea\u52a8\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u770b\u4e0a\u53bb\uff0c\u53ea\u8981\u6211\u4eec\u6309\u7167PEP484\u53ca\u51e0\u4e2a\u5173\u8054\u7684PEP\u6765\u505a\u597d\u7c7b\u578b\u6ce8\u91ca\uff0c\u7136\u540e\u7b80\u5355\u5730\u8fd0\u884cmypy\uff0c\u4f3c\u4e4e\u5c31\u5e94\u8be5\u4e07\u4e8b\u5927\u5409\uff1f\u7136\u800c\uff0c\u5b9e\u8df5\u603b\u662f\u6bd4\u7406\u8bba\u8981\u4e30\u5bcc\u5f97\u591a\uff0c\u6df1\u523b\u5f97\u591a\u3002mypy\u5728\u8fd0\u884c\u68c0\u67e5\u65f6\uff0c\u5e38\u5e38\u4f1a\u9047\u5230\u7b2c\u4e09\u65b9\u5e93\u8fd8\u4e0d\u652f\u6301\u7c7b\u578b\u6ce8\u91ca\u7684\u60c5\u51b5\uff0c\u6216\u8005\u56e0\u4e3a\u914d\u7f6e\u9519\u8bef\uff0c\u5bfc\u81f4mypy\u5f97\u4e0d\u5230\u9884\u671f\u7684\u7ed3\u679c\u3002\u9047\u5230\u8fd9\u4e9b\u95ee\u9898\u65f6\uff0c\u5c31\u9700\u8981\u6211\u4eec\u7406\u89e3mypy\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u5e76\u4e14\u5bf9mypy\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4ee5\u4fbf\u8ba9\u5b83\u80fd\u591f\u66f4\u597d\u5730\u5de5\u4f5c\u3002</p> <p>Info</p> <p>\u4e3a\u4ec0\u4e48ppw\u9009\u62e9\u4e86mypy\uff1f\u5982\u679c\u4f60\u4f7f\u7528vscode\u7f16\u7a0b\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u5df2\u7ecf\u4f7f\u7528\u4e86pyright\u4f5c\u4e3a\u7c7b\u578b\u68c0\u67e5\u5668\u3002\u56e0\u4e3apylance\u7ed9\u51fa\u7684\u7c7b\u578b\u68c0\u67e5\u9519\u8bef\uff0c\u90fd\u6765\u81ea\u4e8epyright\u3002\u90a3\u4e48ppw\u4e3a\u4ec0\u4e48\u8fd8\u8981\u63a8\u8350\u53e6\u4e00\u4e2a\u7c7b\u578b\u68c0\u67e5\u5668\u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a\uff0cpyright\u5e76\u4e0d\u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684python\u89e3\u51b3\u65b9\u6848\u3002\u8981\u5b89\u88c5pyright\uff0c\u8fd8\u5fc5\u987b\u5b89\u88c5node\u3002\u6211\u4eec\u8ba4\u4e3a\uff0c\u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u4e00\u822c\u53ea\u9700\u8981\u5b89\u88c5\u4e00\u6b21\uff0c\u800c\u4e14vscode\u53ef\u4ee5\u5e2e\u6211\u4eec\u5b8c\u6210\u5b89\u88c5\u3002\u4f46\u5728\u7531tox\u9a71\u52a8\u7684\u77e9\u9635\u6d4b\u8bd5\u73af\u5883\u4e2d\uff0c\u4efb\u4f55\u975e\u7eafpython\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u53ef\u80fd\u5e26\u6765\u989d\u5916\u7684\u590d\u6742\u6027\u3002</p> <p>\u9996\u5148\uff0c\u8ba9\u6211\u4eec\u4ece<code>Any</code>\u8fd9\u4e2a\u7279\u6b8a\u7684\u7c7b\u578b\u8bf4\u8d77\u3002<code>Any</code>\u7c7b\u578b\u7528\u6765\u8868\u660e\u67d0\u4e2a\u53d8\u91cf/\u503c\u5177\u6709\u52a8\u6001\u7c7b\u578b\u3002\u5728\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u8fc7\u591a\u7684<code>Any</code>\u7c7b\u578b\uff0c\u5c06\u964d\u4f4emypy\u8fdb\u884c\u4ee3\u7801\u68c0\u67e5\u7684\u6709\u6548\u6027\u3002</p> <p>\u96be\u70b9\u5728\u4e8e\uff0c<code>Any</code>\u7c7b\u578b\u7684\u6307\u5b9a\uff0c\u5e76\u4e0d\u4e00\u5b9a\u6765\u6e90\u4e8e\u6211\u4eec\u81ea\u5df1\u4ee3\u7801\u4e2d\u7684\u663e\u5f0f\u58f0\u660e\uff08\u5bf9\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u884c\u4fee\u6539\uff0c\u53ea\u5728\u975e\u5e38\u5fc5\u8981\u65f6\u624d\u5c0f\u5fc3\u4f7f\u7528<code>Any</code>\uff09\u3002\u5728mypy\u4e2d\uff0c\u5b83\u8fd8\u4f1a\u81ea\u52a8\u83b7\u5f97\u548c\u4f20\u64ad\u3002mypy\u7684\u89c4\u5219\u662f\uff0c\u5728\u51fd\u6570\u4f53\u5185\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5982\u679c\u5b83\u4eec\u6ca1\u6709\u88ab\u663e\u5f0f\u5730\u58f0\u660e\u4e3a\u67d0\u79cd\u7c7b\u578b\uff0c\u65e0\u8bba\u5b83\u4eec\u662f\u5426\u88ab\u8d4b\u521d\u503c\uff0cmypy\u90fd\u4f1a\u5c06\u5176\u63a8\u5bfc\u4e3a<code>Any</code>\u3002\u800c\u5728\u51fd\u6570\u4f53\u5916\u7684\u53d8\u91cf\uff0cmypy\u5219\u4f1a\u4f9d\u636e\u5176\u521d\u503c\u5c06\u5176\u63a8\u5bfc\u4e3a\u67d0\u79cd\u7c7b\u578b\u3002mypy\u8fd9\u6837\u5904\u7406\u7684\u539f\u56e0\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5b83\u65e0\u6cd5\u5728\u68c0\u67e5\u65f6\u771f\u6b63\u8fd0\u884c\u8fd9\u4e2a\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u5148\u770b\u51fd\u6570\u4f53\u91cc\u7684\u53d8\u91cf\u81ea\u52a8\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u7684\u4f8b\u5b50\uff1a <pre><code># test.py\ndef bar(name):\n    x = 1\n    # reveal_type\u662fmypy\u7684\u4e00\u4e2a\u8c03\u8bd5\u65b9\u6cd5\uff0c\u7528\u4ee5\u63ed\u793a\u67d0\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u5b83\u4ec5\u5728mypy\u68c0\u67e5\u65f6\u624d\u4f1a\u6709\u5b9a\u4e49\uff0c\u5e76\u4f1a\u6253\u5370\u51fa\u53d8\u91cf\u7c7b\u578b\u3002\u4f60\u9700\u8981\u5728\u8c03\u8bd5\u5b8c\u6210\u540e\uff0c\u624b\u52a8\u79fb\u9664\u8fd9\u4e9b\u4ee3\u7801\uff0c\u5426\u5219\u4f1a\u5f15\u8d77python\u62a5\u544aNameError\u9519\u8bef\u3002\n    reveal_type(x)\n    x.foo()\n    return name\n</code></pre> \u6211\u4eec\u5c06\u4e0a\u8ff0\u4ee3\u7801\u5b58\u4e3atest.py\uff0c\u7136\u540e\u901a\u8fc7mypy\u6765\u8fd0\u884c\u68c0\u67e5\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a <pre><code>test.py:12: note: Revealed type is \"Any\"\n</code></pre> \u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u6ca1\u6709\u5176\u5b83\u522b\u7684\u9519\u8bef\u3002\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u5c3d\u7ba1x\u88ab\u8d4b\u503c\u4e3a\u6574\u65701\uff0c\u4f46\u5b83\u7684\u7c7b\u578b\u4ecd\u7136\u88abmypy\u63a8\u5bfc\u4e3a<code>Any</code>\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5728x\u4e0a\u8c03\u7528\u4efb\u4f55\u65b9\u6cd5\uff0c\u800c\u4e0d\u4f1a\u5f15\u8d77mypy\u7684\u9519\u8bef\u63d0\u793a\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u63ed\u793a\u4e86\u51fd\u6570\u4f53\u5916\u7684\u53d8\u91cf\uff0cmypy\u662f\u5982\u4f55\u63a8\u5bfc\u5176\u7c7b\u578b\u7684\uff1a <pre><code>from typing import Any\n\ns = 1           # Statically typed (type int)\nreveal_type(s)  # output: Revealed type is \"builtins.int\"\nd: Any = 1      # Dynamically typed (type Any)\nreveal_type(d)  # output: Revealed type is \"Any\"\n\ns = 'x'         # Type check error\nd = 'x'         # OK\n</code></pre> \u5176\u5b83\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u7684\u60c5\u51b5\u8fd8\u5305\u62ec\u5bfc\u5165\u9519\u8bef\u3002\u5f53mypy\u9047\u5230import\u8bed\u53e5\u65f6\uff0c\u5b83\u5c06\u9996\u5148\u5c1d\u8bd5\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5b9a\u4f4d\u8be5\u6a21\u5757\u6216\u8005\u5176\u7c7b\u578b\u6869(type stub)\u6587\u4ef6\u3002\u7136\u540e Mypy \u5c06\u5bf9\u5bfc\u5165\u7684\u6a21\u5757\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u662f\uff0c\u53ef\u80fd\u5b58\u5728\u5bfc\u5165\u5e93\u4e0d\u5b58\u5728\uff08\u6bd4\u5982\u540d\u5b57\u9519\u8bef\u3001\u6ca1\u6709\u5b89\u88c5\u5230mypy\u8fd0\u884c\u7684\u73af\u5883\u4e2d\uff09\uff0c\u6216\u8005\u8be5\u5e93\u6ca1\u6709\u7c7b\u578b\u6ce8\u91ca\u4fe1\u606f\u7b49\u60c5\u51b5\uff0c\u8fd9\u6837\uff0cmypy\u5c31\u4f1a\u5c06\u5bfc\u5165\u7684\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a<code>Any</code>\u3002</p> <p>Info</p> <p>\u6ce8\u610f\u5230\u5728\u7b2c4\u7ae0\u4e2d\uff0c\u6211\u4eec\u751f\u6210\u7684\u6837\u677f\u5de5\u7a0b\u4e2d\uff0c\u5728sample\\sample\u76ee\u5f55\u4e0b\uff0c\u5b58\u5728\u4e00\u4e2a\u540d\u4e3apy.typed\u7684\u7a7a\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u4f1a\u5728poetry\u6253\u5305\u8fc7\u7a0b\u4e2d\uff0c\u88ab\u590d\u5236\u5230\u6253\u5305\u540e\u7684\u5305\u4e2d\u3002\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f5c\u7528\u662f\uff0c\u544a\u8bc9\u7c7b\u578b\u68c0\u67e5\u5668(type checker)\uff0c\u8fd9\u4e2a\u5305\u4e2d\u7684\u6a21\u5757\u90fd\u662f\u5177\u6709\u7c7b\u578b\u6ce8\u91ca\u7684\uff0c\u53ef\u4ee5\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u5982\u679c\u4f60\u7684\u5305\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u7c7b\u578b\u68c0\u67e5\u5668\u5c06\u4e0d\u4f1a\u5bf9\u4f60\u7684\u5305\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002</p> <p>py.typed\u5e76\u4e0d\u662fmypy\u7684\u53d1\u660e\uff0c\u800c\u662fPEP 561\u7684\u89c4\u5b9a\u3002\u6240\u6709\u7c7b\u578b\u68c0\u67e5\u5668\u90fd\u5e94\u8be5\u9075\u5faa\u8fd9\u4e2a\u89c4\u5b9a\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cmypy\u5bfb\u627e\u5bfc\u5165\u5e93\u7684\u65b9\u5f0f\u4e0epython\u5bfb\u627e\u5bfc\u5165\u5e93\u7684\u65b9\u5f0f\u5e76\u4e0d\u5b8c\u5168\u76f8\u540c\u3002\u9996\u5148\uff0cmypy \u6709\u81ea\u5df1\u7684\u641c\u7d22\u8def\u5f84\u3002\u8fd9\u662f\u6839\u636e\u4ee5\u4e0b\u6761\u76ee\u8ba1\u7b97\u5f97\u51fa\u7684\uff1a 1. MYPYPATH\u73af\u5883\u53d8\u91cf\uff08\u76ee\u5f55\u5217\u8868\uff0c\u5728 UNIX \u7cfb\u7edf\u4e0a\u4ee5MYPYPATH\u5192\u53f7\u5206\u9694\uff0c\u5728 Windows \u4e0a\u4ee5\u5206\u53f7\u5206\u9694\uff09\u3002 2. \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684mypy_path\u914d\u7f6e\u9879\u3002 3. \u547d\u4ee4\u884c\u4e2d\u7ed9\u51fa\u7684\u6e90\u7684\u76ee\u5f55\u3002 4. \u6807\u8bb0\u4e3a\u7c7b\u578b\u68c0\u67e5\u5b89\u5168\u7684\u5df2\u5b89\u88c5\u5305\uff08\u8bf7\u89c1PEP561\uff09\u3002 5. typeshed repo\u7684\u76f8\u5173\u76ee\u5f55\u3002</p> <p>\u5176\u6b21\uff0c\u9664\u4e86\u5e38\u89c4\u7684 Python \u6587\u4ef6\u548c\u5305\u4e4b\u5916\uff0cmypy \u8fd8\u4f1a\u641c\u7d22\u5b58\u6839\u6587\u4ef6\u3002\u641c\u7d22\u6a21\u5757\u7684\u89c4\u5219foo\u5982\u4e0b\uff1a 1. \u641c\u7d22\u67e5\u627e\u641c\u7d22\u8def\u5f84\uff08\u89c1\u4e0a\u6587\uff09\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\uff0c\u76f4\u5230\u627e\u5230\u5339\u914d\u9879\u3002 2. \u5982\u679c\u627e\u5230\u540d\u4e3a\u7684\u5305foo\uff08\u5373foo\u5305\u542b__init__.py\u6216__init__.pyi\u6587\u4ef6\u7684\u76ee\u5f55\uff09\uff0c\u5219\u5339\u914d\u3002 3. \u5982\u679c\u627e\u5230\u540d\u4e3a\u7684\u5b58\u6839\u6587\u4ef6foo.pyi\uff0c\u5219\u5339\u914d\u3002 4. \u5982\u679c\u627e\u5230\u540d\u4e3a\u7684 Python \u6a21\u5757foo.py\uff0c\u5219\u5339\u914d\u3002</p> <p>\u89c4\u5219\u6bd4\u8f83\u590d\u6742\uff0c\u4e0d\u8fc7\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ea\u9700\u8981\u5927\u81f4\u4e86\u89e3\u5373\u53ef\uff0c\u5728\u9047\u5230\u95ee\u9898\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67e5\u9605mypy\u7684\u6587\u6863\u5982\u4f55\u627e\u5230\u5bfc\u5165\u5e93\u6765\u89e3\u51b3\u3002\u603b\u4e4b\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\uff0c\u5982\u679c\u67d0\u4e2a\u5bfc\u5165\u5e93\u5728\u4e0a\u9762\u7684\u641c\u7d22\u4e4b\u540e\u4e0d\u80fd\u627e\u5230\uff0cmypy\u5c31\u4f1a\u5c06\u8be5\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a<code>Any</code>\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u83b7\u5f97<code>Any</code>\u7684\u60c5\u51b5\u5916\uff0cmypy\u8fd8\u4f1a\u81ea\u52a8\u5c06<code>Any</code>\u7c7b\u578b\u4f20\u64ad\u5230\u5176\u4ed6\u53d8\u91cf\u4e0a\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u662f<code>Any</code>\uff0c\u90a3\u4e48\u5b83\u7684\u4efb\u4f55\u5c5e\u6027\u7684\u7c7b\u578b\u4e5f\u662f<code>Any</code>\uff0c\u5e76\u4e14\u4efb\u4f55\u5bf9\u7c7b\u578b\u4e3a<code>Any</code>\u7684\u8c03\u7528\uff0c\u4e5f\u5c06\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code>def f(x: Any) -&gt; None:\n    # x\u5177\u6709Any\u7c7b\u578b\uff0cfoo\u662fx\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u6240\u4ee5x.foo\u7684\u7c7b\u578b\u4e5f\u662f`Any`\n    # \u65e2\u7136x.foo\u7684\u7c7b\u578b\u662f`Any`\uff0c\u90a3\u4e48\u5bf9x.foo\u7684\u8c03\u7528\uff0c\u4e5f\u5c06\u5bfc\u81f4mypy\u5c06y\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a`Any`\n    y = x.foo()  \n    y.bar()      # \u56e0\u6b64\uff0cmypy\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u8c03\u7528\u662f\u5408\u6cd5\u7684\n</code></pre></p> <p>\u4ecePEP 484\u5f00\u59cb\u5efa\u6784Python\u7684\u7c7b\u578b\u63d0\u793a\u5927\u53a6\uff0c\u76f4\u5230PEP 563\u57fa\u672c\u5b8c\u6210\u5927\u53a6\u7684\u5c01\u9876\u4e4b\u65f6\uff0c\u4ecd\u6709\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u5e93\u8fd8\u4e0d\u652f\u6301\u7c7b\u578b\u6ce8\u89e3\u3002\u9488\u5bf9\u8fd9\u4e2a\u73b0\u5b9e\uff0cPython\u7684\u7c7b\u578b\u6ce8\u89e3\u662f\u6e10\u8fdb\u5f0f\u7684(\u89c1PEP 483)\uff0c\u4efb\u4f55\u7c7b\u578b\u68c0\u67e5\u5668\u90fd\u5fc5\u987b\u9762\u5bf9\u8fd9\u4e2a\u73b0\u5b9e\uff0c\u5e76\u7ed9\u51fa\u89e3\u51b3\u65b9\u6848\u3002</p> <p>Mypy\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u914d\u7f6e\u9879\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u4e9b\u914d\u7f6e\u9879\u65e2\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u4f20\u5165\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u4f20\u5165\u3002</p> <p>\u9ed8\u8ba4\u5730\uff0cmypy\u4f7f\u7528\u5de5\u7a0b\u76ee\u5f55\u4e0b\u7684mypy.ini\u4f5c\u4e3a\u5176\u914d\u7f6e\u6587\u4ef6\uff1b\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u627e\u4e0d\u5230\uff0c\u5219\u4f1a\u4f9d\u6b21\u5bfb\u627e.mypy.ini\uff08\u6ce8\u610f\u524d\u9762\u591a\u4e00\u4e2a'.')\uff0cpyproject.toml, setup.cfg, $XDG_CONFIG_HOME/mypy/config\uff0c ~/.config/mypy/config\uff0c\u6700\u540e\u662f~/.mypy.ini\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684mypy\u914d\u7f6e\u6587\u4ef6\u5305\u62ec\u5168\u5c40\u914d\u7f6e\u548c\u9488\u5bf9\u7279\u5b9a\u6a21\u5757\u3001\u5e93\u7684\u8bbe\u7f6e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a ```ini {class='line-numbers'} [mypy] warn_redundant_casts = true warn_unused_ignores = true warn_unused_configs = true</p> <p>disallow_any_unimported = true ignore_missing_imports = false</p>"},{"location":"chap06/#\u7981\u6b62\u672a\u6ce8\u89e3\u7684\u51fd\u6570\u6216\u8005\u6ce8\u89e3\u4e0d\u5b8c\u5168\u7684\u51fd\u6570","title":"\u7981\u6b62\u672a\u6ce8\u89e3\u7684\u51fd\u6570\u3001\u6216\u8005\u6ce8\u89e3\u4e0d\u5b8c\u5168\u7684\u51fd\u6570\u3002","text":"<p>disallow_untyped_defs = true</p>"},{"location":"chap06/#\u5f53disallow_untyped_defs\u4e3a\u771f\u65f6\u4e0b\u9762\u7684\u914d\u7f6e\u65e0\u610f\u4e49","title":"\u5f53disallow_untyped_defs\u4e3a\u771f\u65f6\uff0c\u4e0b\u9762\u7684\u914d\u7f6e\u65e0\u610f\u4e49","text":""},{"location":"chap06/#disallow_incomplete_defs--true","title":"disallow_incomplete_defs = true","text":"<p>disallow_untyped_calls = true disallow_untyped_decorators = true</p>"},{"location":"chap06/#\u4e0d\u5141\u8bb8\u4f7f\u7528x-listany-\u6216\u8005-x-list","title":"\u4e0d\u5141\u8bb8\u4f7f\u7528<code>x: List[Any]</code> \u6216\u8005 x: List`","text":"<p>disallow_any_generics = true</p>"},{"location":"chap06/#\u663e\u793a\u9519\u8bef\u4ee3\u7801","title":"\u663e\u793a\u9519\u8bef\u4ee3\u7801","text":"<p>show_error_codes = true</p>"},{"location":"chap06/#\u5982\u679c\u51fd\u6570\u8fd4\u56de\u503c\u58f0\u660e\u4e0d\u4e3aany\u4f46\u5b9e\u9645\u8fd4\u56deany\u5219\u53d1\u51fa\u8b66\u544a","title":"\u5982\u679c\u51fd\u6570\u8fd4\u56de\u503c\u58f0\u660e\u4e0d\u4e3aAny\uff0c\u4f46\u5b9e\u9645\u8fd4\u56deAny\uff0c\u5219\u53d1\u51fa\u8b66\u544a","text":"<p>warn_return_any = true</p> <p>[mypy-fire]</p>"},{"location":"chap06/#clipy\u4e2d\u5f15\u5165\u4e86python-fire\u5e93\u4f46\u5b83\u6ca1\u6709pytyped\u6587\u4ef6\u8fd9\u91cc\u6211\u4eec\u8981\u5bf9\u8be5\u5e93\u5355\u72ec\u8bbe\u7f6e\u5141\u8bb8\u5bfc\u5165\u7f3a\u5931","title":"cli.py\u4e2d\u5f15\u5165\u4e86python-fire\u5e93\uff0c\u4f46\u5b83\u6ca1\u6709py.typed\u6587\u4ef6\uff0c\u8fd9\u91cc\u6211\u4eec\u8981\u5bf9\u8be5\u5e93\u5355\u72ec\u8bbe\u7f6e\u5141\u8bb8\u5bfc\u5165\u7f3a\u5931","text":"<p>ignore_missing_imports = true</p> <pre><code>\u793a\u4f8b\u4e2d\u7ed9\u51fa\u7684\u914d\u7f6e\u9879\u76ee\u662f\u6211\u4eec\u8ba4\u4e3a\u8f83\u4e3a\u91cd\u8981\uff0c\u5e76\u4e14\u4e0e\u9ed8\u8ba4\u503c\u4e0d\u540c\u7684\u90a3\u4e9b\u3002\u5173\u4e8emypy\u6240\u6709\u914d\u7f6e\u9879\u76ee\u53ca\u5176\u542b\u4e49\u53ef\u4ee5\u53c2\u8003[\u5b98\u65b9\u6587\u6863](https://mypy.readthedocs.io/en/stable/config_file.html)\u3002\u8fd9\u4e9b\u914d\u7f6e\u9879\uff0c\u65e2\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u65b9\u5f0f\u76f4\u63a5\u4f20\u9012\u7ed9mypy\u3002\u5f53\u7136\uff0c\u4f7f\u7528\u547d\u4ee4\u884c\u65b9\u5f0f\u4f20\u9012\u65f6\uff0c\u8fd9\u4e9b\u914d\u7f6e\u5c06\u5728\u5168\u5c40\u8303\u56f4\u5185\u53d1\u751f\u4f5c\u7528\u3002\n\n#### disallow_untyped_defs\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cmypy\u7684\u7c7b\u578b\u68c0\u67e5\u76f8\u5f53\u5bbd\u677e\uff0c\u4ee5\u4fbf\u517c\u5bb9\u4e00\u4e9b\u9648\u65e7\u7684\u9879\u76ee\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u66f4\u4e25\u683c\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u53ef\u4ee5\u5c06disallow_untyped_defs\u8bbe\u7f6e\u4e3atrue\u3002\u6211\u4eec\u53ef\u4ee5\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a\n</code></pre>"},{"location":"chap06/#testpy","title":"test.py","text":"<p>def bar(name):     return name <pre><code>\u51fd\u6570bar\u6ca1\u6709\u52a0\u4efb\u4f55\u7c7b\u578b\u6ce8\u91ca\uff0c\u663e\u7136\uff0c\u5e94\u8be5\u65e0\u6cd5\u901a\u8fc7mypy\u7684\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u5982\u679c\u6211\u4eec\u5728\u547d\u4ee4\u884c\u4e0b\u6267\u884c\uff1a\n</code></pre> mypy test.py <pre><code>mypy\u4e0d\u4f1a\u7ed9\u51fa\u4efb\u4f55\u9519\u8bef\u63d0\u793a\u3002\u5982\u679c\u6211\u4eec\u5e26\u4e0a--disallow-untyped-defs\u53c2\u6570\uff1a\n</code></pre> mypy --disallow-untyped-defs test.py <pre><code>\u8fd9\u4f1a\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef\uff1a\n</code></pre> test.py:7: error: Function is missing a type annotation  [no-untyped-def] <pre><code>\u5982\u679c\u662f\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u8bbe\u7f6edisallow_untyped_defs\uff0c\u8c61\u8fd9\u79cd\u5e03\u5c14\u91cf\uff0c\u5206\u522b\u8bbe\u7f6e\u4e3atrue\u6216false\u5373\u53ef\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u4f20\u5165\u53c2\u6570\u4e00\u5b9a\u662f\u5168\u5c40\u751f\u6548\uff0c\u800c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\uff0c\u5219\u53ef\u4ee5\u5728\u66f4\u7ec6\u81f4\u7684\u7c92\u5ea6\u4e0a\u8fdb\u884c\u914d\u7f6e\u3002\n\n\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u8fd8\u5b58\u5728\u4e00\u4e2a\u540d\u4e3aallow-incomplete-defs\u7684\u9009\u9879\uff0c\u5b83\u9488\u5bf9\u7684\u662f\u51fd\u6570\u53c2\u6570\u53ea\u5b8c\u6210\u4e86\u90e8\u5206\u6ce8\u89e3\u7684\u60c5\u51b5\u3002\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u5141\u8bb8\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981mypy\u4ec5\u9488\u5bf9\u4e2a\u522b\u573a\u5408\u8fdb\u884c\u4ee5\u4e0b\u914d\u7f6e\uff1a\n</code></pre> [mypy-special_module] disallow_untyped_defs = false allow_incomplete_defs = true <pre><code>#### check_untyped_defs\n\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u628a\u5b57\u7b26\u4e32\u4e0e\u4e00\u4e2a\u6574\u6570\u76f8\u52a0\u3002\u8fd9\u663e\u7136\u5e76\u4e0d\u5408\u7406\u3002\n```python\ndef bar()-&gt;None:\n    not_very_wise = \"1\" + 1\n</code></pre> \u5982\u679c\u5b58\u5728\u5168\u5c40\u8bbe\u7f6edisallow_untyped_defs = True\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cmypy\u5c06\u62a5\u544a\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>error: Unsupported operand types for + (\"str\" and \"int\")  [operator]\n</code></pre> \u4f46\u4e8b\u4e8b\u6709\u4f8b\u5916\u3002\u5728\u4f8b\u5916\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u9000\u800c\u6c42\u5176\u6b21\uff0c\u901a\u8fc7\u8bbe\u7f6echeck_untyped_defs = True\u5c06\u53ef\u4ee5\u68c0\u67e5\u51fa\u4e0a\u8ff0\u95ee\u9898\u3002</p>"},{"location":"chap06/#disallow_any_unimported\u548cignore_missing_imports","title":"disallow_any_unimported\u548cignore_missing_imports","text":"<p>\u6211\u4eec\u5728\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0c\u5982\u679cmypy\u65e0\u6cd5\u8ffd\u8e2a\u4e00\u4e2a\u5bfc\u5165\u5e93\uff0c\u5c31\u4f1a\u5c06\u8be5\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u65ad\u4e3a<code>Any</code>\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u4f20\u64ad\u5230\u6211\u4eec\u7684\u4ee3\u7801\u91cc\uff0c\u4f7f\u5f97\u66f4\u591a\u7684\u7c7b\u578b\u68c0\u67e5\u65e0\u6cd5\u8fdb\u884c\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u7981\u6b62\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06disallow_any_unimported\u8bbe\u7f6e\u4e3aTrue\u3002\u8be5\u53c2\u6570\u7684\u7f3a\u7701\u503c\u662ffalse\u3002</p> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u5728\u5168\u5c40\u8303\u56f4\u5185\u5c06disallow_any_unimported\u8bbe\u7f6e\u4e3aTrue\uff0c\u7136\u540e\u9488\u5bf9mypy\u62a5\u544a\u51fa\u6765\u7684\u65e0\u6cd5\u5904\u7406\u5bfc\u5165\u7684\u9519\u8bef\uff0c\u9010\u4e2a\u89e3\u51b3\u3002\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u9009\u62e9\u4e86fire\u4f5c\u4e3a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5219\u4f1a\u9047\u5230\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>error: Skipping analyzing 'fire': found module but no type hints or library stubs  [import]\n</code></pre> \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u662f\u77e5\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u5f80\u5f80\u5728typeshed\u4e0a\u6ce8\u518c\u8fc7\u7c7b\u578b\u5b58\u6839\u6587\u4ef6\uff0c\u7c7b\u578b\u68c0\u67e5\u5668\uff08\u6bd4\u5982mypy)\u5e94\u8be5\u80fd\u81ea\u52a8\u627e\u5230\u3002\u5982\u679c\u662f\u4e0d\u77e5\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5347\u7ea7\u5b83\uff0c\u770b\u6700\u65b0\u7248\u672c\u662f\u5426\u652f\u6301\uff0c\u6216\u8005\u5728pypi\u4e0a\u641c\u7d22\u5b83\u7684\u5b58\u6839\u5e93\u3002\u6bd4\u5982\uff0c\u5bf9<code>fire</code>\uff0c\u5982\u679cpypi\u4e0a\u5b58\u5728\u5b83\u7684\u5b58\u6839\u5e93\uff0c\u5219\u5b83\u7684\u540d\u5b57\u4e00\u5b9a\u662f<code>types-fire</code>\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u7ea0\u6b63\u4e0a\u8ff0\u95ee\u9898\uff1a <pre><code>pip install types-fire\n</code></pre> \u5230\u6210\u4e66\u65f6\u4e3a\u6b62\uff0cfire\u7684\u5f00\u53d1\u8005\u5e76\u6ca1\u6709\u4e0a\u4f20\u5b58\u6839\u6587\u4ef6\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u81ea\u5df1\u5199\u4e00\u4e2a<code>fire.pyi</code>\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u5b83\u653e\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u5173\u4e8e\u5982\u4f55\u5199.pyi\u6587\u4ef6\uff0c\u8bf7\u8bfb\u8005\u81ea\u884c\u641c\u7d22\u3002</p> <p>\u4f46\u5982\u679c\u65e2\u627e\u4e0d\u5230\u5408\u9002\u7684\u5b58\u6839\u5e93\uff0c\u6211\u4eec\u4e5f\u6ca1\u65f6\u95f4\u6765\u5199pyi\u6587\u4ef6\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06ignore_missing_imports\u8bbe\u7f6e\u4e3aTrue\uff0c\u8fd9\u6837mypy\u5c31\u4e0d\u4f1a\u62a5\u9519\u4e86\u3002\u8bf7\u53c2\u8003\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7b2c24~26\u884c\uff0c\u4e0d\u8fc7\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u529b\u907f\u514d\u4f7f\u7528\u8fd9\u4e2a\u9009\u9879\u3002</p>"},{"location":"chap06/#implicit_optional","title":"implicit_optional","text":"<p>\u5982\u679c\u6709\u4ee5\u4e0b\u7684\u4ee3\u7801\uff1a <pre><code>def foo(arg: str = None) -&gt; None:\n    reveal_type(arg)  # Revealed type is \"Union[builtins.str, None]\"\n</code></pre> \u6211\u4eec\u901a\u8fc7reveal_type\u5f97\u77e5\uff0cmypy\u5c06<code>arg</code>\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3aOptional[str]\u3002\u8fd9\u4e2a\u63a8\u5bfc\u672c\u8eab\u6ca1\u6709\u9519\uff0c\u4f46\u662f\uff0c\u8003\u8651\u5230zen of python\u7684\u8981\u6c42\uff0c explicit is better than implicit\uff0c\u6211\u4eec\u5e94\u8be5\u5c06arg\u7684\u7c7b\u578b\u58f0\u660e\u4e3a<code>arg: Optional[str]</code>\u3002\u4ece0.980\u8d77\uff0cmypy\u9ed8\u8ba4\u5c06implicit_optional\u8bbe\u7f6e\u4e3aFlase\uff08\u5373\u7981\u6b62\u8fd9\u6837\u4f7f\u7528\uff09\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e2a\u9009\u9879\u4e5f\u6ca1\u6709\u51fa\u73b0\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\u3002</p>"},{"location":"chap06/#warn_return_any","title":"warn_return_any","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u5e94\u8be5\u8ba9\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u4e3a<code>Any</code>\uff08\u5982\u679c\u771f\u6709\u7c7b\u578b\u4e0d\u786e\u5b9a\u7684\u60c5\u51b5\uff0c\u5e94\u8be5\u4f7f\u7528\u6cdb\u578b\uff09\u3002\u56e0\u6b64\uff0cmypy\u5e94\u8be5\u68c0\u67e5\u8fd9\u79cd\u60c5\u51b5\u5e76\u62a5\u544a\u4e3a\u9519\u8bef\u3002\u4f46\u662f\uff0cmypy\u7684\u7f3a\u7701\u914d\u7f6e\u5e76\u4e0d\u4f1a\u7981\u6b62\u8fd9\u79cd\u884c\u4e3a\uff0c\u6211\u4eec\u9700\u8981\u81ea\u884c\u4fee\u6539\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u6211\u4eec\u7ed9\u51fa\u4ee5\u4e0b\u9519\u8bef\u4ee3\u7801\uff1a <pre><code>from typing import Any\n\ndef baz() -&gt; str:\n    return something_that_returns_any()\n\ndef something_that_returns_any() -&gt; Any:\n    ...\n</code></pre> \u5f53warn_return_any = True\u65f6\uff0cmypy\u5c06\u9488\u5bf9\u4e0a\u8ff0\u4ee3\u7801\u62a5\u544a\u5982\u4e0b\uff1a <pre><code>error: Returning Any from function declared to return \"str\"  [no-any-return]\n</code></pre></p>"},{"location":"chap06/#show_errors_codes-and-warn_unused_ignores","title":"show_errors_codes and warn_unused_ignores","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528\u4e86type ignore\u65f6\uff0c\u6211\u4eec\u4e00\u822c\u4ecd\u7136\u5e0c\u671bmypy\u80fd\u591f\u62a5\u544a\u51fa\u9519\u8bef\u6d88\u606f\uff08\u4f46\u4e0d\u4f1a\u4f7f\u7c7b\u578b\u68c0\u67e5\u5931\u8d25\uff09\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6eshow_errors_codes = True\u6765\u5b9e\u73b0\uff0c\u663e\u793a\u9519\u8bef\u4ee3\u7801\u3002\u8fd9\u5bf9\u4e8e\u7406\u89e3\u9519\u8bef\u539f\u56e0\u5f88\u6709\u5e2e\u52a9\u3002</p> <p>\u968f\u7740\u4ee3\u7801\u7684\u4e0d\u65ad\u6f14\u8fdb\uff0c\u6709\u65f6\u5019type ignore\u4f1a\u53d8\u5f97\u4e0d\u518d\u5fc5\u8981\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u4f9d\u8d56\u7684\u67d0\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u968f\u7740\u65b0\u7248\u672c\u7684\u53d1\u5e03\uff0c\u8865\u5168\u4e86\u7c7b\u578b\u6ce8\u89e3\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9488\u5bf9\u5b83\u7684type ignore\u5c31\u4e0d\u518d\u5fc5\u8981\u3002\u53ca\u65f6\u6e05\u7406\u8fd9\u4e9b\u9648\u65e7\u7684\u8bbe\u7f6e\u662f\u4e00\u79cd\u826f\u597d\u4e60\u60ef\u3002</p>"},{"location":"chap06/#inline-comment","title":"inline comment","text":"<p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0\u6ce8\u91ca\u6765\u63a7\u5236mypy\u7684\u884c\u4e3a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0<code># type: ignore</code>\u6765\u5ffd\u7565mypy\u7684\u68c0\u67e5\u3002\u5982\u679c\u8be5\u6ce8\u91ca\u6dfb\u52a0\u5728\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u5ffd\u7565\u6574\u4e2a\u6587\u4ef6\u7684\u68c0\u67e5\u3002\u5982\u679c\u6dfb\u52a0\u5728\u67d0\u4e00\u884c\u7684\u672b\u5c3e\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u5ffd\u7565\u8be5\u884c\u7684\u68c0\u67e5\u3002</p> <p>\u4e00\u822c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u6307\u5b9a\u5ffd\u7565\u67d0\u4e2a\u5177\u4f53\u7684\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u5ffd\u7565\u6574\u884c\u68c0\u67e5\u3002\u5176\u8bed\u6cd5\u662f <code># type: ignore[&lt;error-code&gt;]</code>\u3002</p>"},{"location":"chap06/#formatter\u5de5\u5177","title":"Formatter\u5de5\u5177","text":"<p>Formatter\u5de5\u5177\u4e5f\u6709\u5f88\u591a\u79cd\uff0c\u4f46\u662f\u6211\u4eec\u51e0\u4e4e\u4e0d\u7528\u53bb\u8003\u67e5\u5176\u5b83\u7684formatter,\u5c31\u9009\u62e9\u4e86black,\u53ea\u56e0\u4e3a\u5b83\u7684logo:</p>  The Uncompromising Code Formatter <p>\u4e0e\u5176\u5b83Formatter\u5de5\u5177\u63d0\u4f9b\u4e86\u4f53\u8d34\u5165\u5fae\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e0d\u540c\uff0cBlack\u575a\u6301\u4e0d\u8ba9\u60a8\u505a\u4efb\u4f55\u81ea\u5b9a\u4e49\uff08\u51e0\u4e4e\uff09\u3002\u8fd9\u6837\u505a\u662f\u6709\u9053\u7406\u7684\uff0c\u5141\u8bb8\u5b9a\u5236\u53ea\u4f1a\u8ba9\u56e2\u961f\u9677\u5165\u5230\u65e0\u610f\u4e49\u5730\u4e89\u8fa9\u5f53\u4e2d\uff0c\u800c\u98ce\u683c\u5e76\u65e0\u5bf9\u9519\uff0c\u4e60\u60ef\u5c31\u597d\u3002\u6211\u4eec\u5e38\u5e38\u770b\u5230\u5728\u56e2\u961f\u91cc\uff0c\u4e00\u4e9b\u4eba\u4e3a\u4ee3\u7801\u98ce\u683c\u4e89\u8bba\uff0c\u5176\u5b9e\u4ed6\u4eec\u53cd\u5bf9\u7684\u5e76\u4e0d\u662f\u98ce\u683c\u672c\u8eab\uff0c\u4ed6\u4eec\u53ea\u662f\u5728\u53cd\u5bf9\u5bf9\u624b\u800c\u5df2\u3002</p> <p>\u5f53\u7136Black\u8fd8\u662f\u5f00\u4e86\u4e00\u4e2a\u5c0f\u7a97\u53e3\uff0c\u5141\u8bb8\u4f60\u5b9a\u4e49\u4ee3\u7801\u884c\u7684\u6362\u884c\u957f\u5ea6\uff0cBlack\u7684\u63a8\u8350\u662f88\u5b57\u7b26\u3002\u6709\u7684\u56e2\u961f\u4f1a\u628a\u8fd9\u4e2a\u66f4\u6539\u4e3a120\u5b57\u7b26\u5bbd\uff0c\u6309\u7167\u9634\u8c0b\u8bba\u7684\u89c2\u70b9\uff0c\u5e55\u540e\u7684\u63a8\u624b\u53ef\u80fd\u662f\u751f\u4ea7\u5e26\u9c7c\u5c4f\u7684\u8d44\u672c\u529b\u91cf\u3002</p> <p>\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u628ablack\u7684\u8bbe\u7f6e\u653e\u5728pyproject.toml\u4e2d\uff1a <pre><code>[tool.black]\nline-length = 88\ninclude = '\\.pyi?$'\n</code></pre></p> <p>\u53e6\u5916\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u5de5\u5177\u662fisort\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5bf9\u4ee3\u7801\u4e2d\u7684<code>import</code>\u8bed\u53e5\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u5305\u62ec\u6392\u5e8f\uff0c\u5c06\u4e00\u884c\u91cc\u7684\u591a\u4e2a\u5bfc\u5165\u62c6\u5206\u6210\u6bcf\u884c\u4e00\u4e2a\u5bfc\u5165\uff1b\u59cb\u7ec8\u628a\u5bfc\u5165\u8bed\u53e5\u7f6e\u4e8e\u6b63\u5f0f\u4ee3\u7801\u4e4b\u524d\u7b49\u7b49\u3002\u901a\u8fc7\u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\uff0c\u8fd9\u4e2a\u5de5\u5177\u4e5f\u914d\u7f6e\u597d\u4e86\uff1a <pre><code>[tool.isort]\nprofile = \"black\"\n</code></pre> \u8fd9\u91cc\u7684\u914d\u7f6e\u662f\u9632\u6b62isort\u4e0eblack\u76f8\u51b2\u7a81\u3002\u5b9e\u9645\u4e0aflake8\u3001black\u548cisort\u90fd\u7684\u914d\u7f6e\u9700\u8981\u7cbe\u5fc3\u540c\u6b65\u624d\u80fd\u907f\u514d\u51b2\u7a81\u3002\u4e00\u65f6\u53d1\u751f\u51b2\u7a81\uff0c\u5c31\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u88abA\u5de5\u5177\u6539\u8fc7\u7684\u4ee3\u7801\uff0c\u53c8\u88abB\u5de5\u5177\u6539\u56de\u53bb\uff0c\u59cb\u7ec8\u65e0\u6cd5\u4f1a\u805a\u3002</p> <p>\u6bd4\u8f83\u9057\u61be\u7684\u662f\uff0c\u5728vscode\u4e0b\u6ca1\u6709\u4e00\u4e2a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u81ea\u52a8\u79fb\u9664\u6ca1\u6709\u4f7f\u7528\u7684\u5bfc\u5165\u3002Pycharm\u662f\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u3002\u5f00\u6e90\u7684\u5de5\u5177\u4e2d\u6709\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff0c\u4f46\u662f\u56e0\u4e3a\u5bb9\u6613\u51fa\u9519\uff0c\u8fd9\u91cc\u4e5f\u5c31\u4e0d\u63a8\u8350\u4e86\u3002</p> <p>\u5728vscode\u4e2d\uff0cLint\u5de5\u5177\u53ef\u4ee5\u68c0\u67e5\u51fa\u672a\u4f7f\u7528\u7684\u5bfc\u5165\uff0c\u7136\u540e\u60a8\u9700\u8981\u624b\u52a8\u79fb\u9664\u3002\u79fb\u9664\u672a\u4f7f\u7528\u7684<code>import</code>\u662f\u5fc5\u8981\u7684\uff0c\u5b83\u53ef\u4ee5\u9002\u5f53\u52a0\u5feb\u7a0b\u5e8f\u542f\u52a8\u901f\u5ea6\uff0c\u964d\u4f4e\u5185\u5b58\u5360\u7528\uff0c\u5e76\u4e14\u907f\u514d\u5bfc\u5165\u5e26\u6765\u7684\u526f\u4f5c\u7528\u3002</p> <p>Tips</p> <p>\u5bfc\u5165\u7b2c\u4e09\u65b9\u5e93\u53ef\u80fd\u662f\u5371\u9669\u7684\uff01\u4e00\u4e9b\u5e93\u4f1a\u5728\u5168\u5c40\u4f5c\u7528\u57df\u52a0\u5165\u4e00\u4e9b\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u56e0\u6b64\u5f53\u4f60\u5bfc\u5165\u8fd9\u4e9b\u5e93\u65f6\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5c31\u4f1a\u88ab\u6267\u884c\u3002</p>"},{"location":"chap06/#pre-commit-hooks","title":"pre-commit hooks","text":"<p>\u6211\u4eec\u628apre-commit hooks\u653e\u5728\u8fd9\u4e00\u7ae0\u91cc\u3002</p> <p>pre-commit\u662f\u4e00\u4e2apython\u5305\uff0c\u53ef\u4ee5\u901a\u8fc7pip\u5b89\u88c5\uff1a <pre><code>pip install pre-commit\n</code></pre> pre-commit\u5b89\u88c5\u540e\uff0c\u4f1a\u5728\u4f60\u7684\u9879\u76ee\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a.git/hooks\u76ee\u5f55\uff0c\u91cc\u9762\u6709\u4e00\u4e2apre-commit\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u662f\u4e00\u4e2ashell\u811a\u672c\uff0c\u5b83\u4f1a\u5728\u4f60\u6267\u884cgit commit\u547d\u4ee4\u65f6\u88ab\u8c03\u7528\u3002pre-commit hooks\u7684\u4f5c\u7528\u662f\u5728\u4f60\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\uff0c\u5bf9\u4ee3\u7801\u8fdb\u884c\u68c0\u67e5\uff0c\u5982\u679c\u6709\u9519\u8bef\uff0c\u5c31\u4f1a\u963b\u6b62\u4f60\u63d0\u4ea4\u4ee3\u7801\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ee3\u7801\u5e93\u4e0d\u88ab\u8fd9\u4e9b\u9519\u8bef\u7684\u3001\u4e0d\u5408\u89c4\u8303\u7684\u4ee3\u7801\u6c61\u67d3\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u5411\u5bfc\u751f\u6210\u9879\u76ee\u7684\u8bdd\uff0c\u5411\u5bfc\u5df2\u7ecf\u4e3a\u60a8\u5b89\u88c5\u4e86pre-commit hooks,\u5f53\u60a8\u8fd0\u884c<code>git commit</code>\u547d\u4ee4\u65f6\uff0c\u5c31\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u8f93\u51fa\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0cpre-commit hooks\u5bf9\u6362\u884c\u7b26\u8fdb\u884c\u4e86\u68c0\u67e5\u548c\u4fee\u590d\uff0c\u8c03\u7528black\u8fdb\u884c\u4e86\u683c\u5f0f\u5316\uff0c\u4ee5\u53ca\u8c03\u7528flake8\u8fdb\u884c\u4e86\u67e5\u9519\uff0c\u5e76\u62a5\u544a\u5bf9f-string\u7684\u9519\u8bef\u4f7f\u7528\u3002</p> <p>\u5f53\u51fa\u73b0\u9519\u8bef\u65f6\uff0c\u60a8\u5fc5\u987b\u8fdb\u884c\u4fee\u590d\u540e\uff0c\u624d\u80fd\u8fdb\u884c\u518d\u6b21\u63d0\u4ea4\u3002</p> <p>\u8fd9\u4e00\u7ae0\u7684\u4e3b\u9898\u662f\u9ad8\u6548\u7f16\u7801\u3002\u6211\u4eec\u5148\u662f\u4ecb\u7ecd\u4e86\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u5de5\u5177\uff0c\u7136\u540e\u8bb2\u8ff0\u4e86\u5982\u4f55\u5229\u7528\u8bed\u6cd5\u68c0\u67e5\u5de5\u5177\u5c3d\u65e9\u53d1\u73b0\u5e76\u4fee\u590d\u9519\u8bef\uff0c\u907f\u514d\u628a\u8fd9\u4e9b\u9519\u8bef\u5e26\u5165\u5230\u6d4b\u8bd5\u751a\u81f3\u751f\u4ea7\u73af\u5883\u4e2d\u3002\u5728\u6211\u4eec\u4ecb\u7ecd\u7684\u65b9\u6848\u4e2d\uff0c\u8bed\u6cd5\u68c0\u67e5\u662f\u968f\u7740\u60a8\u7684coding\u5b9e\u65f6\u5c55\u5f00\u7684\uff0c\u5e76\u5728\u5411\u4ee3\u7801\u5e93\u63d0\u4ea4\u65f6\uff0c\u5f3a\u5236\u6267\u884c\u4e00\u6b21\u68c0\u67e5\u3002\u540e\u9762\u60a8\u8fd8\u4f1a\u770b\u5230\uff0c\u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\uff0c\u8fd8\u4f1a\u518d\u505a\u4e00\u6b21\u68c0\u67e5\u3002</p>"},{"location":"chap06/#pre-commit-hooks\u7684\u914d\u7f6e","title":"pre-commit hooks\u7684\u914d\u7f6e","text":"<p>\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86\u8fd9\u4e9b\u914d\u7f6e\uff1a <pre><code>repos:\n-   repo: https://github.com/Lucas-C/pre-commit-hooks\nrev: v1.1.13\nhooks:\n-   id: forbid-crlf\n-   id: remove-crlf\n-   id: forbid-tabs\nexclude_types: [csv]\n-   id: remove-tabs\nexclude_types: [csv]\n-   repo: https://github.com/pre-commit/pre-commit-hooks\nrev: v4.1.0\nhooks:\n- id: trailing-whitespace\n- id: check-merge-conflict\n- id: check-yaml\nargs: [--unsafe]\n- id: end-of-file-fixer\n-   repo: https://github.com/pre-commit/mirrors-isort\nrev: v5.10.1\nhooks:\n- id: isort\n-   repo: https://github.com/ambv/black\nrev: 22.3.0\nhooks:\n- id: black\nlanguage_version: python3.8\n-   repo: https://gitlab.com/pycqa/flake8\nrev: 3.9.2\nhooks:\n-  id: flake8\nadditional_dependencies: [flake8-typing-imports==1.10.0]\nexclude: ^tests\n-   repo: local\nhooks:\n-   id: mypy\nname: mypy\nentry: mypy\nexclude: ^tests\nlanguage: python\ntypes: [python]\nrequire_serial: true\nverbose: true\n</code></pre> \u7b2c\u4e00\u7ec4\u662fpre-commit\u63d0\u4f9b\u7684\u5f00\u7bb1\u5373\u7528\u7684\u94a9\u5b50\u3002\u9996\u5148\uff0c\u5b83\u7981\u6b62\u4f7f\u7528windows\u7684\u6362\u884c\u7b26\uff0c\u5e76\u4e14\u5c06windows\u7684\u6362\u884c\u7b26\u90fd\u66ff\u6362\u4e3aunix/linux\u4e0b\u7684\u6362\u884c\u7b26\u3002\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662f\uff0c\u5982\u679c\u6587\u4ef6\u4f7f\u7528unix/linux\u4e0b\u7684\u6362\u884c\u7b26\uff0c\u8fd9\u4e9b\u6587\u4ef6\u57fa\u672c\u4e0a\u90fd\u80fd\u88abwindows\u4e0b\u7684\u7f16\u8f91\u8f6f\u4ef6\u6b63\u786e\u5904\u7406\uff1b\u53cd\u4e4b\u5219\u4e0d\u7136\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2abash\u6216\u8005perl\u811a\u672c\uff0c\u4f46\u4f7f\u7528\u4e86windows\u6362\u884c\u7b26\uff0c\u90a3\u4e48\uff0c\u5b83\u5c06\u4e0d\u80fd\u5728unix/linux\u4e0b\u8fd0\u884c\u3002</p> <p>\u5176\u6b21\uff0c\u5b83\u7981\u6b62\u5728\u6587\u4ef6\u4e2d\u4f7f\u7528tab\u952e\uff0c\u5e76\u4e14\u5c06tab\u952e\u66ff\u6362\u4e3a\u7a7a\u683c\u3002\u4ece\u8bed\u6cd5\u4e0a\u770b\uff0c\u53ea\u8981\u4e0d\u6df7\u5408\u4f7f\u7528tab\u952e\u548c\u7a7a\u683c\u952e\uff0c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u90fd\u662f\u53ef\u4ee5\u7684\u3002\u4f46\u662f\uff0c\u4e0d\u540c\u7684\u7f16\u8f91\u5668\uff08\u7279\u522b\u662funix/linux\u4e0b\uff09\u5728\u5bf9\u6587\u4ef6\u8fdb\u884c\u89c6\u89c9\u5448\u73b0\u65f6\uff0c\u4f1a\u5c06tab\u952e\u5c55\u5f00\u6210\u4e0d\u540c\u7684\u5bbd\u5ea6\uff0c\u8fd9\u4f7f\u5f97\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u5728\u4e0d\u540c\u7684\u7f16\u8f91\u5668\u91cc\uff0c\u770b\u4e0a\u53bb\u5e76\u4e0d\u4e00\u81f4\uff0c\u800c\u5982\u679c\u4f7f\u7528space\uff0c\u5219\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\u6b64\u5916\uff0c\u53ea\u4f7f\u7528\u7a7a\u683c\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u8d5a\u94b1\u66f4\u591a\uff1a\u6839\u636estackoverflow\u5bf92.8\u4e07\u540d\u4e13\u4e1a\u5f00\u53d1\u8005\uff08\u6392\u9664\u4e86\u5b66\u751f\uff09\u7684\u8c03\u67e5\uff0c\u4f7f\u7528\u7a7a\u683c\u7684\u5f00\u53d1\u8005\u7684\u85aa\u8d44\u603b\u4f53\u4e0a\u8981\u6bd4\u4f7f\u7528Tab\u952e\u7684\u5f00\u53d1\u90fd\u9ad88.6%\u3002\u8fd9\u9879\u62a5\u544a\u53d1\u8868\u5728stackoverflow\u76842017\u5e746\u67085\u65e5\u7684\u535a\u5ba2\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u975e\u6240\u6709\u7684\u6587\u4ef6\u4e2d\u7684tab\u952e\u88ab\u9700\u8981\u88ab\u66ff\u6362\u3002\u5178\u578b\u7684\u4f8b\u5b50\u662f\u5728csv\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f7f\u7528Tab\u952e\u4f5c\u4e3a\u5b57\u6bb5\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff0c\u56e0\u6b64\u5b83\u4eec\u5fc5\u987b\u88ab\u4fdd\u7559\u3002\u56e0\u6b64\u5728\u4e0a\u8ff0\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u5c06csv\u6587\u4ef6\u6392\u9664\u5728\u5916\u3002</p> <p>\u7b2c\u4e8c\u7ec4\u4ecd\u7136\u662fpre-commit\u63d0\u4f9b\u7684\u5f00\u7bb1\u5373\u7528\u7684\u94a9\u5b50\u3002\u5b83\u9996\u5148\u79fb\u9664\u4e86\u884c\u5c3e\u7684\u591a\u4f59\u7684\u7a7a\u683c\u3002\u5173\u4e8e\u4e3a\u4ec0\u4e48\u8981\u79fb\u9664\u884c\u5c3e\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u5728PEP8\u4e2d\u6709\u7b80\u8981\u5730\u8bf4\u660e\u3002\u7136\u540e\u5b83\u68c0\u67e5\u662f\u5426\u5b58\u5728\u672a\u5b8c\u6210\u5408\u5e76\u7684\u4ee3\u7801\u6587\u4ef6\uff0c\u68c0\u67e5yaml\u6587\u4ef6\u662f\u5426\u5408\u4e4e\u89c4\u8303\u3002</p> <p>\u6ce8\u610f\u5230\u8fd9\u91cc\u6709\u4e00\u4e2aend-of-file-fixer\u94a9\u5b50\uff0c\u8fd9\u4e2a\u94a9\u5b50\u7684\u4f5c\u7528\u662f\uff0c\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u4ec5\u542b\u6362\u884c\u7b26\u7684\u7a7a\u884c\u3002\u76f8\u4fe1\u5f88\u5c11\u6709\u4eba\u771f\u6b63\u7406\u89e3\u5b83\u7684\u542b\u4e49\u3002\u5b9e\u9645\u4e0a\uff0c\u76f8\u5173\u7684\u95ee\u9898\u5728quora\u548cstackoverflow\u4e0a\u6709\u5f88\u591a\u63d0\u95ee\uff0c\u7b54\u6848\u4e5f\u83ab\u8877\u4e00\u662f\u3002</p> <p>\u5176\u4e2d\u4e00\u4e2a\u8bf4\u6cd5\u662f\uff0cPOSIX\u6807\u51c6\u4e2d\uff0c\u5bf9\u4e00\u884c\u6587\u672c\u7684\u5b9a\u4e49\u5c31\u662f\u96f6\u4e2a\u6216\u591a\u4e2a\u975e\u6362\u884c\u7b26\u52a0\u4e0a\u7ec8\u6b62\u6362\u884c\u7b26\u7684\u5e8f\u5217\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4e00\u884c\u6587\u672c\u4e0d\u4ee5\u6362\u884c\u7b26\u7ed3\u5c3e\uff0c\u5b83\u5c31\u53ef\u80fd\u88ab\u5404\u79cd\u5de5\u5177\u5f53\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u7ed9\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u884c\u3002</p> <p>\u4f5c\u8005\u66f4\u503e\u5411\u4e8e\u8fd9\u79cd\u89c2\u70b9\uff1a\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u7167\u987e\u4f7f\u7528Unix\u548cLinux\u7684\u4eba\u3002\u5982\u679c\u4f60\u7528vi\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u60f3\u5728\u540e\u9762\u6dfb\u52a0\u4e00\u4e9b\u65b0\u7684\u5185\u5bb9\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4ee5\u4e00\u4e2a\u7a7a\u884c\u7ed3\u5c3e\uff0c\u90a3\u4e48Ctrl+G\u5c31\u53ef\u4ee5\u76f4\u63a5\u8df3\u8f6c\u5230\u6587\u4ef6\u7ed3\u5c3e\uff0c\u7acb\u5373\u5f00\u59cb\u5de5\u4f5c\u3002\u53cd\u4e4b\uff0cCtrl+G\u53ea\u80fd\u8df3\u5230\u6700\u540e\u4e00\u884c\u7684\u5f00\u5934\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u539f\u56e0\u662f\uff0c\u5982\u679c\u4f60\u60f3\u4f7f\u7528cat\u62fc\u63a5\u51e0\u4e2a\u6587\u4ef6\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u90fd\u4e0d\u662f\u4ee5\u7a7a\u884c\uff08\u5e26\u6362\u884c\u7b26\uff09\u7ed3\u5c3e\uff0c\u90a3\u4e48\u524d\u4e00\u4e2a\u6587\u4ef6\u7684\u6700\u540e\u4e00\u884c\u5c06\u4f1a\u4e0e\u540e\u4e00\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u6df7\u5408\u5728\u4e00\u8d77\uff0c\u800c\u4e0d\u662f\u8c61\u671f\u5f85\u7684\u90a3\u6837\uff0c\u5404\u5360\u4e00\u884c\u3002</p> <p>\u5728\u6587\u4ef6\u5c3e\u52a0\u4e0a\u4e00\u4e2a\u7a7a\u884c\u5e76\u4e0d\u662f\u4ec0\u4e48\u91cd\u8981\u7684\u529f\u80fd\uff0c\u53ea\u662funix/linux\u751f\u6001\u5708\u91cc\u51e0\u4e4e\u6240\u6709\u7684\u5de5\u5177\u90fd\u662f\u8fd9\u4e48\u8fd0\u4f5c\u7684\u3002\u6211\u4eec\u5c0a\u91cd\u8fd9\u4e2a\u4e60\u60ef\u5c31\u597d\u3002</p> <p>\u63a5\u4e0b\u6765\u90fd\u662f\u5728pre-commit\u4e2d\u8c03\u7528\u7b2c\u4e09\u65b9\u5de5\u5177\u5b9e\u73b0\u76f8\u5173\u529f\u80fd\u7684\u914d\u7f6e\u3002\u6211\u4eec\u914d\u7f6e\u4e86isort\uff0cblack\uff0c flake8\u548cmypy\u3002</p> <p>mypy\u7684\u914d\u7f6e\u6709\u70b9\u4e0e\u4f17\u4e0d\u540c\u3002\u5b83\u6ca1\u6709\u4f7f\u7528\u8fdc\u7a0b\u7684repo\uff0c\u800c\u662f\u4f7f\u7528\u4e86local\u3002mypy\u5b98\u65b9\u5e76\u6ca1\u6709\u63d0\u4f9b\u4e0epre-commit\u7684\u96c6\u6210\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u4e86\u76f4\u63a5\u5728pre-commit\u4e2d\u8c03\u7528\u672c\u5730mypy\u547d\u4ee4\u7684\u65b9\u6cd5\u3002</p>"},{"location":"chap07/","title":"\u7b2c\u4e03\u7ae0 \u4ee3\u7801\u5355\u5143\u6d4b\u8bd5","text":""},{"location":"chap07/#\u4ee3\u7801\u5355\u5143\u6d4b\u8bd5\u57fa\u4e8eunittestpytestpycoverage\u548ctox","title":"\u4ee3\u7801\u5355\u5143\u6d4b\u8bd5\u2014\u2014\u57fa\u4e8eUnittest\u3001Pytest\u3001Pycoverage\u548cTox","text":""},{"location":"chap07/#\u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7\u7ed3\u6784","title":"\u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7\u7ed3\u6784","text":""},{"location":"chap07/#unittest\u6846\u67b6","title":"Unittest\u6846\u67b6","text":""},{"location":"chap07/#\u6d4b\u8bd5\u6587\u4ef6\u7684\u57fa\u672c\u7ed3\u6784","title":"\u6d4b\u8bd5\u6587\u4ef6\u7684\u57fa\u672c\u7ed3\u6784","text":""},{"location":"chap07/#\u5982\u4f55\u4f7f\u7528mock\u5185\u542b\u6848\u4f8b","title":"\u5982\u4f55\u4f7f\u7528Mock\uff08\u5185\u542b\u6848\u4f8b\uff09","text":""},{"location":"chap07/#\u4f7f\u7528\u65ad\u8a00\u5185\u542b\u6848\u4f8b","title":"\u4f7f\u7528\u65ad\u8a00\uff08\u5185\u542b\u6848\u4f8b\uff09","text":""},{"location":"chap07/#pytest\u6d4b\u8bd5\u5e93","title":"Pytest\u6d4b\u8bd5\u5e93","text":""},{"location":"chap07/#\u5355\u5143\u6d4b\u8bd5","title":"\u5355\u5143\u6d4b\u8bd5","text":"<p>\u5355\u5143\u6d4b\u8bd5\u7684\u6982\u5ff5\u53ef\u80fd\u591a\u6570\u8bfb\u8005\u90fd\u6709\u63a5\u89e6\u8fc7\u3002\u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6846\u67b6\u5219\u7528\u6765\u53d1\u73b0\u548c\u7ec4\u88c5\u6d4b\u8bd5suite\uff0c\u6536\u96c6\u6d4b\u8bd5\u62a5\u544a\uff0c\u5e76\u4e14\u63d0\u4f9b\u6d4b\u8bd5\u57fa\u7840\u8bbe\u65bd\uff08\u65ad\u8a00\u3001mock\u3001setup\u548cteardown\u7b49\uff09\u3002Python\u5f53\u4e2d\u6700\u4e3b\u6d41\u7684\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u6709\u4e09\u79cd\uff0cPytest, nose\u548cUnittest\uff0c\u5176\u4e2dUnittest\u662f\u6807\u51c6\u5e93\uff0c\u5176\u5b83\u4e24\u79cd\u662f\u7b2c\u4e09\u65b9\u5de5\u5177\u3002\u5728\u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5c31\u4f7f\u7528\u4e86Pytest\u6765\u9a71\u52a8\u6d4b\u8bd5\u3002</p> <p>\u8fd9\u91cc\u4e3b\u8981\u6bd4\u8f83\u4e00\u4e0bpytest\u548cunittest\u3002\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f53\u6211\u4eec\u9009\u62e9\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u65f6\uff0c\u9009\u62e9\u4e8c\u8005\u4e4b\u4e00\u5c31\u597d\u4e86\u3002unitttest\u57fa\u4e8e\u7c7b\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\uff0c\u800cpytest\u5219\u662f\u51fd\u6570\u5f0f\u7684\uff0c\u57fa\u4e8e\u6a21\u5757\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\uff0c\u540c\u65f6\u5b83\u4e5f\u63d0\u4f9b\u4e86group\u6982\u5ff5\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\u3002pytest\u7684mock\u662f\u57fa\u4e8e\u7b2c\u4e09\u65b9\u7684pytest-mock\uff0c\u800cpytest-mock\u5b9e\u9645\u4e0a\u53ea\u662f\u5bf9\u6807\u51c6\u5e93\u4e2d\u7684mock\u7684\u7b80\u5355\u5c01\u88c5\u3002\u5355\u5143\u6d4b\u8bd5\u90fd\u4f1a\u6709setup\u548cteardown\u7684\u6982\u5ff5\uff0cunittest\u76f4\u63a5\u4f7f\u7528\u4e86setUp\u548ctearDown\u4f5c\u4e3a\u6d4b\u8bd5\u5165\u53e3\u548c\u7ed3\u675f\u7684API\uff0c\u5728pytest\u4e2d\uff0c\u5219\u662f\u901a\u8fc7fixture\u6765\u5b9e\u73b0\uff0c\u8fd9\u65b9\u9762\u5b66\u4e60\u66f2\u7ebf\u53ef\u80fd\u7a0d\u5fae\u9661\u5ced\u4e00\u70b9\u3002\u5728\u65ad\u8a00\u65b9\u9762\uff0cpytest\u4f7f\u7528python\u7684\u5173\u952e\u5b57assert\u8fdb\u884c\u65ad\u8a00\uff0c\u6bd4unittest\u66f4\u4e3a\u7b80\u6d01\uff0c\u4e0d\u8fc7\u65ad\u8a00\u7c7b\u578b\u4e0a\u6ca1\u6709unittest\u4e30\u5bcc\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u533a\u522b\u662f\uff0cunittest\u4ecepython 3.8\u8d77\u5c31\u5185\u5728\u5730\u652f\u6301asyncio\uff0c\u800c\u5728pytest\u4e2d\uff0c\u5219\u9700\u8981\u63d2\u4ef6pytest-asyncio\u6765\u652f\u6301\u3002\u4f46\u4e24\u8005\u5728\u6d4b\u8bd5\u7684\u517c\u5bb9\u6027\u4e0a\u5e76\u6ca1\u6709\u5927\u7684\u4e0d\u540c\u3002</p> <p>pytest\u7684\u4e3b\u8981\u4f18\u52bf\u662f\u6709\uff1a 1. pytest\u7684\u6d4b\u8bd5\u7528\u4f8b\u66f4\u7b80\u6d01\u3002\u7531\u4e8e\u6d4b\u8bd5\u7528\u4f8b\u5e76\u4e0d\u662f\u6b63\u5f0f\u4ee3\u7801\uff0c\u5f00\u53d1\u8005\u5f53\u7136\u5e0c\u671b\u5c11\u82b1\u65f6\u95f4\u5728\u8fd9\u4e9b\u4ee3\u7801\u4e0a\uff0c\u56e0\u6b64\u4ee3\u7801\u7684\u7b80\u6d01\u7a0b\u5ea6\u5f88\u91cd\u8981\u3002 2. \u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5982\u679c\u6211\u4eec\u4ec5\u4f7f\u7528unittest\uff0c\u5219\u6267\u884c\u5355\u5143\u6d4b\u8bd5\u5fc5\u987b\u8981\u4f7f\u7528<code>python -m unittest</code>\u6765\u6267\u884c\uff1b\u800c\u901a\u8fc7pytest\u6765\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8c03\u7528<code>pytest .</code>\u5373\u53ef\u3002 3. pytest\u63d0\u4f9b\u4e86marker\uff0c\u53ef\u4ee5\u66f4\u65b9\u4fbf\u6765\u51b3\u5b9a\u54ea\u4e9b\u7528\u4f8b\u6267\u884c\u6216\u8005\u4e0d\u6267\u884c\u3002 4. pytest\u63d0\u4f9b\u4e86\u53c2\u6570\u5316\u6d4b\u8bd5\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u7b80\u8981\u5730\u4e3e\u4f8b\u8bf4\u660e\u4e00\u4e0b\u4ec0\u4e48\u662f\u53c2\u6570\u5316\u6d4b\u8bd5\uff0c\u4ee5\u4fbf\u8bfb\u8005\u7406\u89e3\u4e3a\u4ec0\u4e48\u53c2\u6570\u5316\u6d4b\u8bd5\u662f\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u4f18\u70b9\u3002 ```python {class='line-numbers'} import pytest from datetime import datetime from src.example import get_time_of_day</p> <p>@pytest.mark.parametrize(     \"datetime_obj, expect\",     [         (datetime(2016, 5, 20, 0, 0, 0), \"Night\"),         (datetime(2016, 5, 20, 1, 10, 0), \"Night\"),         (datetime(2016, 5, 20, 6, 10, 0), \"Morning\"),         (datetime(2016, 5, 20, 12, 0, 0), \"Afternoon\"),         (datetime(2016, 5, 20, 14, 10, 0), \"Afternoon\"),         (datetime(2016, 5, 20, 18, 0, 0), \"Evening\"),         (datetime(2016, 5, 20, 19, 10, 0), \"Evening\"),     ], ) def test_get_time_of_day(datetime_obj, expect, mocker):     mock_now = mocker.patch(\"src.example.datetime\")     mock_now.now.return_value = datetime_obj</p> <pre><code>assert get_time_of_day() == expect\u200b\n</code></pre> <p>``` \u5982\u679c\u4f7f\u7528unittest\uff0c\u6211\u4eec\u9700\u8981\u5199\u4e00\u4e2a\u5faa\u73af\uff0c\u4f9d\u6b21\u8c03\u7528get_time_of_day()\uff0c\u7136\u540e\u5bf9\u6bd4\u7ed3\u679c\u3002\u4ee3\u7801\u91cf\u8981\u591a\u51fa\u4e0d\u5c11\u3002  \u57fa\u4e8e\u4ee5\u4e0a\u539f\u56e0\uff0c\u5728\u540e\u9762\u7684\u5185\u5bb9\u4e2d\uff0c\u6211\u4eec\u5c06\u4ee5pytest\u4e3a\u4f8b\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"chap07/#\u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7","title":"\u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7","text":"<p>\u6211\u4eec\u4e00\u822c\u5c06\u6240\u6709\u7684\u6d4b\u8bd5\u4ee3\u7801\u90fd\u5f52\u7c7b\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684tests\u6587\u4ef6\u5939\u4e2d\u3002\u6bcf\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u7684\u540d\u5b57\uff0c\u8981\u4e48\u4f7f\u7528test_.py\uff0c\u8981\u4e48\u4f7f\u7528test.py\u3002\u8fd9\u662f\u6d4b\u8bd5\u6846\u67b6\u7684\u8981\u6c42\u3002\u5982\u6b64\u4ee5\u6765\uff0c\u5f53\u6211\u4eec\u6267\u884c\u547d\u4ee4\u5982<code>pytest tests</code>\u65f6\uff0c\u6d4b\u8bd5\u6846\u67b6\u5c31\u80fd\u4ece\u8fd9\u4e9b\u6587\u4ef6\u4e2d\u53d1\u73b0\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5e76\u7ec4\u5408\u6210\u4e00\u4e2a\u4e2a\u5f85\u6267\u884c\u7684suite\u3002  \u5728test*.py\u4e2d\uff0c\u51fd\u6570\u540d\u4e00\u6837\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u6a21\u5f0f\uff0c\u6bd4\u5982\u4f7f\u7528test_xxx\u3002\u4e0d\u9075\u5faa\u89c4\u5219\u7684\u6d4b\u8bd5\u51fd\u6570\uff0c\u4e0d\u4f1a\u88ab\u6267\u884c\u3002  \u4e00\u822c\u6765\u8bf4\uff0c\u6d4b\u8bd5\u6587\u4ef6\u5e94\u8be5\u4e0e\u529f\u80fd\u6a21\u5757\u6587\u4ef6\u4e00\u4e00\u5bf9\u5e94\u3002\u5982\u679c\u88ab\u6d4b\u4ee3\u7801\u6709\u591a\u91cd\u6587\u4ef6\u5939\uff0c\u5bf9\u5e94\u7684\u6d4b\u8bd5\u4ee3\u7801\u4e5f\u5e94\u8be5\u6309\u540c\u6837\u7684\u76ee\u5f55\u6765\u7ec4\u7ec7\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u65b9\u4fbf\u67e5\u627e\u5bf9\u5e94\u7684\u6d4b\u8bd5\u4ee3\u7801\uff0c\u65b9\u4fbf\u6211\u4eec\u6dfb\u52a0\u65b0\u7684\u6d4b\u8bd5\u7528\u4f8b\u3002  \u6bd4\u5982\u5728ppw\u751f\u6210\u7684\u793a\u4f8b\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u6709\uff1a <code>sample \u251c\u2500\u2500 sample \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py \u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py \u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py \u251c\u2500\u2500 tests \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py \u2502\u00a0\u00a0 \u251c\u2500\u2500 test_app.py \u2502\u00a0\u00a0 \u2514\u2500\u2500 test_cli.py</code> \u6ce8\u610f\u8fd9\u91cc\u9762\u7684__init__.py\uff0c\u5982\u679c\u7f3a\u5c11\u7684\u8bdd\uff0ctests\u5c31\u4e0d\u4f1a\u6210\u4e3a\u4e00\u4e2a\u5408\u6cd5\u7684\u5305\uff0c\u4ece\u800c\u5bfc\u81f4pytest\u65e0\u6cd5\u6b63\u786e\u5bfc\u5165\u6d4b\u8bd5\u7528\u4f8b\u3002</p>"},{"location":"chap07/#pytest","title":"Pytest","text":"<p>\u4f7f\u7528pytest\u5199\u6d4b\u8bd5\u7528\u4f8b\u5f88\u7b80\u5355\u3002\u5047\u8bbesample\\app.py\u5982\u4e0b\u6240\u793a\uff1a <code>def inc(x:int)-&gt;int:     return x + 1</code> \u5219\u6211\u4eec\u7684test_app.py\u53ea\u9700\u8981\u6709\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef\u5b8c\u6210\u6d4b\u8bd5\uff1a ``` import pytest from sample.app import inc</p> <p>def test_inc():     assert inc(3) == 4 <pre><code>\u8fd9\u6bd4unittest\u4e0b\u7684\u4ee3\u7801\u8981\u7b80\u6d01\u5f88\u591a\u3002\n\n### \u6d4b\u8bd5\u7528\u4f8b\u7684\u7ec4\u88c5\n\u5728pytest\u4e2d\uff0cpytest\u4f1a\u6309\u4f20\u5165\u7684\u6587\u4ef6\uff08\u6216\u8005\u6587\u4ef6\u5939\uff09\uff0c\u641c\u7d22\u5176\u4e2d\u7684\u6d4b\u8bd5\u7528\u4f8b\u5e76\u7ec4\u88c5\u6210\u6d4b\u8bd5\u96c6\u5408(suite)\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u80fd\u901a\u8fc7pytest.mark\u6765\u6807\u8bb0\u54ea\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u662f\u9700\u8981\u6267\u884c\u7684\uff0c\u54ea\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u662f\u9700\u8981\u8df3\u8fc7\u7684\u3002\n\n```python {class='line-numbers'}\nimport pytest\n\n@pytest.mark.webtest\ndef test_send_http():\n    pass  # perform some webtest test for your app\n\n\ndef test_something_quick():\n    pass\n\n\ndef test_another():\n    pass\n\n\nclass TestClass:\n    def test_method(self):\n        pass\n</code></pre></p> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u9009\u62e9\u53ea\u6267\u884c\u6807\u8bb0\u4e3awebtest\u7684\u6d4b\u8bd5\u7528\u4f8b\uff1a ```bash {class='line-numbers'} pytest -v -m webtest</p> <p>=========================== test session starts ============================ platform linux -- Python 3.x.y, pytest-7.x.y, pluggy-1.x.y -- $PYTHON_PREFIX/bin/python cachedir: .pytest_cache rootdir: /home/sweet/project collecting ... collected 4 items / 3 deselected / 1 selected</p> <p>test_server.py::test_send_http PASSED                                [100%]</p> <p>===================== 1 passed, 3 deselected in 0.12s ====================== <pre><code>\u4ece\u8f93\u51fa\u53ef\u4ee5\u770b\u51fa\uff0c\u53ea\u6709test_send_http\u88ab\u6267\u884c\u4e86\u3002\n\n\u8fd9\u91cc\u7684webtest\u662f\u81ea\u5b9a\u4e49\u7684\u6807\u8bb0\u3002pytest\u8fd8\u5185\u7f6e\u4e86\u8fd9\u4e9b\u6807\u8bb0\uff0c\u6709\u7684\u4e5f\u53ef\u4ee5\u7528\u6765\u7b5b\u9009\u7528\u4f8b\uff1a\n1. pytest.mark.filterwarnings\uff0c \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0filterwarnings\u6807\u8bb0\uff0c\u53ef\u4ee5\u5ffd\u7565\u8b66\u544a\u4fe1\u606f\u3002\n2. pytest.mark.skip\uff0c\u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0skip\u6807\u8bb0\uff0c\u53ef\u4ee5\u8df3\u8fc7\u6d4b\u8bd5\u7528\u4f8b\u3002\n3. pytest.mark.skipif, \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0skipif\u6807\u8bb0\uff0c\u53ef\u4ee5\u6839\u636e\u6761\u4ef6\u8df3\u8fc7\u6d4b\u8bd5\u7528\u4f8b\u3002\n4. pytest.mark.xfail, \u5728\u67d0\u4e9b\u6761\u4ef6\u4e0b\uff08\u6bd4\u5982\u8fd0\u884c\u5728\u67d0\u4e2aos\u4e0a\uff09\uff0c\u7528\u4f8b\u672c\u5e94\u8be5\u5931\u8d25\uff0c\u6b64\u65f6\u5c31\u5e94\u4f7f\u7528\u6b64\u6807\u8bb0\uff0c\u4ee5\u4fbf\u5728\u6d4b\u8bd5\u62a5\u544a\u4e2d\u6807\u8bb0\u51fa\u6765\u3002\n5. pytest.mark.parametrize, \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0\u53c2\u6570\u5316\u6807\u8bb0\uff0c\u53ef\u4ee5\u6839\u636e\u53c2\u6570\u5316\u7684\u53c2\u6570\u6267\u884c\u591a\u6b21\u6d4b\u8bd5\u7528\u4f8b\u3002\n\n\u8fd9\u4e9b\u6807\u8bb0\u53ef\u4ee5\u7528pytest --markers\u547d\u4ee4\u67e5\u770b\u3002\n### pytest \u65ad\u8a00\npytest\u4e2d\u7684\u65ad\u8a00\u5de7\u5999\u5730\u62e6\u622a\u5e76\u590d\u7528\u4e86python\u5185\u7f6e\u7684\u51fd\u6570assert\uff0c\u4ece\u800c\u5728\u8fd9\u4e00\u90e8\u5206\u7684\u5b66\u4e60\u6210\u672c\u53d8\u5f97\u975e\u5e38\u4f4e\u3002\n\n```python {class='line-numbers'}\ndef test_assertion():\n    # \u5224\u65ad\u57fa\u672c\u53d8\u91cf\u76f8\u7b49\n    assert \"loud noises\".upper() == \"LOUD NOISES\"\n\n    # \u5224\u65ad\u5217\u8868\u76f8\u7b49\n    assert [1, 2, 3] == list((1, 2, 3))\n\n    # \u5224\u65ad\u96c6\u5408\u76f8\u7b49\n    assert set([1, 2, 3]) == {1, 3, 2}\n\n    # \u5224\u65ad\u5b57\u5178\u76f8\u7b49\n    assert dict({\n        \"one\": 1,\n        \"two\": 2\n    }) == {\n        \"one\": 1,\n        \"two\": 2\n    }\n\n    # \u5224\u65ad\u6d6e\u70b9\u6570\u76f8\u7b49\n    # \u7f3a\u7701\u5730\uff0c origin  \u00b1 1e-06\n    assert 2.2 == pytest.approx(2.2 + 1e-6)\n    assert 2.2 == pytest.approx(2.3, 0.1)\n\n    # \u5982\u679c\u8981\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u7ec4\u662f\u5426\u76f8\u7b49\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9numpy.testing\n    import numpy\n\n    arr1 = numpy.array([1., 2., 3.])\n    arr2 = arr1 + 1e-6\n    numpy.testing.assert_array_almost_equal(arr1, arr2)\n\n    # \u5f02\u5e38\u65ad\u8a00\uff1a\u6709\u4e9b\u7528\u4f8b\u8981\u6c42\u80fd\u629b\u51fa\u5f02\u5e38\n    with pytest.raises(ValueError) as e:\n        raise ValueError(\"some error\")\n\n    msg = e.value.args[0]\n    assert msg == \"some error\"\n</code></pre> \u4e0a\u9762\u7684\u4ee3\u7801\u5206\u522b\u6f14\u793a\u4e86\u5982\u4f55\u5224\u65ad\u5185\u7f6e\u7c7b\u578b\u3001\u5217\u8868\u3001\u96c6\u5408\u3001\u5b57\u5178\u3001\u6d6e\u70b9\u6570\u548c\u6d6e\u70b9\u6570\u7ec4\u662f\u5426\u76f8\u7b49\u3002\u8fd9\u90e8\u5206\u8bed\u6cd5\u8ddf\u6807\u51c6python\u8bed\u6cd5\u5e76\u65e0\u4e8c\u81f4\u3002pytest\u4e0eunittest\u4e00\u6837\uff0c\u90fd\u6ca1\u6709\u63d0\u4f9b\u5982\u4f55\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u6570\u7ec4\u662f\u5426\u76f8\u7b49\u7684\u65ad\u8a00\uff0c\u5982\u679c\u6709\u8fd9\u4e2a\u9700\u6c42\uff0c\u6211\u4eec\u53ef\u4ee5\u6c42\u52a9\u4e8enumpy.testing\uff0c\u6b63\u5982\u4f8b\u5b50\u4e2d\u7b2c25~30\u884c\u6240\u793a\u3002</p> <p>\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u6d4b\u8bd5\u9519\u8bef\u5904\u7406\uff0c\u770b\u51fd\u6570\u662f\u5426\u6b63\u786e\u5730\u629b\u51fa\u4e86\u5f02\u5e38\uff0c\u4ee3\u780132~37\u6f14\u793a\u4e86\u5f02\u5e38\u65ad\u8a00\u7684\u4f7f\u7528\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u4e0d\u5e94\u8be5\u8fd9\u4e48\u5199\uff1a ```python {class='line-numbers'}     try:         # call some_func will raise ValueError     except ValueError as e:         assert str(e) == \"some error\":     else:         assert False <pre><code>\u4e0a\u8ff0\u4ee3\u7801\u770b\u4e0a\u53bb\u903b\u8f91\u6b63\u786e\uff0c\u4f46\u5b83\u6df7\u6dc6\u4e86\u5f02\u5e38\u5904\u7406\u548c\u65ad\u8a00\uff0c\u4f7f\u5f97\u4ed6\u4eba\u4e00\u65f6\u96be\u4ee5\u5206\u6e05\u8fd9\u6bb5\u4ee3\u7801\u7a76\u7adf\u662f\u5728\u5904\u7406\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u7684\u5f02\u5e38\u5462\uff0c\u8fd8\u662f\u5728\u6d4b\u8bd5\u88ab\u8c03\u7528\u51fd\u6570\u80fd\u5426\u6b63\u786e\u629b\u51fa\u5f02\u5e38\uff0c\u660e\u663e\u4e0d\u5982\u5f02\u5e38\u65ad\u8a00\u90a3\u6837\u6e05\u6670\u3002\n### pytest fixture\n\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u7684\u6d4b\u8bd5\u7528\u4f8b\u5f88\u53ef\u80fd\u9700\u8981\u4f9d\u8d56\u4e8e\u4e00\u4e9b\u5916\u90e8\u8d44\u6e90\uff0c\u6bd4\u5982\u6570\u636e\u5e93\u3001\u7f13\u5b58\u3001\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u7b49\u3002\u8fd9\u4e9b\u5916\u90e8\u8d44\u6e90\u7684\u521d\u59cb\u5316\u548c\u9500\u6bc1\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u5728\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u524d\u540e\u81ea\u52a8\u5b8c\u6210\uff0c\u5373\u81ea\u52a8\u5b8c\u6210setup\u548cteardown\u7684\u64cd\u4f5c\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230pytest\u7684fixture\u3002\n\n!!! Info\n    \u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u662f\u5426\u9700\u8981\u4f7f\u7528\u5916\u90e8\u8d44\u6e90\u662f\u4e00\u4e2a\u89c1\u4ec1\u89c1\u667a\u7684\u95ee\u9898\u3002\u6709\u7684\u770b\u6cd5\u8ba4\u4e3a\uff0c\u4e00\u65e6\u5f15\u5165\u5916\u90e8\u8d44\u6e90\uff0c\u6d4b\u8bd5\u7528\u4f8b\u5c31\u4e0d\u518d\u662f\u5355\u5143\u6d4b\u8bd5\uff0c\u800c\u662f\u96c6\u6210\u6d4b\u8bd5\u3002\u65f6\u4ee3\u603b\u5728\u53d1\u5c55\uff0c\u7279\u522b\u662f\u8fdb\u5165\u5bb9\u5668\u5316\u65f6\u4ee3\u540e\uff0c\u5728\u6d4b\u8bd5\u4e2d\u5feb\u901f\u521b\u5efa\u4e00\u4e2a\u4e13\u5c5e\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u53d8\u5f97\u5341\u5206\u5feb\u6377\u548c\u5bb9\u6613\uff0c\u8fd9\u53ef\u80fd\u8981\u6bd4\u6211\u4eec\u901a\u8fc7\u5927\u91cf\u7684mock\u6765\u8fdb\u884c\u5916\u90e8\u8d44\u6e90\u9694\u79bb\u66f4\u5bb9\u6613\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u4e8e\u62d8\u6ce5\u4e8e\u8fd9\u4e9b\u770b\u6cd5\u3002\n\n\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5b83\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u4ee3\u7801\u5982\u4e0b(\u53c2\u89c1code/chap07/sample/app.py)\n\n```python {class='line-numbers'}\nimport asyncpg\nimport datetime\n\nasync def add_user(conn: asyncpg.Connection, name: str, date_of_birth: datetime.date)-&gt;int:\n    # Insert a record into the created table.\n    await conn.execute('''\n        INSERT INTO users(name, dob) VALUES($1, $2)\n    ''', name, date_of_birth)\n\n    # Select a row from the table.\n    row: asyncpg.Record = await conn.fetchrow(\n        'SELECT * FROM users WHERE name = $1', 'Bob')\n    # *row* now contains\n    # asyncpg.Record(id=1, name='Bob', dob=datetime.date(1984, 3, 1))\n    return row[\"id\"]\n</code></pre> \u6211\u4eec\u5c55\u793a\u6d4b\u8bd5\u4ee3\u7801(\u53c2\u89c1code/chap07/sample/test_app.py)\uff0c\u518d\u7ed3\u5408\u4ee3\u7801\u8bb2\u89e3fixture\u7684\u4f7f\u7528\uff1a</p> <p>```python {class='line-numbers'} import pytest from sample.app import add_user import pytest_asyncio import asyncio</p>"},{"location":"chap07/#pytest-asyncio\u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2aevent_loop\u7684fixture\u4f46\u5b83\u662ffunction\u7ea7\u522b\u7684","title":"pytest-asyncio\u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2aevent_loop\u7684fixture,\u4f46\u5b83\u662ffunction\u7ea7\u522b\u7684","text":""},{"location":"chap07/#\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u4e00\u4e2asession\u7ea7\u522b\u7684fixture\u6240\u4ee5\u6211\u4eec\u9700\u8981\u81ea\u5df1\u5b9e\u73b0","title":"\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u4e00\u4e2asession\u7ea7\u522b\u7684fixture\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u81ea\u5df1\u5b9e\u73b0","text":"<p>@pytest.fixture(scope=\"session\") def event_loop():     policy = asyncio.get_event_loop_policy()     loop = policy.new_event_loop()     yield loop     loop.close()</p> <p>@pytest_asyncio.fixture(scope='session') async def db():     import asyncpg     conn = await asyncpg.connect('postgresql://zillionare:123456@localhost/bpp')     yield conn</p> <pre><code>await conn.close()\n</code></pre> <p>@pytest.mark.asyncio async def test_add_user(db):     import datetime     user_id = await add_user(db, 'Bob', datetime.date(2022, 1, 1))     assert user_id == 1 <pre><code>\u6211\u4eec\u7684\u529f\u80fd\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5f80users\u8868\u91cc\u63d2\u5165\u4e00\u6761\u8bb0\u5f55\uff0c\u5e76\u8fd4\u56de\u5b83\u5728\u8868\u4e2d\u7684id\u3002\u6d4b\u8bd5\u4ee3\u7801\u8c03\u7528add_user\u8fd9\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u68c0\u6d4b\u8fd4\u56de\u503c\u662f\u5426\u4e3a1\uff08\u5982\u679c\u6bcf\u6b21\u6d4b\u8bd5\u524d\u90fd\u65b0\u5efa\u6570\u636e\u5e93\u6216\u8005\u6e05\u7a7a\u8868\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd4\u56de\u7684ID\u5c31\u5e94\u8be5\u662f1\uff09\u3002\n\n\u8fd9\u4e2a\u6d4b\u8bd5\u663e\u7136\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u6d4b\u8bd5\u524d\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u7ed3\u675f\u540e\u5173\u95ed\u8fde\u63a5\u3002\u5e76\u4e14\uff0c\u6211\u4eec\u8fd8\u4f1a\u6709\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u6570\u636e\u5e93\u8fde\u63a5\u662f\u4e00\u4e2a\u5168\u5c40\u7684\u8d44\u6e90\uff0c\u53ef\u4ee5\u5728\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u5171\u4eab\u3002\u8fd9\u5c31\u662ffixture\u7684\u7528\u6b66\u4e4b\u5730\u3002\n\nfixture\u662f\u4e00\u4e9b\u51fd\u6570\uff0cpytest\u4f1a\u5728\u6267\u884c\u6d4b\u8bd5\u51fd\u6570\u4e4b\u524d\uff08\u6216\u4e4b\u540e\uff09\u52a0\u8f7d\u8fd0\u884c\u5b83\u4eec\u3002\u4f46\u4e0eunitest\u4e2d\u7684setup\u548cteardown\u4e0d\u540c\uff0cpytest\u4e2d\u7684fixture\u4f9d\u8d56\u662f\u663e\u5f0f\u58f0\u660e\u7684\u3002\u6bd4\u5982\uff0c\u5728\u4e0a\u9762\u7684test_add_user\u663e\u5f0f\u4f9d\u8d56\u4e86db\u8fd9\u4e2afixture(\u901a\u8fc7\u5728\u51fd\u6570\u58f0\u660e\u4e2d\u4f20\u5165db\u4f5c\u4e3a\u53c2\u6570)\uff0c\u800cdb\u5219\u53c8\u663e\u793a\u4f9d\u8d56event_loop\u8fd9\u4e2afixture\u3002\u5373\u4f7f\u6587\u4ef6\u4e2d\u8fd8\u5b58\u5728\u5176\u5b83fixture, test_add_user\u4e5f\u4e0d\u4f1a\u4f9d\u8d56\u5230\u8fd9\u4e9bfixture\uff0c\u56e0\u4e3a\u4f9d\u8d56\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\u3002\n\n\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6f14\u793a\u7684\u662f\u5bf9\u5f02\u6b65\u51fd\u6570add_user\u7684\u6d4b\u8bd5\u3002\u663e\u7136\uff0c\u5f02\u6b65\u51fd\u6570\u5fc5\u987b\u5728\u67d0\u4e2aevent loop\u4e2d\u6267\u884c\uff0c\u5e76\u4e14\u76f8\u5173\u7684\u521d\u59cb\u5316(setup)\u548c\u9000\u51fa\u64cd\u4f5c(teardown)\u4e5f\u5fc5\u987b\u5728\u540c\u4e00\u4e2aloop\u4e2d\u6267\u884c\u3002\u8fd9\u91cc\u662f\u5206\u522b\u901a\u8fc7pytest.mark.asyncio, pytest_asyncio\u7b49\u8981\u4ef6\u6765\u5b9e\u73b0\u7684\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5c06\u6d4b\u8bd5\u7528\u4f8b\u6807\u6ce8\u4e3a\u5f02\u6b65\u6267\u884c\uff0c\u5373\u4e0a\u9762\u7684\u4ee3\u7801\u7b2c21\u884c\u3002\u5176\u6b21\uff0ctest_add_user\u9700\u8981\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u8be5\u8fde\u63a5\u7531fixture `db`\u6765\u63d0\u4f9b\u3002\u8fd9\u4e2a\u8fde\u63a5\u7684\u83b7\u5f97\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528pytest.fixutre\u6765\u58f0\u660e\u8be5\u51fd\u6570\uff0c\u800c\u5fc5\u987b\u4f7f\u7528@pytest_asyncio.fixture\u6765\u58f0\u660e\u8be5\u51fd\u6570\u3002\n\n\u6700\u540e\uff0c\u6211\u4eec\u8fd8\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2aevent_loop\u7684fixture\uff0c\u5b83\u662f\u4e00\u5207\u7684\u5173\u952e\u3002\u5f53\u67d0\u4e2a\u51fd\u6570\u88abpytest.mark.asyncio\u88c5\u9970\u65f6\uff0c\u8be5\u51fd\u6570\u5c06\u5728event_loop\u63d0\u4f9b\u7684event loop\u4e2d\u6267\u884c\u3002\n\n\u6211\u4eec\u8fd8\u8981\u4ecb\u7ecd\u4e00\u4e0b\u51fa\u73b0\u5728\u7b2c6\u884c\u548c\u7b2c13\u884c\u4e2d\u7684scope='session'\u3002\u8fd9\u4e2a\u53c2\u6570\u8868\u793afixture\u7684\u4f5c\u7528\u57df\uff0c\u5b83\u6709\u56db\u4e2a\u53ef\u9009\u503c\uff1afunction, class, module\u548csession\u3002\u9ed8\u8ba4\u503c\u662ffunction\uff0c\u8868\u793afixture\u53ea\u5728\u5f53\u524d\u6d4b\u8bd5\u51fd\u6570\u4e2d\u6709\u6548\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2aevent loop\u5728\u4e00\u6b21\u6d4b\u8bd5\u4e2d\u90fd\u6709\u6548\uff0c\u6240\u4ee5\u5c06scope\u8bbe\u7f6e\u4e3asession\u3002\n\n\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5173\u4e8e\u5f02\u6b65\u6a21\u5f0f\u4e0b\u7684\u6d4b\u8bd5\u7684\u3002\u5bf9\u666e\u901a\u51fd\u6570\u7684\u6d4b\u8bd5\u66f4\u7b80\u5355\u4e00\u4e9b\u3002\u6211\u4eec\u4e0d\u9700\u8981pytest.mark.asynio\u8fd9\u4e2a\u88c5\u9970\u5668\uff0c\u4e5f\u4e0d\u9700\u8981event_loop\u8fd9\u4e2afixture\u3002\u6240\u6709\u7684pytest_asyncio.fixture\u90fd\u6362\u6210pytest.fixture\u5373\u53ef\uff08\u663e\u7136\uff0c\u5b83\u5fc5\u987b\u3001\u4e5f\u53ea\u80fd\u88c5\u9970\u666e\u901a\u51fd\u6570\uff0c\u800c\u975e\u7531async\u5b9a\u4e49\u7684\u51fd\u6570\uff09\u3002\n\n!!! Info\n    \u5982\u679c\u6211\u4eec\u4f7f\u7528unittest\u6765\u5bf9\u5f02\u6b65\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff0c\u8981\u6ce8\u610f\u9996\u5148\u6d4b\u8bd5\u7c7b\u8981\u4eceunittest.IsolatedAsyncioTestCase\u7ee7\u627f\uff0c\u7136\u540e\u6d4b\u8bd5\u51fd\u6570\u8981\u4ee5async def\u5b9a\u4e49\u3002\u5e76\u4e14setup\u548cteardown\u90fd\u8981\u6362\u6210\u5b83\u4eec\u7684\u5f02\u6b65\u7248\u672casyncSetup\u3001asyncTeardown\u3002\n\n    \u6ce8\u610f\u53ea\u6709\u4ecepython 3.8\u5f00\u59cb\uff0cunittest\u624d\u76f4\u63a5\u652f\u6301\u5f02\u6b65\u6d4b\u8bd5\u3002\u5728python 3.7\u53ca\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93aiounittest\u3002\n\n\u6211\u4eec\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86fixture\u3002\u4e0emarkers\u7c7b\u4f3c\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7pytest --fixtures\u6765\u663e\u793a\u5f53\u524d\u73af\u5883\u4e2d\u6240\u6709\u7684fixture\u3002\n```bash\npytest --fixtures\n\n------------- fixtures defined from faker.contrib.pytest.plugin --------------\nfaker -- .../faker/contrib/pytest/plugin.py:24\n    Fixture that returns a seeded and suitable ``Faker`` instance.\n\n------------- fixtures defined from pytest_asyncio.plugin -----------------\nevent_loop -- .../pytest_asyncio/plugin.py:511\n    Create an instance of the default event loop for each test case.\n\n...\n\n------------- fixtures defined from tests.test_app ----------------\nevent_loop [session scope] -- tests/test_app.py:45\n\ndb [session scope] -- tests/test_app.py:52\n</code></pre></p> <p>\u8fd9\u91cc\u6211\u4eec\u770b\u5230faker.contrib\u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3afaker\u7684fixture, \u6211\u4eec\u4e4b\u524d\u5b89\u88c5\u7684\u3001\u652f\u6301\u5f02\u6b65\u6d4b\u8bd5\u7684pytest_asyncio\u4e5f\u63d0\u4f9b\u4e86\u540d\u4e3aevent_loop\u7684fixture(\u4e3a\u8282\u7701\u7bc7\u5e45\uff0c\u5176\u5b83\u51e0\u4e2a\u7701\u7565\u4e86)\uff0c\u4ee5\u53ca\u6211\u4eec\u81ea\u5df1\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u5b9a\u4e49\u7684event_loop\u548cdb\u8fd9\u4e24\u4e2afixture\u3002</p> <p>\u4e3a\u4e86\u540e\u9762\u8bb2\u89e3\u65b9\u4fbf\uff0c\u6211\u4eec\u73b0\u5728\u6765\u5b89\u88c5pytest-mock\u8fd9\u4e2a\u63d2\u4ef6\uff0c\u770b\u770b\u5b83\u63d0\u4f9b\u7684fixture\u3002 <pre><code>pip install pytest-mock\npytest --fixture\n\n------- fixtures defined from pytest_mock.plugin --------\nclass_mocker [class scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nmocker -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nmodule_mocker [module scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\npackage_mocker [package scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nsession_mocker [session scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n</code></pre> \u53ef\u4ee5\u770b\u5230pytest-mock\u63d0\u4f9b\u4e865\u4e2afixture\u3002\u540e\u9762\u6211\u4eec\u4f1a\u8f83\u591a\u5730\u4ecb\u7ecd\u5176\u4e2d\u7684mocker\u8fd9\u4e2afixture\u3002</p>"},{"location":"chap07/#mock","title":"Mock","text":"<p>\u5728\u5355\u5143\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u5e0c\u671b\u6d4b\u8bd5\u73af\u5883\u5c3d\u53ef\u80fd\u5355\u7eaf\u3001\u53ef\u63a7\u3002\u56e0\u6b64\u6211\u4eec\u4e0d\u5e0c\u671b\u4f9d\u8d56\u4e8e\u7528\u6237\u8f93\u5165\uff0c\u4e0d\u5e0c\u671b\u8fde\u63a5\u6570\u636e\u5e93\u6216\u8005\u771f\u5b9e\u7684\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u7b49\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901amock\u6765\u6a21\u62df\u8fd9\u4e9b\u5916\u90e8\u63a5\u53e3\u3002mock\u53ef\u80fd\u662f\u5355\u5143\u6d4b\u8bd5\u4e2d\u6700\u6838\u5fc3\u7684\u6280\u672f\u3002</p> <p>Readmore</p> <p>\u611f\u8c22\u5bb9\u5668\u6280\u672f\uff01\u73b0\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u8d8a\u6765\u8d8a\u591a\u5730\u8fde\u63a5\u6570\u636e\u5e93\u3001\u7f13\u5b58\u548c\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u4e86\u3002\u56e0\u4e3a\u5bf9\u6709\u4e00\u4e9b\u63a5\u53e3\u8fdb\u884cmock\u7684\u4ee3\u4ef7\uff0c\u5df2\u7ecf\u8d85\u8fc7\u4e86launch\u4e00\u4e2a\u5bb9\u5668\uff0c\u521d\u59cb\u5316\u6570\u636e\u5e93\u518d\u5f00\u59cb\u6d4b\u8bd5\u4e86\u3002</p> <p>\u524d\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u65e0\u8bba\u662funittest\u8fd8\u662fpytest\uff0c\u90fd\u662f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u4f7f\u7528\u4e86unittest\u4e2d\u7684mock\u6a21\u5757\u3002\u6240\u4ee5\uff0c\u5f53\u4f60\u9047\u5230mock\u76f8\u5173\u7684\u95ee\u9898\uff0c\u8bf7\u53c2\u9605mock\u3002</p> <p>Info</p> <p>python\u4ece3.8\u8d77\uff0c\u624d\u5bf9async\u6a21\u5f0f\u4e0b\u7684mock\u6709\u6bd4\u8f83\u5b8c\u5907\u7684\u652f\u6301\u3002\u5e78\u597d\uff0c\u5728\u672c\u4e66\u53d1\u5e03\u4e4b\u524d\uff0cpython 3.7\u5c31\u5e94\u8be5\u5df2\u7ecf\u8d70\u5230\u751f\u547d\u7684\u5c3d\u5934\u4e86\u3002</p> <p>\u6700\u5e38\u7528\u7684mock\u5bf9\u8c61\u6709Mock, MagicMock\u548cpatch\u3002MagicMock\u662fMock\u7684\u5b50\u7c7b\u3002\u5982\u679c\u4f60\u4e4b\u524d\u63a5\u89e6\u8fc7\u5176\u5b83mock\u6846\u67b6\u7684\u8bdd\uff0c\u53ef\u80fd\u9700\u8981\u6ce8\u610f\uff0cpython\u4e2d\u7684mock\u662f\u2019action -&gt; assertion\u2018\u6a21\u5f0f\uff0c\u800c\u4e0d\u662f\u5176\u5b83\u8bed\u8a00\u4e2d\u5e38\u89c1\u7684'record -&gt; replay\u2019\u6a21\u5f0f\u3002</p> <p>\u5728unittest\u4e2d\u8981\u4f7f\u7528mock, \u6211\u4eec\u9700\u8981\u624b\u52a8\u5bfc\u5165mock\u6a21\u5757\u3002\u5728pytest\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528mocker\u8fd9\u4e2afixture\u3002 <pre><code># unittest example\nimport unittest\nfrom unittest import mock\n\nclass Test(unittest.TestCase):\n    def test_mock(self):\n        # \u5728unittest\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7mock\u6a21\u5757\u6765\u8c03\u7528patch\u65b9\u6cd5\n        with mock.patch('builtins.input', return_value = 'Y') as m:\n            self.assertEqual('Y', input('continure or not? [Y]/n'))\n\n# pytest example\ndef test_mock(mocker):\n    # \u5728pytest\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7mocker\u8fd9\u4e2afixture\u6765\u8c03\u7528patch\u65b9\u6cd5\n    mocker.patch('builtins.input', return_value = 'Y')\n    assert 'Y' == input('continure or not? [Y]/n')\n</code></pre> \u4e0a\u9762\u7684\u4f8b\u5b50\u6e05\u695a\u5730\u6f14\u793a\u4e86\u4e24\u4e2a\u6846\u67b6\u4e2d\u5e94\u8be5\u5982\u4f55\u8c03\u7528patch\u65b9\u6cd5\u3002\u5982\u679c\u6211\u4eec\u8981\u4f7f\u7528Mock\u6216\u8005MagicMock\u8fd9\u4e24\u4e2a\u7c7b\uff0c\u4e5f\u662f\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7\u5728pytest\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7mocker\u8fd9\u4e2a\u5bf9\u8c61\u6765\u5f15\u7528\u5b83\u4eec\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6765\u4ecb\u7ecd\u4e00\u4e0bpatch\u65b9\u6cd5\u3002patch\u662f\u4e00\u4e2acontext manager\uff08\u4e5f\u53ef\u4ee5\u5f53\u88c5\u9970\u5668\u7528\uff09\uff0c\u5b83\u53ef\u4ee5\u7528\u6765mock\u4e00\u4e2a\u5bf9\u8c61\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u6f14\u793a\u4e86\u5982\u4f55mock\u4e00\u4e2a\u5185\u7f6e\u51fd\u6570\u3002\u5185\u7f6e\u51fd\u6570\u662f\u6307\u8c61open\u3001print\u3001input\u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u7a0b\u5e8f\u4e2d\u65e0\u987b\u5bfc\u5165\u5373\u53ef\u76f4\u63a5\u4f7f\u7528\uff0c\u4f46\u662f\u5728mock\u5b83\u4eec\u65f6\uff0c\u6211\u4eec\u5fc5\u987b\u901a\u8fc7'builtins'\u8fd9\u4e2a\u540d\u5b57\u7a7a\u95f4\u6765\u5f15\u7528\u5b83\u4eec\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u5728\u8fd9\u91cc\u7279\u522b\u4e3e\u4f8b\u7684\u539f\u56e0\u3002\u53e6\u4e00\u4e2a\u9700\u8981\u7279\u522b\u8bf4\u660e\u7684\u5185\u7f6e\u5e93\u662fdatetime\uff0c\u5f53\u4f60\u9700\u8981mock\u8fd9\u4e2a\u5e93\u65f6\uff0c\u6211\u4eec\u7684\u5efa\u8bae\u662f\u4f7f\u7528freezegun\u8fd9\u4e2a\u5e93\uff0c\u800c\u4e0d\u662f\u4f7f\u7528patch\u3002 ```python {class = 'line-numbers'} @freeze_time(\"2021-01-01\") def test_freezegun():     now = datetime.datetime(2021, 1, 1)     assert now == datetime.datetime.now() <pre><code>mock\u81ea\u5df1\u4ee3\u7801\u4e2d\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u7b2c\u4e09\u65b9\u5e93\u4e2d\u7684\u65b9\u6cd5\u4e00\u822c\u6765\u8bb2\u662f\u6bd4\u8f83\u5bb9\u6613\u7684\uff0c\u5173\u952e\u662f\u8981\u627e\u5230\u6b63\u786e\u7684\u5f15\u7528\u65b9\u6cd5\u3002\u5728\u7b2c7\u7ae0\u7684\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u6709\u8fd9\u6837\u4e00\u5c0f\u6bb5\u7a0b\u5e8f\uff1a\n\n```python {class='line-numbers'}\n# from sample\\core\\foo.py\ndef is_windows():\n    return True\n\n\ndef get_operating_system():\n    return \"Windows\" if is_windows() else \"Linux\"\n\n\nclass Foo:\n    def bark(self):\n        return \"bark\"\n\n# from sample\\tests\\core\\test_foo.py\ndef test_get_operating_system(mocker):\n    mocker.patch(\"sample.core.foo.is_windows\", return_value=False)\n    assert get_operating_system() == \"Linux\"\n</code></pre> \u7b2c16\u884c\u4e2d\u7684\"sample.core.foo.is_windows\"\u88ab\u79f0\u4f5ctarget\uff0creturn_value\u5219\u662f\u6211\u4eec\u8c03\u7528target\u65b9\u6cd5\u65f6\uff0c\u6240\u671f\u671b\u8fd4\u56de\u7684\u503c\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eecmock\u4e86\u4e00\u4e2a\u666e\u901a\u65b9\u6cd5\uff0c\u5982\u679c\u6211\u4eec\u8981mock\u4e00\u4e2a\u7c7b\u7684\u65b9\u6cd5\u5462\uff1f\u6b64\u65f6target\u7684\u5199\u6cd5\u5e94\u8be5\u662f'package.package.module.Class.method'\u3002\u4ee5\u7b2c10~12\u884c\u5b9a\u4e49\u7684Foo\u5bf9\u8c61\u7684bark\u65b9\u6cd5\u4e3a\u4f8b\uff0ctarget\u7684\u5199\u6cd5\u5e94\u8be5\u662f'sample.core.foo.Foo.bark'\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u8981\u6307\u51fa\u4e00\u4e2a\u521d\u5b66\u8005\u5f88\u5bb9\u6613\u6389\u8fdb\u53bb\u7684\u5751\uff0c\u5c31\u662f\u660e\u660etarget\u6b63\u786e\uff0c\u4f46\u662f\u5374\u65e0\u6cd5mock\u6210\u529f\u3002\u5728unittest\u7684\u6587\u6863\u4e2d\u6709\u8fd9\u6837\u4e00\u53e5\u8bdd</p> <p>Quote</p> <p>The basic principle is that you patch where an object is looked up, which is not necessarily the same place as where it is defined. </p> <p>\u4e5f\u5c31\u662f\uff0cpatch\u5e94\u7528\u4e8e\u54ea\u4e2atarget\u5bf9\u8c61\uff0c\u53d6\u51b3\u4e8e\u88abmock\u5bf9\u8c61\u662f\u5728\u54ea\u91cc\u88ab\u5f15\u7528\u7684\uff0c\u800c\u4e0d\u662f\u5728\u54ea\u91cc\u88ab\u5b9a\u4e49\u7684\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u8be6\u7ec6\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\u3002\u5047\u8bbe\u5728\u524d\u9762\u7684foo.py\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2asample\\bar.py\u6587\u4ef6\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a ```python {class='line-numbers'}</p>"},{"location":"chap07/#samplebarpy","title":"sample\\bar.py","text":"<p>from sample.core.foo import Foo, is_windows</p> <p>def my_bark() -&gt; str:     foo = Foo()     return foo.bark()</p> <p>def get_operating_system() -&gt; str:     return \"Windows\" if is_windows() else \"Linux\" <pre><code>\u5bf9\u5e94\u7684\u6d4b\u8bd5\u6587\u4ef6tests\\test_bar.py\u5b9a\u4e49\u5982\u4e0b\uff1a\n```python {class='line-numbers'}\nfrom sample.bar import get_operating_system, my_bark\n\ndef test_my_bark(mocker):\n    with mocker.patch(\"sample.core.foo.Foo.bark\", return_value=\"mock_bark\"):\n        assert my_bark() == \"mock_bark\"\n\ndef test_get_operation_system(mocker):\n    target_will_fail = \"sample.core.foo.is_windows\"\n    target_will_succeed = \"sample.bar.is_windows\"\n    with mocker.patch(target_will_fail, return_value=False):\n        assert get_operating_system() == \"Linux\"\n</code></pre> \u8fd0\u884c\u6d4b\u8bd5\uff0c\u53d1\u73b0test_my_bark\u6d4b\u8bd5\u901a\u8fc7\uff0c\u800ctest_get_operation_system\u6d4b\u8bd5\u5931\u8d25\u3002\u8bf4\u660e\u5176\u4e2d\u4e00\u4e2amock\u6210\u529f\uff0c\u53e6\u4e00\u4e2amock\u5931\u8d25\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u5728test_get_operation_system\u4e2d\uff0c\u5bfc\u81f4\u6d4b\u8bd5\u5931\u8d25\u7684target\u662ftarget_will_fail\uff0c\u5373sample.core.foo.is_windows\uff0c\u88ab\u6d4b\u8bd5\u51fd\u6570get_operating_system\u6765\u81ea\u7531bar.py\uff0c\u5728\u5b83\u8c03\u7528is_windows\u4e4b\u524d\uff0c\u8fd9\u4e2ais_windows\u5df2\u7ecf\u88ab\u5bfc\u5165\u5230sample.bar\u8fd9\u4e2a\u540d\u5b57\u7a7a\u95f4\u91cc\uff0csample.bar\u6301\u6709\u4e86\u8fd9\u4e2a\u5f15\u7528\uff08\u5e94\u8be5\u662f\u4ee5\u4f20\u503c\u7684\u65b9\u5f0f\uff09\uff0c\u56e0\u6b64\u5f53patch\u65b9\u6cd5\u5bf9sample.core.foo.is_windows\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u8fd9\u4e2a\u6539\u52a8\u5e76\u4e0d\u4f1a\u4f20\u9012\u7ed9sample.bar\u4e2d\u7684is_windows\u3002\u8fd9\u5c31\u662funittest\u6587\u6863\u4e2d\u6240\u8bf4\u7684\uff0cpatch\u5e94\u7528\u4e8e\u54ea\u4e2atarget\u5bf9\u8c61\uff0c\u53d6\u51b3\u4e8e\u88abmock\u5bf9\u8c61\u662f\u5728\u54ea\u91cc\u88ab\u5f15\u7528\u7684\uff08sample.bar)\uff0c\u800c\u4e0d\u662f\u5728\u54ea\u91cc\u88ab\u5b9a\u4e49\u7684(sample.core.foo)\u3002</p> <p>\u4f46\u4e0a\u9762\u7684\u7406\u8bba\u65e0\u6cd5\u89e3\u91ca\u4e3a\u4ec0\u4e48test_my_bark\u6d4b\u8bd5\u901a\u8fc7\u3002\u539f\u56e0\u53ef\u80fd\u8fd8\u662f\u4f20\u503c\u5f15\u7528\u7684\u539f\u56e0\u3002\u5728my_bark\u4e2d\uff0c\u5f53\u8c03\u7528foo.bark()\u65f6\uff0cfoo\u5bf9\u8c61\u5e76\u6ca1\u6709\u81ea\u5df1\u7684bark\u65b9\u6cd5\uff0c\u56e0\u6b64\u5b83\u8fd8\u662f\u4f1a\u53bb\u5bfb\u627esample.core.foo.Foo\u4e2d\u7684bark\u65b9\u6cd5\uff0c\u800c\u8fd9\u4e2a\u65b9\u6cd5\u5df2\u7ecf\u88abpatch\u4e86\uff0c\u56e0\u6b64test_my_bark\u6d4b\u8bd5\u901a\u8fc7\u3002</p> <p>\u524d\u9762\u6211\u4eec\u8ba8\u8bba\u4e86patch\u7684\u4e00\u4e2a\u7528\u6cd5\uff0c\u5373patch\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\u6709\u65f6\u5019\u6211\u4eec\u4e0d\u5173\u5fc3\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u800c\u662f\u5e0c\u671b\u51fd\u6570\u5728\u88ab\u8c03\u7528\u65f6\uff0c\u80fd\u591f\u65e0\u6761\u4ef6\u5730\u629b\u51fa\u67d0\u4e2a\u5f02\u5e38\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u7528\u5230<code>side_effect</code>\u53c2\u6570\u3002</p> <p>```python {class='line-numbers'}</p>"},{"location":"chap07/#teststest_barpy","title":"tests\\test_bar.py","text":"<p>import pytest def test_mock_side_effect(mocker):     with mocker.patch('builtins.input', side_effect = ValueError):         with pytest.raises(ValueError) as e:             input() <pre><code>\u4e0a\u8ff0\u4ee3\u7801\u4e0d\u4ec5\u6a21\u62df\u51fa\u4e86\u4e00\u4e2aValueError\uff0c\u8fd8\u68c0\u6d4b\u8fd9\u4e2a\u5f02\u5e38\u662f\u5426\u629b\u51fa\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5f02\u5e38\u5904\u7406\u4ee3\u7801\u73b0\u5728\u4e5f\u53ef\u4ee5\u8f7b\u677e\u8986\u76d6\u5230\u4e86\u3002\n\nside_effect\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765\u6a21\u62df\u5f02\u5e38\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u6a21\u62df\u591a\u6b21\u8c03\u7528\u7684\u8fd4\u56de\u503c\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u5e0c\u671b\u67d0\u4e2a\u51fd\u6570\u5728\u7b2c\u4e00\u6b21\u8c03\u7528\u65f6\u8fd4\u56de1\uff0c\u7b2c\u4e8c\u6b21\u8c03\u7528\u65f6\u8fd4\u56de2\uff0c\u7b2c\u4e09\u6b21\u8c03\u7528\u65f6\u8fd4\u56de3\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u8fd9\u65f6\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a\n```python {class='line-numbers'}\n# tests\\test_bar.py\ndef def test_mock_multiple_return(mocker):\n    with mocker.patch('builtins.input', side_effect = [1, 2, 3]):\n        assert input() == 1\n        assert input() == 2\n        assert input() == 3\n</code></pre> \u6211\u4eec\u4e00\u5171\u8c03\u7528\u4e86input\u4e09\u6b21\uff0c\u6bcf\u6b21mock\u90fd\u6309\u671f\u671b\u8fd4\u56de\u4e86\u4e0d\u540c\u7684\u6570\u503c\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7ed9patch\u4f20\u5165\u7684target\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u663e\u7136\uff0c\u5728patch\u4f5c\u7528\u57df\u5185\uff0c\u6240\u6709\u7684\u65b0\u751f\u6210\u7684\u5bf9\u8c61\u90fd\u4f1a\u88abpatch\u3002\u5982\u679c\u5728patch\u4e4b\u524d\uff0c\u5bf9\u8c61\u5df2\u7ecf\u751f\u6210\u4e86\uff0c\u6211\u4eec\u5219\u9700\u8981\u4f7f\u7528<code>patch.object</code>\u6765\u5b8c\u6210patch\u3002</p> <p>```python {class='line-numbers'}</p>"},{"location":"chap07/#samplecorefoopy","title":"sample\\core\\foo.py","text":"<p>def bar():     logger = logging.getLogger(name)     logger.info(\"please check if I was called\")</p> <pre><code>root_logger = logging.getLogger()\nroot_logger.info(\"this is not intercepted\")\n</code></pre>"},{"location":"chap07/#test_foopy","title":"test_foo.py","text":"<p>from sample.core.foo import bar</p> <p>logger = logging.getLogger('sample.core.foo') with mock.patch.object(logger, 'info') as m:     bar()     m.assert_called_once_with(\"please check if I was called\") <pre><code>\u4e24\u4e2alogger(root_logger\u548c'sample.core.foo'\u5bf9\u5e94\u7684logger)\u90fd\u88ab\u8c03\u7528\uff0c\u4f46\u6211\u4eec\u53ea\u62e6\u622a\u4e86\u540e\u4e00\u4e2alogger\u7684`info`\u65b9\u6cd5\uff0c\u7ed3\u679c\u9a8c\u8bc1\u5b83\u88ab\u8c03\u7528\uff0c\u4e14\u4ec5\u88ab\u8c03\u7528\u4e00\u6b21\u3002\n\n\u8fd9\u91cc\u8981\u63d0\u53capytest\u4e2dmocker.patch\u4e0eunitest.mock.patch\u7684\u4e00\u4e2a\u7ec6\u5fae\u5dee\u522b\u3002\u540e\u8005\u8fdb\u884cpatch\u65f6\uff0c\u53ef\u4ee5\u8fd4\u56demock\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u8fdb\u884c\u66f4\u591a\u7684\u68c0\u67e5\uff08\u89c1\u4e0a\u9762\u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u7b2c14\uff0c16\u884c\uff09\uff1b\u4f46mocker.patch\u7684\u8fd4\u56de\u503c\u662fNone\u3002\n\n## \u8861\u91cf\u6d4b\u8bd5\u7684\u8986\u76d6\u7387\n\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u4e86\u5982\u4f55\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u3002\u63a5\u4e0b\u6765\uff0c\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u95ee\u9898\u6d6e\u73b0\u51fa\u6765\uff0c\u6211\u4eec\u5982\u4f55\u77e5\u9053\u5355\u5143\u6d4b\u8bd5\u7684\u8d28\u91cf\u5462\uff1f\u8fd9\u5c31\u63d0\u51fa\u4e86\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u6982\u5ff5\u3002coverage.py\u662f\u6700\u5e38\u7528\u7684\u6d4b\u91cfPython\u7a0b\u5e8f\u4ee3\u7801\u8986\u76d6\u7387\u7684\u5de5\u5177\u3002\u5b83\u76d1\u89c6\u60a8\u7684\u7a0b\u5e8f\uff0c\u8bb0\u5f55\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u5df2\u88ab\u6267\u884c\uff0c\u7136\u540e\u5206\u6790\u6e90\u4ee3\u7801\u4ee5\u8bc6\u522b\u53ef\u80fd\u5df2\u6267\u884c\u4f46\u672a\u6267\u884c\u7684\u4ee3\u7801\u3002\n\n\u8986\u76d6\u7387\u6d4b\u91cf\u901a\u5e38\u7528\u4e8e\u8861\u91cf\u6d4b\u8bd5\u7684\u6709\u6548\u6027\u3002\u5b83\u53ef\u4ee5\u663e\u793a\u60a8\u7684\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u6b63\u5728\u88ab\u6d4b\u8bd5\u6267\u884c\uff0c\u54ea\u4e9b\u6ca1\u6709\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u5b89\u88c5coverage.py\uff1a\n```bash\npip install coverage\n</code></pre> \u8981\u6536\u96c6\u6d4b\u8bd5\u8986\u76d6\u7387\u6570\u636e\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u539f\u6765\u7684\u6d4b\u8bd5\u547d\u4ee4\u524d\u52a0\u4e0acoverage run\u5373\u53ef\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u4e4b\u524d\u662f\u4f7f\u7528<code>pytest arg1 arg2 arg3</code>\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5219\u73b0\u5728\u6211\u4eec\u4f7f\u7528: <pre><code>coverage run -m pytest arg1 arg2 arg3\n</code></pre> \u4e0d\u8fc7\uff0c\u66f4\u591a\u4eba\u9009\u62e9\u4f7f\u7528pytest-cov\u63d2\u4ef6\u6765\u8fdb\u884c\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u6536\u96c6\u3002\u8fd9\u4e5f\u662fppw\u7684\u9009\u62e9\u3002\u901a\u8fc7ppw\u751f\u6210\u7684\u5de5\u7a0b\uff0cpytest-cov\u5df2\u88ab\u52a0\u5165\u5230\u6d4b\u8bd5\u4f9d\u8d56\u4e2d\uff0c\u56e0\u6b64\u4e5f\u5c31\u81ea\u7136\u5b89\u88c5\u5230\u73af\u5883\u4e2d\u53bb\u4e86\u3002</p> <p>\u5f53\u6d4b\u8bd5\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>coverage report -m</code>\u6765\u67e5\u770b\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u62a5\u544a: <pre><code>Name                      Stmts   Miss  Cover   Missing\n-------------------------------------------------------\nmy_program.py                20      4    80%   33-35, 39\nmy_other_module.py           56      6    89%   17-23\n-------------------------------------------------------\nTOTAL                        76     10    87%\n</code></pre> \u5982\u679c\u5e0c\u671b\u5f97\u5230\u66f4\u597d\u7684\u89c6\u89c9\u6548\u679c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528coverage html\u547d\u4ee4\u6765\u751f\u6210\u5e26\u6ce8\u91ca\u7684HTML\u62a5\u544a\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00htmlcov/index.html\u3002 </p> <p>\u4e0d\u8fc7\uff0c\u901a\u8fc7ppw\u914d\u7f6e\u7684\u5de5\u7a0b\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u9700\u8981\u76f4\u63a5\u8c03\u7528coverage\u547d\u4ee4\uff0c\u800c\u662f\u4f7f\u7528pytest\u547d\u4ee4\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002pytest-cov\u63d2\u4ef6\u4f1a\u81ea\u52a8\u6536\u96c6\u6d4b\u8bd5\u8986\u76d6\u7387\u6570\u636e\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u81ea\u52a8\u5c06\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u6253\u5370\u5230\u63a7\u5236\u53f0\u4e0a\u3002\u5982\u679c\u5e0c\u671b\u751f\u6210\u5e26\u6ce8\u91ca\u7684HTML\u62a5\u544a\uff0c\u53ef\u4ee5\u4f7f\u7528<code>pytest --cov-report=html</code>\u547d\u4ee4\u3002\u5bf9pytest\u6211\u4eec\u4e00\u822c\u4e5f\u4e0d\u9700\u8981\u76f4\u63a5\u8c03\u7528\uff0c\u800c\u662f\u901a\u8fc7tox\u6765\u8c03\u7528\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0ccoverage.py\u5c06\u6d4b\u8bd5\u884c\uff08\u8bed\u53e5\uff09\u8986\u76d6\u7387\uff0c\u4f46\u901a\u8fc7\u914d\u7f6e\uff0c\u8fd8\u53ef\u4ee5\u6d4b\u91cf\u5206\u652f\u8986\u76d6\u7387\u3002\u8fd9\u9700\u8981\u4e00\u4e9b\u914d\u7f6e\u3002</p>"},{"location":"chap07/#\u914d\u7f6epycoverage","title":"\u914d\u7f6ePycoverage","text":"<p>\u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u540d\u79f0\u662f.coveragerc\uff0c\u5728ppw\u751f\u6210\u7684\u5de5\u7a0b\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5904\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff08\u8bfb\u8005\u53ef\u4ee5\u56de\u5230\u7b2c4\u7ae0\u7684\u7ed3\u675f\u90e8\u5206\u67e5\u770bppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\uff09\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\uff0cCoverage.py \u5c06\u4ece\u5176\u4ed6\u5e38\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bfb\u53d6\u8bbe\u7f6e\u3002\u5982\u679c\u5b58\u5728\uff0c\u5b83\u5c06\u81ea\u52a8\u4ece\u201csetup.cfg\u201d\u6216\u201ctox.ini\u201d\u4e2d\u8bfb\u53d6\u3002\u5982\u679c\u8282(section)\u540d\u79f0\u6709\u201ccoverage:\u201d\u524d\u7f00\uff0c\u5219\u4f1a\u5f53\u6210\u662fcoverage\u7684\u914d\u7f6e\uff0c\u6bd4\u5982.coveragerc\u4e2d\u6709\u4e00\u8282\u540d\u4e3arun\uff0c\u5f53\u5b83\u51fa\u73b0\u5728tox.ini\u4e2d\uff0c\u8282\u540d\u5b57\u5c31\u5e94\u8be5\u662f[coverage:run]\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728pyproject.toml\u4e2d\u914d\u7f6ecoverage\u3002\u5982\u679c\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u5728pyproject.toml\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3atool.coverage\u7684\u8282\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u8282\u4e2d\u6dfb\u52a0\u914d\u7f6e\u9879\u3002</p> <p>coverage\u7684\u914d\u7f6e\u9879\u9075\u5faaini\u8bed\u6cd5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a ```ini {class='line-numbers'}</p>"},{"location":"chap07/#coveragerc-to-control-coveragepy","title":".coveragerc to control coverage.py","text":"<p>[run] branch = True</p> <p>[report]</p>"},{"location":"chap07/#regexes-for-lines-to-exclude-from-consideration","title":"Regexes for lines to exclude from consideration","text":"<p>exclude_lines =     # Have to re-enable the standard pragma     pragma: no cover</p> <pre><code># Don't complain about missing debug-only code:\ndef __repr__\nif self\\.debug\n\n# Don't complain if tests don't hit defensive assertion code:\nraise AssertionError\nraise NotImplementedError\n\n# Don't complain if non-runnable code isn't run:\nif 0:\nif __name__ == .__main__.:\n\n# Don't complain about abstract methods, they aren't run:\n@(abc\\.)?abstractmethod\n</code></pre> <p>ignore_errors = True</p> <p>[html] directory = coverage_html_report <pre><code>\u6211\u4eec\u524d\u9762\u63d0\u5230\u8fc7\u53ef\u4ee5\u8ba9coverage.py\u6309\u5206\u652f\u8986\u76d6\u7387\u6765\u7edf\u8ba1\uff0c\u8fd9\u53ef\u4ee5\u6309\u7167\u7b2c3\u884c\u4e00\u6837\u8fdb\u884c\u914d\u7f6e\u3002[report]\u8fd9\u4e00\u8282\u4e2d\u7684\u914d\u7f6e\u9879\u53ef\u4ee5\u8ba9coverage.py\u5ffd\u7565\u4e00\u4e9b\u4e0d\u9700\u8981\u7edf\u8ba1\u7684\u4ee3\u7801\uff0c\u6bd4\u5982debug\u4ee3\u7801\u3002[html]\u8fd9\u4e00\u8282\u914d\u7f6e\u4e86\u5982\u679c\u751f\u6210\u7684html\u6587\u4ef6\u5b58\u653e\u5728\u4f55\u5904\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5c06\u5b58\u653e\u5728htmlcov\u76ee\u5f55\u4e0b\u3002\n\n[run]\u8fd9\u4e00\u8282\u6bd4\u8f83\u5e38\u7528\u7684\u914d\u7f6e\u9879\u6709include\u548comit\uff0c\u7528\u6765\u7279\u522b\u628a\u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u52a0\u5165\u5230\u6d4b\u8bd5\u8986\u76d6\uff0c\u6216\u8005\u6392\u9664\u6389\u3002\u5728[report]\u8fd9\u4e00\u8282\u4e2d\uff0c\u4e5f\u6709\u76f8\u540c\u7684\u914d\u7f6e\u9879\uff0c\u4e24\u8005\u6709\u6240\u533a\u522b\u3002\u5728[report]\u4e2d\u6307\u5b9aomit\u6216\u8005include\uff0c\u90fd\u4ec5\u9002\u7528\u4e8e\u62a5\u544a\u7684\u751f\u6210\uff0c\u4f46\u4e0d\u5f71\u54cd\u5b9e\u9645\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u7edf\u8ba1\u3002\n### \u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a\n\u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u662f\u5f00\u6e90\u9879\u76ee\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u628a\u8986\u76d6\u7387\u62a5\u544a\u53d1\u5e03\u5230\u7f51\u4e0a\uff0c\u8fd9\u6837\u5176\u4ed6\u4eba\u5c31\u53ef\u4ee5\u770b\u5230\u4f60\u7684\u9879\u76ee\u7684\u8986\u76d6\u7387\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528codecov.io\u6765\u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a\u3002\n\ncodecov\u662f\u4e00\u4e2a\u5728\u7ebf\u7684\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u670d\u52a1\uff0c\u5b83\u53ef\u4ee5\u4eceGitHub\u3001Bitbucket\u3001GitLab\u7b49\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u4e0a\u83b7\u53d6\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u5728\u7ebf\u7684\u62a5\u544a\u3002\u8fd9\u4e2a\u62a5\u544a\u53ef\u4ee5\u8ba9\u5176\u4ed6\u4eba\u770b\u5230\u4f60\u7684\u9879\u76ee\u7684\u8986\u76d6\u7387\u60c5\u51b5\u3002\n\n\u5728github\u4e2d\u8bbe\u7f6ecodecov\u96c6\u6210\u5f88\u7b80\u5355\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00https://github.com/apps/codecov\u9875\u9762\uff0c\u70b9\u51fb\u5b8c\u6210\u5b89\u88c5\uff0c\u7136\u540e\u5728CI\u8fc7\u7a0b\u4e2d\u589e\u52a0\u4e00\u4e2a\u4e0a\u4f20\u52a8\u4f5c\u5c31\u53ef\u4ee5\u4e86\u3002\u5728\u901a\u8fc7ppw\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86\u8fd9\u4e00\u6b65\u3002\u5982\u679c\u4f60\u60f3\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u624b\u52a8\u6267\u884c\uff0c\u5219\u662f\uff1a\n</code></pre></p>"},{"location":"chap07/#linux","title":"linux","text":"<p>curl -Os https://uploader.codecov.io/latest/linux/codecov  chmod +x codecov  ./codecov</p>"},{"location":"chap07/#windows","title":"windows","text":"<p>$ProgressPreference = 'SilentlyContinue'  Invoke-WebRequest -Uri https://uploader.codecov.io/latest/windows/codecov.exe -Outfile codecov.exe  .\\codecov.exe</p>"},{"location":"chap07/#macos","title":"macOS","text":"<p>curl -Os https://uploader.codecov.io/latest/macos/codecov chmod +x codecov ./codecov <pre><code>\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4ec5\u901a\u8fc7CI\u6765\u4e0a\u4f20\u8986\u76d6\u7387\u62a5\u544a\uff0c\u800c\u4e0d\u662f\u5728\u672c\u5730\u6267\u884c\u3002\u56e0\u4e3a\u672c\u5730\u6267\u884c\u7684\u8986\u76d6\u7387\u62a5\u544a\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u672c\u5730\u73af\u5883\u7684\u4e0d\u540c\u800c\u4ea7\u751f\u5dee\u5f02\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5728CI\u4e2d\u6267\u884c\u540e\uff0c\u6211\u4eec\u8fd8\u80fd\u5728pull request\u4e4b\u540e\uff0c\u5f97\u5230\u8fd9\u6837\u7684\u72b6\u6001\u62a5\u544a\uff1a\n![](https://images.jieyu.ai/images/20230120230120213255.png)\n\u5e76\u4e14\u8fd8\u80fd\u5728pull request\u7684\u6ce8\u91ca\u4e2d\u770b\u5230\u8986\u76d6\u7387\u7684\u53d8\u5316\uff1a\n![](https://images.jieyu.ai/images/20230120230120213318.png)\n\u8fd9\u4f1a\u8ba9\u4f60\u7684\u5f00\u6e90\u9879\u76ee\u770b\u4e0a\u53bb\u975e\u5e38\u4e13\u4e1a\uff0c\u4e0d\u662f\u5417\uff1f\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8ba9\u4f60\u7684\u6f5c\u5728\u7528\u6237\u66f4\u52a0\u4fe1\u4efb\u8fd9\u662f\u4e00\u4e2a\u9ad8\u8d28\u91cf\u7684\u9879\u76ee\u3002\n\n## Tox\u73af\u5883\u77e9\u9635\u52a0\u901f\u6d4b\u8bd5\n\u5982\u679c\u6211\u4eec\u7684\u8f6f\u4ef6\u652f\u63013\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff0c4\u4e2apython\u7248\u672c\uff0c\u6211\u4eec\u5c31\u5fc5\u987b\u57283\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5206\u522b\u521b\u5efa4\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5\u4e0a\u6211\u4eec\u7684\u8f6f\u4ef6\u548c\u4f9d\u8d56\uff0c\u518d\u6267\u884c\u6d4b\u8bd5\uff0c\u4e0a\u4f20\u6d4b\u8bd5\u62a5\u544a\u3002\u8fd9\u4e2a\u52a8\u4f5c\u4e0d\u4ec5\u76f8\u5f53\u7e41\u7410\uff0c\u8fd8\u5f88\u5bb9\u6613\u5f15\u5165\u9519\u8bef\u3002\n\ntox\u4e0eCI\u7ed3\u5408\uff0c\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u5316\u5b8c\u6210\u8fd9\u4e9b\u73af\u5883\u7684\u521b\u5efa\u4e0e\u6d4b\u8bd5\u6267\u884c\u3002\n### \u4ec0\u4e48\u662fTox\uff1f\ntox\u662f\u4e00\u4e2a\u901a\u7528\u7684 virtualenv \u7ba1\u7406\u548c\u6d4b\u8bd5\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u65e8\u5728\u81ea\u52a8\u5316\u548c\u6807\u51c6\u5316 Python \u6d4b\u8bd5\u3002\u5b83\u662f\u7b80\u5316 Python \u8f6f\u4ef6\u7684\u6253\u5305\u3001\u6d4b\u8bd5\u548c\u53d1\u5e03\u8fc7\u7a0b\u7684\u66f4\u5927\u613f\u666f\u7684\u4e00\u90e8\u5206\u3002\u5927\u591a\u6570\u9879\u76ee\u90fd\u4f7f\u7528\u5b83\u6765\u786e\u4fdd\u8f6f\u4ef6\u5728\u591a\u4e2a Python \u89e3\u91ca\u5668\u7248\u672c\u4e4b\u95f4\u7684\u517c\u5bb9\u6027\u3002\n\n\u5b9e\u9645\u4e0a\uff0ctox\u4e3b\u8981\u5b8c\u6210\u4ee5\u4e0b\u5de5\u4f5c\uff1a\n1. \u6839\u636e\u914d\u7f6e\u521b\u5efa\u57fa\u4e8e\u591a\u4e2a\u7248\u672c\u7684python\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u4fdd\u8bc1\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u7684\u53ef\u590d\u5236\u6027\uff08\u9700\u8981\u4e0epoetry\u6216\u8005\u5176\u5b83\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\u4e00\u8d77\uff09\u3002\n2. \u8fd0\u884c\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u6bd4\u5982pytest\u548cflake8, black, mypy\u7b49\u3002\n3. \u9694\u79bb\u73af\u5883\u53d8\u91cf\u3002tox\u4e0d\u4f1a\u4ece\u7cfb\u7edf\u4f20\u9012\u4efb\u4f55\u73af\u5883\u53d8\u91cf\u5230\u865a\u62df\u73af\u5883\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6d4b\u8bd5\u7684\u53ef\u91cd\u590d\u6027\u3002\n### Tox\u7684\u5de5\u4f5c\u539f\u7406\n\u4e0b\u56fe\u662ftox\u6587\u6863\u663e\u793a\u7684\u5de5\u4f5c\u539f\u7406\u56fe\uff1a\n![](https://images.jieyu.ai/images/20230120230120223442.png)\n\n\u6839\u636e\u8fd9\u5f20\u56fe\uff0ctox\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff0c\u6253\u5305\u5f85\u6d4b\u8bd5\u8f6f\u4ef6\uff0c\u6309\u7167\u914d\u7f6e\u6587\u4ef6\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u5e76\u5b89\u88c5\u5f85\u6d4b\u8bd5\u8f6f\u4ef6\u548c\u4f9d\u8d56\uff0c\u7136\u540e\u4f9d\u6b21\u6267\u884c\u6d4b\u8bd5\u547d\u4ee4\u3002\u6700\u7ec8\uff0c\u5f53\u6240\u6709\u865a\u62df\u73af\u5883\u4e0b\u7684\u6d4b\u8bd5\u90fd\u901a\u8fc7\u540e\uff0ctox\u4f1a\u751f\u6210\u6d4b\u8bd5\u62a5\u544a\u3002\n\n\u4e0b\u9762\uff0c\u6211\u4eec\u4e3b\u8981\u901a\u8fc7\u4e00\u4e2a\u5178\u578b\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u4ecb\u7ecdtox\u662f\u5982\u4f55\u914d\u7f6e\u548c\u5de5\u4f5c\u7684\u3002\n### \u5982\u4f55\u914d\u7f6eTox\n\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5b58\u5728\u4ee5\u4e0btox.ini\u6587\u4ef6\uff1a\n```ini {class = 'line-numbers'}\n[tox]\nisolated_build = true\nenvlist = py38, py39, py310, lint\nskipsdist = false\n\n[gh-actions]\npython =\n    3.10: py310\n    3.9: py39\n    3.8: py38\n\n[testenv:lint]\nextras =\n    dev\n    doc\ndeps =\n    poetry\ncommands =\n    poetry run isort {{ cookiecutter.project_slug }}\n    poetry run black {{ cookiecutter.project_slug }} tests\n    poetry run flake8 {{ cookiecutter.project_slug }}\n    poetry build\n    poetry run mkdocs build\n    poetry run twine check dist/*\n\n[testenv]\npassenv = *\nsetenv =\n    PYTHONPATH = {toxinidir}\n    PYTHONWARNINGS = ignore\ndeps = \n    poetry\nextras =\n    test\ncommands =\n    poetry run pytest -s --cov={{ cookiecutter.project_slug }} --cov-append --cov-report=xml --cov-report term-missing tests\n</code></pre></p> <p>\u914d\u7f6e\u6587\u4ef6\u4ecd\u7136\u662f\u6807\u51c6\u7684ini\u6587\u4ef6\u683c\u5f0f\uff08tox\u4e5f\u652f\u6301\u901a\u8fc7pyproject.toml\u6765\u8fdb\u884c\u914d\u7f6e\uff09\u3002\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p>"},{"location":"chap07/#tox\u8282","title":"[tox]\u8282","text":"<p>\u5728\u6d4b\u8bd5\u4e00\u4e2apackage\u4e4b\u524d\uff0ctox\u9996\u5148\u9700\u8981\u6784\u5efa\u4e00\u4e2asdit\u5206\u53d1\u5305\u3002\u5728\u6253\u5305\u8fd9\u4ef6\u4e8b\u4e0a\uff0cpython\u8d70\u8fc7\u4e86\u5f88\u957f\u7684\u4e00\u6bb5\u5386\u7a0b\uff0c\u6253\u5305\u5de5\u5177\u548c\u6807\u51c6\u4e5f\u7ecf\u5386\u4e86\u5f88\u591a\u53d8\u5316\uff0c\u8fd9\u4e9b\u6211\u4eec\u5c06\u7528\u4e13\u95e8\u7684\u4e00\u7ae0\u6765\u4ecb\u7ecd\u3002\u73b0\u5728\u6211\u4eec\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u6700\u65b0\u7684\u6807\u51c6\u662fPEP517\u548cPEP518\uff0ctox\u5df2\u7ecf\u652f\u6301\u8fd9\u4e24\u4e2a\u6807\u51c6\u3002\u4f46\u662f\uff0c\u5982\u679c\u9879\u76ee\u672c\u8eab\u4e0d\u652f\u6301\u8fd9\u4e24\u4e2aPEP\uff0c\u90a3\u4e48tox\u5fc5\u987b\u56de\u5230\u4e4b\u524d\u7684\u6253\u5305\u65b9\u5f0f\u3002</p> <p>\u56e0\u6b64\uff0ctox\u5f15\u5165\u4e86isolated_build\u8fd9\u4e2a\u9009\u9879\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0ctox\u4f1a\u4f7f\u7528PEP517\u548cPEP518\u7684\u65b9\u5f0f\u6765\u6253\u5305\u9879\u76ee\u3002\u5982\u679c\u8bbe\u7f6e\u4e3afalse\uff0ctox\u4f1a\u4f7f\u7528\u4f20\u7edf\u7684\u65b9\u5f0f(setup.py)\u6765\u6253\u5305\u9879\u76ee\u3002\u5982\u679c\u901a\u8fc7poetry\u521b\u5efa\u9879\u76ee\uff0c\u5e76\u4e14\u5728pyproject.toml\u4e2d\u8bbe\u7f6e\u4e86requires\u548cbuild-backend\u9879\u7684\u8bdd\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u9700\u8981\u8bbe\u7f6eisolated_build\u4e3atrue\u7684\u3002</p> <p>\u5728\u6240\u6709ppw\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u90fd\u8bbe\u7f6e\u4e86isolated_build\u4e3atrue\uff0c\u8fd9\u6837\u624d\u4e0epyproject.toml\u7684\u8bbe\u7f6e\u4e00\u81f4\u3002</p> <p>envlist\u9009\u9879\u7684\u542b\u4e49\u6b63\u5982\u5b83\u7684\u540d\u5b57\u6240\u793a\u3002\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e86py38, py39, p310\u548clint\u8fd94\u4e2a\u73af\u5883\u3002\u5b83\u4eec\u4e5f\u662f\u865a\u62df\u73af\u5883\u7684\u540d\u5b57\uff0c\u5176\u4e2dpy38, py39, py310\u5bf9\u5e94\u7684python\u7684\u7248\u672c\u662f3.8, 3.9, 3.10\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u6307\u5b9a\u4e86\u4e00\u4e2alint\u73af\u5883\uff0c\u5b83\u662f\u7528\u6765\u6267\u884c\u4ee3\u7801\u68c0\u67e5\u7684\u3002\u6211\u4eec\u6ca1\u6709\u4e3a\u5b83\u4e13\u95e8\u6307\u5b9apython\u7684\u7248\u672c\uff0c\u56e0\u6b64\u5b83\u4f1a\u4f7f\u7528\u5f53\u524d\u7684python\u7248\u672c\u3002</p> <p>\u9ed8\u8ba4\u5730\uff0ctox\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa.tox\u76ee\u5f55\uff0c\u4e0a\u8ff0\u865a\u62df\u73af\u5883\u5c31\u521b\u5efa\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff1a <pre><code>$ll .tox\n\ntotal 36\ndrwxrwxr-x  9 aaron aaron 4096 Jan 20 23:48 ./\ndrwxrwxr-x 12 aaron aaron 4096 Jan 20 23:48 ../\ndrwxrwxr-x  5 aaron aaron 4096 Jan 20 23:47 .package/\n-rwxrwxr-x  1 aaron aaron    0 Jan 20 23:47 .package.lock*\ndrwxrwxr-x  3 aaron aaron 4096 Jan 20 23:47 .tmp/\ndrwxrwxr-x  2 aaron aaron 4096 Jan 20 23:47 dist/\ndrwxrwxr-x  6 aaron aaron 4096 Jan 20 23:48 lint/\ndrwxrwxr-x  2 aaron aaron 4096 Jan 20 23:47 log/\ndrwxrwxr-x  7 aaron aaron 4096 Jan 20 23:47 py38/\ndrwxrwxr-x  7 aaron aaron 4096 Jan 20 23:48 py39/\n</code></pre> \u5217\u76ee\u5f55\u65f6\uff0c\u663e\u793a\u51fa\u6765\u5b58\u5728lint, py38\u548cpy39\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u67e5\u770b\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u4e0b\u7684python\u7248\u672c\u3002\u4f46\u662f\uff0c\u6211\u4eec\u6ca1\u6709\u770b\u5230py310\uff0c\u8fd9\u91cc\u56e0\u4e3a\u5728\u6211\u6d4b\u8bd5\u65f6\uff0c\u7cfb\u7edf\u8fd8\u6ca1\u6709\u5b89\u88c5python 3.10\u8fd9\u4e2a\u7248\u672c\uff0c\u56e0\u6b64tox\u4f1a\u8df3\u8fc7\u8fd9\u4e2a\u7248\u672c\u3002</p> <p>skipsdist\u9009\u9879\u7528\u6765\u6307\u793atox\u662f\u5426\u8981\u8df3\u8fc7\u6784\u5efasdist\u5206\u53d1\u5305\u7684\u6b65\u9aa4\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u4e3b\u8981\u662f\u4e3a\u4e86\u517c\u5bb9python\u5e94\u7528\u7a0b\u5e8f\uff0c\u56e0\u4e3atox\u7684\u6d4b\u8bd5\u5bf9\u8c61\u9664\u4e86library\u4e4b\u5916\uff0c\u8fd8\u53ef\u80fd\u662f\u670d\u52a1\u6216\u8005\u7b80\u5355\u7684\u811a\u672c\u96c6\uff0c\u8fd9\u4e9b\u670d\u52a1\u6216\u8005\u811a\u672c\u96c6\u662f\u6ca1\u6709setup.py\u6587\u4ef6\uff0c\u4e5f\u65e0\u6cd5\u6784\u5efasdist\u5206\u53d1\u5305\u7684\u3002\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6807\u5fd7\u8ba9tox\u6765\u8df3\u8fc7\u6784\u5efasdist\u5206\u53d1\u5305\u7684\u6b65\u9aa4\uff0c\u90a3\u4e48tox\u4f1a\u62a5\u9519\uff1a <pre><code>ERROR: No pyproject.toml or setup.py file found. The expected locations are:\n  /Users/christophersamiullah/repos/tox_examples/basic/pyproject.toml or /Users/christophersamiullah/repos/tox_examples/basic/setup.py\nYou can\n  1. Create one:\n     https://tox.readthedocs.io/en/latest/example/package.html\n  2. Configure tox to avoid running sdist:\n     https://tox.readthedocs.io/en/latest/example/general.html\n  3. Configure tox to use an isolated_build\n</code></pre> \u8fd9\u4e2a\u9009\u9879\u5728tox\u4e2d\u662f\u9ed8\u8ba4\u4e3afalse\u7684\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u987b\u914d\u7f6e\u3002\u6211\u4eec\u51fa\u4e8e\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3tox\u5de5\u4f5c\u539f\u7406\u7684\u76ee\u7684\u4ecb\u7ecd\u5b83</p>"},{"location":"chap07/#testenv","title":"[testenv]","text":"<p>\u8fd9\u4e00\u8282\u7684\u914d\u7f6e\u9879\u9002\u7528\u4e8e\u6240\u6709\u7684\u865a\u62df\u73af\u5883\u3002\u5982\u679c\u5728\u67d0\u4e2a\u865a\u62df\u73af\u5883\u4e0b\u5b58\u5728\u7279\u522b\u7684\u9009\u9879\u548c\u52a8\u4f5c\uff0c\u9700\u8981\u8c61[testenv:lint]\u90a3\u6837\u5b9a\u4e49\u5728\u81ea\u5df1\u7684\u8282\u4e2d\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u8fd8\u989d\u5916\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\u5b57\u6bb5\u3002\u6bd4\u5982\u8bbe\u7f6e\u4e86PYTHONPATH\uff0c\u53e6\u5916\u4e5f\u5ffd\u7565\u4e86\u4e00\u4e9b\u8b66\u544a\u4fe1\u606f\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u4e00\u4e9b\u5e93\u6ca1\u6709\u66f4\u65b0\uff0c\u90a3\u4e48\u5c06\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6253\u5370\u5927\u91cf\u7684deprecation\u8b66\u544a\uff0c\u4ece\u800c\u5e72\u6270\u6211\u4eec\u68c0\u67e5\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u5e94\u8be5\u81f3\u5c11\u5728\u6d4b\u8bd5\u4e2d\u6253\u5f00\u4e00\u6b21\u8fd9\u79cd\u8b66\u544a\uff0c\u4ee5\u4fbf\u77e5\u9053\u54ea\u4e9b\u7528\u6cd5\u5df2\u7ecf\u9700\u8981\u66f4\u65b0\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0ctox\u662f\u4e0d\u4f1a\u628a\u5bbf\u4e3b\u673a\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u4f20\u9012\u7ed9\u6d4b\u8bd5\u73af\u5883\u7684\u3002\u4f46\u6709\u4e00\u4e9b\u60c5\u51b5\uff0c\u6bd4\u5982\u91cd\u8981\u670d\u52a1\u7684\u8d26\u53f7\u548c\u53e3\u4ee4\uff0c\u5e76\u4e0d\u9002\u5408\u5199\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u53ea\u80fd\u914d\u7f6e\u5728\u5bbf\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7passenv\u9009\u9879\u6765\u6307\u5b9a\u9700\u8981\u4f20\u9012\u7684\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u4e2a\u9009\u9879\u7684\u503c\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u662f\u5355\u4e2a\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4e5f\u53ef\u4ee5\u8c61\u793a\u4f8b\u4e2d\u90a3\u6837\uff0c\u662f\u4e00\u4e2a\u901a\u914d\u7b26\u3002</p> <p>Info</p> <p>\u5728\u56e2\u961f\u5f00\u53d1\u4e2d\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5f00\u53d1\u8005\u90fd\u6709\u6743\u63a5\u89e6\u5230\u91cd\u8981\u670d\u52a1\u7684\u8d26\u53f7\u4e0e\u53e3\u4ee4\u3002\u5982\u679c\u8fd9\u4e9b\u79d8\u5bc6\u4fe1\u606f\u914d\u7f6e\u5728\u4ee3\u7801\u6587\u4ef6\u6216\u8005\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5c31\u4f1a\u5bfc\u81f4\u8fd9\u4e9b\u79d8\u5bc6\u66b4\u9732\u7ed9\u4e86\u6240\u6709\u7684\u5f00\u53d1\u8005\u3002\u6b64\u5916\uff0c\u5982\u679c\u4ee3\u7801\u4ed3\u5e93\u4f7f\u7528\u7684\u662fgitlab\uff0c\u8fd8\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u4fe1\u606f\u6cc4\u9732\u5230\u4e92\u8054\u7f51\u4e0a\u3002\u6b63\u786e\u7684\u4f5c\u6cd5\u662f\u5c06\u8fd9\u4e9b\u91cd\u8981\u4fe1\u606f\u4ec5\u4ec5\u914d\u7f6e\u5728\u5bbf\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u53ea\u6709\u6709\u6743\u9650\u8bbf\u95ee\u90a3\u53f0\u673a\u5668\u7684\u4eba\u624d\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u79d8\u5bc6\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u6807\u51c6\u7684\u505a\u6cd5\uff0c\u4e5f\u5f97\u5230\u4e86github CI\u7684\u652f\u6301\u3002\u5728github CI\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728workflow\u6587\u4ef6\u4e2d\u4f7f\u7528env\u9009\u9879\u6765\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\uff0c\u518d\u7ecf\u7531tox\u628a\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4f20\u9012\u7ed9\u6d4b\u8bd5\u73af\u5883\u3002</p> <p>deps\u9009\u9879\u58f0\u660e\u4e86\u8981\u5728\u865a\u62df\u73af\u5883\u4e2d\u9700\u8981\u5b89\u88c5\u7684python\u5e93\u3002\u4e0d\u540c\u7684\u6d4b\u8bd5\u9700\u8981\u7684\u4f9d\u8d56\u53ef\u80fd\u5404\u4e0d\u76f8\u540c\uff0c\u4f46\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6211\u4eec\u53ea\u9700\u8981\u4e00\u4e2a\u5171\u540c\u7684\u4f9d\u8d56\uff0c\u5373poetry\u3002\u56e0\u4e3a\u540e\u9762\u7684\u6d4b\u8bd5\u547d\u4ee4\uff0c\u6211\u4eec\u90fd\u4f1a\u901a\u8fc7poetry\u6765\u8c03\u7528\u3002</p> <p>tox\u5728\u5b89\u88c5\u88ab\u6d4b\u8bd5\u5305\u65f6\uff0c\u4e00\u822c\u662f\u4e0d\u5b89\u88c5\u58f0\u660e\u4e3aextra\u4f9d\u8d56\u7684\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u8fd0\u884c\u6d4b\u8bd5\u548c\u8fdb\u884clint\uff0c\u6211\u4eec\u5fc5\u987b\u5b89\u88c5pytest, flake8\u8fd9\u4e9b\u5e93\u3002\u5728ppw\u751f\u6210\u7684\u5de5\u7a0b\u4e2d\uff0c\u8fd9\u4e9b\u4f9d\u8d56\u88ab\u5f52\u7c7b\u4e3adev, test\u548cdoc\u8fd9\u4e9bextra\u4f9d\u8d56\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u5fc5\u987b\u5728\u6d4b\u8bd5\u4e2d\u5b89\u88c5\u3002\u5176\u4e2dtest\u4f9d\u8d56\u662f\u6240\u6709\u7684\u73af\u5883\u90fd\u9700\u8981\u7684\uff0c\u800cdev\u548cdoc\u5219\u662flint\u65f6\u6240\u9700\u8981\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5728[testenv]\u4e2d\u58f0\u660e\u4f9d\u8d56\u5230test\uff0c\u800c\u53ea\u5728[testenv:lint]\u4e2d\u4f9d\u8d56\u5230dev\u548cdoc\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662fcommands\u5b57\u6bb5\u3002\u8fd9\u662f\u771f\u6b63\u6267\u884c\u6d4b\u8bd5\u6216\u8005lint\u7684\u5730\u65b9\u3002\u8fd9\u91cc\u7684\u547d\u4ee4\u662f\uff1a</p> <p><pre><code>commands =\n    poetry run pytest -s --cov=%package_under_test% --cov-append --cov-report=xml --cov-report term-missing tests\n</code></pre> \"-s\" \u662f\u544a\u8bc9pytest\u4e0d\u8981\u6355\u83b7\u63a7\u5236\u53f0\u8f93\u5165\u8f93\u51fa\u3002</p> <p>\u5728ppw\u751f\u6210\u7684\u5de5\u7a0b\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86pytest-coverage\u63d2\u4ef6\uff0c\u56e0\u6b64\uff0c\u901a\u8fc7\u9002\u5f53\u7684\u914d\u7f6e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6d4b\u8bd5\u65f6\u540c\u65f6\u5b8c\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u7edf\u8ba1\u3002--cov\u7528\u6765\u6307\u793a\u4ee3\u7801\u8986\u76d6\u7684\u8303\u56f4\uff0c\u8fd9\u91cc%package_under_test%\u9700\u8981\u66ff\u6362\u6210\u4e3a\u6211\u4eec\u7684\u5e93\u540d\u5b57\u3002--cov-append\u8868\u660e\u6b64\u6b21\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u5c06\u8ffd\u52a0\u5230\u4e4b\u524d\u7684\u7edf\u8ba1\u6570\u636e\u4e2d\uff0c\u800c\u4e0d\u662f\u5b8c\u5168\u66ff\u6362\u4e4b\u524d\u7684\u6570\u636e\u3002--cov-report\u5c06\u6d4b\u8bd5\u6570\u636e\u8f93\u51fa\u4e3axml\u683c\u5f0f\u3002--cov-report\u8868\u660e\u5e94\u8be5\u5982\u4f55\u751f\u6210\u62a5\u544a\u3002</p> <p>\u6700\u540e\uff0ctests\u662f\u6211\u4eec\u6d4b\u8bd5\u4ee3\u7801\u6240\u5728\u7684\u6587\u4ef6\u5939\u3002</p>"},{"location":"chap07/#testenvlint","title":"[testenv.lint]","text":"<p>\u8fd9\u4e00\u8282\u7684\u8bed\u6cd5\u4e0e[testenv]\u5e76\u65e0\u4e8c\u81f4\u3002\u53ea\u4e0d\u8fc7\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u4e0d\u4e00\u6837\u3002\u8fd9\u91cc\u5c31\u4e0d\u518d\u4e00\u4e00\u89e3\u91ca\u3002</p>"},{"location":"chap08/","title":"\u7b2c\u516b\u7ae0 \u4ee3\u7801\u7248\u672c\u7ba1\u7406","text":""},{"location":"chap08/#\u7248\u672c\u63a7\u5236\u57fa\u4e8egit\u548cgithub","title":"\u7248\u672c\u63a7\u5236\u2014\u2014\u57fa\u4e8eGit\u548cGithub","text":""},{"location":"chap08/#\u7248\u672c\u63a7\u5236\u7684\u610f\u4e49","title":"\u7248\u672c\u63a7\u5236\u7684\u610f\u4e49","text":"<p>\u4ec0\u4e48\u662f\u201c\u7248\u672c\u63a7\u5236\u201d\uff1f\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u5173\u5fc3\u5b83\u5462\uff1f</p> <p>\u7248\u672c\u63a7\u5236\u662f\u4e00\u79cd\u8bb0\u5f55\u4e00\u4e2a\u6216\u82e5\u5e72\u6587\u4ef6\u5185\u5bb9\u53d8\u5316\uff0c\u4ee5\u4fbf\u5c06\u6765\u67e5\u9605\u7279\u5b9a\u7248\u672c\u4fee\u8ba2\u60c5\u51b5\u7684\u7cfb\u7edf\u3002\u5728\u672c\u4e66\u5199\u4f5c\u65f6\uff0c\u4f5c\u8005\u5c31\u4f7f\u7528\u4e86\u7248\u672c\u63a7\u5236\uff0c\u5305\u62ec\u6b63\u6587\u5185\u5bb9\u548c\u9644\u5e26\u6e90\u7801\u3002</p> <p>\u5982\u679c\u4f60\u662f\u4f4d\u56fe\u5f62\u6216\u7f51\u9875\u8bbe\u8ba1\u5e08\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u4fdd\u5b58\u67d0\u4e00\u5e45\u56fe\u7247\u6216\u9875\u9762\u5e03\u5c40\u6587\u4ef6\u7684\u6240\u6709\u4fee\u8ba2\u7248\u672c\uff08\u8fd9\u6216\u8bb8\u662f\u4f60\u975e\u5e38\u6e34\u671b\u62e5\u6709\u7684\u529f\u80fd\uff09\uff0c\u91c7\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff08VCS\uff09\u662f\u4e2a\u660e\u667a\u7684\u9009\u62e9\u3002\u6709\u4e86\u5b83\u4f60\u5c31\u53ef\u4ee5\u5c06\u9009\u5b9a\u7684\u6587\u4ef6\u6062\u590d\u5230\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u751a\u81f3\u5c06\u6574\u4e2a\u9879\u76ee\u90fd\u56de\u9000\u5230\u8fc7\u53bb\u67d0\u4e2a\u65f6\u95f4\u70b9\u7684\u72b6\u6001\uff0c\u4f60\u53ef\u4ee5\u6bd4\u8f83\u6587\u4ef6\u7684\u53d8\u5316\u7ec6\u8282\uff0c\u67e5\u51fa\u6700\u540e\u662f\u8c01\u4fee\u6539\u4e86\u54ea\u4e2a\u5730\u65b9\uff0c\u4ece\u800c\u627e\u51fa\u5bfc\u81f4\u602a\u5f02\u95ee\u9898\u51fa\u73b0\u7684\u539f\u56e0\uff0c\u53c8\u662f\u8c01\u5728\u4f55\u65f6\u62a5\u544a\u4e86\u67d0\u4e2a\u529f\u80fd\u7f3a\u9677\u7b49\u7b49\u3002\u4f7f\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u901a\u5e38\u8fd8\u610f\u5473\u7740\uff0c\u5c31\u7b97\u4f60\u4e71\u6765\u4e00\u6c14\u628a\u6574\u4e2a\u9879\u76ee\u4e2d\u7684\u6587\u4ef6\u6539\u7684\u6539\u5220\u7684\u5220\uff0c\u4f60\u4e5f\u7167\u6837\u53ef\u4ee5\u8f7b\u677e\u6062\u590d\u5230\u539f\u5148\u7684\u6837\u5b50\uff0c\u4f46\u989d\u5916\u589e\u52a0\u7684\u5de5\u4f5c\u91cf\u5374\u5fae\u4e4e\u5176\u5fae\u3002</p> <p>\u8bb8\u591a\u4eba\u4e60\u60ef\u7528\u590d\u5236\u6574\u4e2a\u9879\u76ee\u76ee\u5f55\u7684\u65b9\u5f0f\u6765\u4fdd\u5b58\u4e0d\u540c\u7684\u7248\u672c\uff0c\u6216\u8bb8\u8fd8\u4f1a\u6539\u540d\u52a0\u4e0a\u5907\u4efd\u65f6\u95f4\u4ee5\u793a\u533a\u522b\u3002\u8fd9\u4e48\u505a\u552f\u4e00\u7684\u597d\u5904\u5c31\u662f\u7b80\u5355\uff0c\u4f46\u662f\u7279\u522b\u5bb9\u6613\u72af\u9519\u3002\u6709\u65f6\u5019\u4f1a\u6df7\u6dc6\u6240\u5728\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u4f1a\u5199\u9519\u6587\u4ef6\u6216\u8005\u8986\u76d6\u610f\u60f3\u5916\u7684\u6587\u4ef6\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4eba\u4eec\u5f88\u4e45\u4ee5\u524d\u5c31\u5f00\u53d1\u4e86\u8bb8\u591a\u79cd\u672c\u5730\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u5927\u591a\u90fd\u662f\u91c7\u7528\u67d0\u79cd\u7b80\u5355\u7684\u6570\u636e\u5e93\u6765\u8bb0\u5f55\u6587\u4ef6\u7684\u5386\u6b21\u66f4\u65b0\u5dee\u5f02\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u6700\u6d41\u884c\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u53ef\u80fd\u662fRCS\u3002\u5176\u5de5\u4f5c\u539f\u7406\u662f\u5728\u786c\u76d8\u4e0a\u4fdd\u5b58\u8865\u4e01\u96c6\uff08\u8865\u4e01\u662f\u6307\u6587\u4ef6\u4fee\u8ba2\u524d\u540e\u7684\u53d8\u5316\uff09\uff1b\u901a\u8fc7\u5e94\u7528\u6240\u6709\u7684\u8865\u4e01\uff0c\u53ef\u4ee5\u91cd\u65b0\u8ba1\u7b97\u51fa\u5404\u4e2a\u7248\u672c\u7684\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>RCS\u7684\u7f3a\u70b9\u662f\u5b83\u4e0d\u652f\u6301\u5206\u652f\u64cd\u4f5c(\u6211\u4eec\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u4ec0\u4e48\u662f\u5206\u652f\u64cd\u4f5c)\uff0c\u52a0\u4e0a\u5b83\u53ea\u80fd\u7ba1\u7406\u672c\u5730\u6587\u4ef6\uff0c\u65e0\u6cd5\u652f\u6301\u591a\u4eba\u534f\u4f5c\u3002\u56e0\u6b64\u53c8\u53d1\u5c55C/S\u67b6\u6784\u7684\u96c6\u4e2d\u5316\u7248\u672c\u63a7\u5236\u7cfb\u7edf(Centralized Version Control Systems\uff0c\u7b80\u79f0 CVCS\uff09\uff0c\u6bd4\u5982CVS\uff0c subversion\u4ee5\u53caperforce\u3002\u8fd9\u4e9b\u7cfb\u7edf\u7684\u57fa\u672c\u539f\u7406\u662f\uff0c\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u670d\u52a1\u5668\u5145\u5f53\u96c6\u4e2d\u5f0f\u7684\u6587\u4ef6\u5b58\u50a8\u548c\u7248\u672c\u5e93\uff0c\u6240\u6709\u7684\u6587\u4ef6\u90fd\u5fc5\u987b\u901a\u8fc7\u8fd9\u53f0\u670d\u52a1\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6709\u6548\u5730\u63a7\u5236\u8c01\u53ef\u4ee5\u5e72\u4ec0\u4e48\u4e8b\u60c5\u3002CVCS\u7684\u7f3a\u70b9\u662f\u5fc5\u987b\u8054\u7f51\u624d\u80fd\u5de5\u4f5c\uff0c\u5982\u679c\u5728\u5c40\u57df\u7f51\u73af\u5883\u4e0b\u642d\u5efa\u670d\u52a1\u5668\uff0c\u8fd8\u9700\u8981\u4e00\u53f024\u5c0f\u65f6\u5f00\u673a\u7684\u7535\u8111\u4f5c\u4e3a\u670d\u52a1\u5668\uff0c\u800c\u4e14\u6240\u6709\u7684\u6587\u4ef6\u90fd\u5fc5\u987b\u901a\u8fc7\u8fd9\u53f0\u670d\u52a1\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u4f1a\u9020\u6210\u8bbf\u95ee\u901f\u5ea6\u7684\u74f6\u9888\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4eba\u4eec\u53c8\u5f00\u53d1\u4e86\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf(Distributed Version Control Systems\uff0c\u7b80\u79f0 DVCS\uff09\u3002\u6bd4\u5982Git\uff0cMercurial\uff0cBazaar\u7b49\u3002DVCS\u7684\u57fa\u672c\u539f\u7406\u662f\uff0c\u6bcf\u4e2a\u5f00\u53d1\u8005\u7684\u7535\u8111\u4e0a\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7248\u672c\u5e93\uff0c\u8fd9\u6837\uff0c\u5f53\u67d0\u4e2a\u5f00\u53d1\u8005\u514b\u9686\u4e86\u67d0\u4e2a\u9879\u76ee\u540e\uff0c\u5c31\u62e5\u6709\u4e86\u8fd9\u4e2a\u9879\u76ee\u7684\u5b8c\u6574\u5386\u53f2\u7248\u672c\u3002\u5982\u679c\u5728\u672c\u5730\u4f5c\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u60f3\u8981\u4e0e\u5176\u4ed6\u4eba\u5206\u4eab\uff0c\u53ea\u9700\u8981\u628a\u672c\u5730\u7684\u7248\u672c\u5e93\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u5373\u53ef\u3002\u8fd9\u6837\uff0c\u5176\u4ed6\u4eba\u5c31\u53ef\u4ee5\u4ece\u670d\u52a1\u5668\u4e0a\u6293\u53d6\u6700\u65b0\u7684\u7248\u672c\u5230\u672c\u5730\uff0c\u7136\u540e\u4e0e\u81ea\u5df1\u7684\u4fee\u6539\u8fdb\u884c\u5408\u5e76\uff0c\u518d\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u8fd9\u6837\uff0c\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u5f00\u53d1\u6a21\u5f0f\u3002</p> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u53ea\u4ecb\u7ecdGit\u8fd9\u4e00\u79cd\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u3002</p>"},{"location":"chap08/#\u7248\u672c\u7ba1\u7406\u5de5\u5177git","title":"\u7248\u672c\u7ba1\u7406\u5de5\u5177Git","text":"<p>Git\u8bde\u751f\u4e8e2005\u5e74\uff0c\u5b83\u7684\u5f00\u53d1\u8005\u540c\u65f6\u4e5f\u662fLinux\u64cd\u4f5c\u7cfb\u7edf\u7684\u7f14\u9020\u8005Linus Torvalds\u3002\u5b83\u6027\u80fd\u4f18\u8d8a\uff0c\u9002\u5408\u7ba1\u7406\u5927\u9879\u76ee\uff0c\u6709\u7740\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u975e\u7ebf\u6027\u5206\u652f\u7ba1\u7406\u7cfb\u7edf\uff0c\u662f\u76ee\u524d\u4e16\u754c\u4e0a\u6700\u6d41\u884c\u7684\u4ee3\u7801\u7ba1\u7406\u7cfb\u7edf\u4e4b\u4e00\u3002</p> <p>Git\u5728\u63a5\u53e3\u4e0a\u57fa\u672c\u5ef6\u7eed\u4e86\u5927\u591a\u6570\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7684\u6982\u5ff5\u548cAPI\uff0c\u4f46\u5728\u5e95\u5c42\u8bbe\u8ba1\u4e0a\u5374\u98ce\u683c\u8fe5\u5f02\uff0c\u4ece\u800c\u6210\u5c31\u4e86\u5b83\u5f3a\u5927\u7684\u5f15\u64ce\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff1a</p> <ol> <li> <p>\u76f4\u63a5\u8bb0\u5f55\u5feb\u7167\uff0c\u800c\u975e\u5dee\u5f02\u6bd4\u8f83\uff1a\u5176\u4ed6\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u5c06\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u7684\u5dee\u5f02\u63d0\u53d6\u4e3a\u589e\u91cf\u8fdb\u884c\u8bb0\u5f55\uff0c\u5f53\u8981\u63d0\u53d6\u6700\u65b0\u6587\u4ef6\u65f6\uff0c\u9700\u8981\u4ece\u6700\u521d\u59cb\u7684\u7248\u672c\u5f00\u59cb\uff0c\u628a\u5230\u6700\u65b0\u7684\u7248\u672c\u4e4b\u95f4\u7684\u6240\u6709\u5dee\u5f02\u4e00\u8def\u5408\u5e76\u8d77\u6765\u3002\u65e9\u671f\u8ba1\u7b97\u673a\u5b58\u50a8\u8d44\u6e90\u6bd4\u8f83\u5b9d\u8d35\uff0c\u56e0\u6b64\u524d\u51e0\u4ee3\u7684\u7248\u672c\u63a7\u5236\u8bbe\u8ba1\u91c7\u7528\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u51cf\u5c11\u5bf9\u5b58\u50a8\u8d44\u6e90\u7684\u5360\u7528\u3002Git\u66f4\u50cf\u662f\u628a\u6587\u4ef6\u5f53\u4f5c\u662f\u5bf9\u7279\u5b9a\u6587\u4ef6\u67d0\u4e00\u65f6\u523b\u7684\u5feb\u7167\u3002\u6bcf\u6b21\u4f60\u63d0\u4ea4\u66f4\u65b0\uff0c\u6216\u8005\u4fdd\u5b58\u9879\u76ee\u7684\u5f53\u524d\u72b6\u6001\uff0cGit\u90fd\u4f1a\u5bf9\u5f53\u65f6\u7684\u5168\u90e8\u6587\u4ef6\u5236\u4f5c\u4e00\u4e2a\u5feb\u7167\u5e76\u4fdd\u5b58\u8fd9\u4e2a\u5feb\u7167\u7684\u7d22\u5f15\u3002\u4e3a\u4e86\u9ad8\u6548\uff0c\u5982\u679c\u6587\u4ef6\u6ca1\u6709\u53d8\u5316\uff0cGit\u4e0d\u4f1a\u518d\u6b21\u4fdd\u5b58\uff0c\u800c\u662f\u53ea\u4fdd\u5b58\u4e00\u4e2a\u94fe\u63a5\u5230\u524d\u4e00\u4e2a\u4e00\u6a21\u4e00\u6837\u7684\u6587\u4ef6\u3002Git\u7684\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97Git\u975e\u5e38\u9002\u5408\u5904\u7406\u5927\u578b\u9879\u76ee\uff0c\u800c\u4e14\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p> </li> <li> <p>\u51e0\u4e4e\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u672c\u5730\u6267\u884c\uff1aGit\u7684\u8bbe\u8ba1\u76ee\u6807\u4e4b\u4e00\u5c31\u662f\u4fdd\u8bc1\u901f\u5ea6\u3002Git\u7684\u4e3b\u8981\u64cd\u4f5c\u90fd\u53ea\u9700\u8981\u8bbf\u95ee\u672c\u5730\u6587\u4ef6\u548c\u8d44\u6e90\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u4fe1\u606f\u90fd\u53ef\u4ee5\u5728\u672c\u5730\u627e\u5230\uff0c\u6240\u4ee5Git\u975e\u5e38\u5feb\u3002Git\u7684\u53e6\u4e00\u4e2a\u8bbe\u8ba1\u76ee\u6807\u662f\u80fd\u591f\u53ef\u9760\u5730\u5904\u7406\u5404\u79cd\u975e\u7ebf\u6027\u7684\u5f00\u53d1\uff08\u5206\u652f\uff09\u5386\u53f2\u3002Git\u7684\u5206\u652f\u548c\u5408\u5e76\u64cd\u4f5c\u975e\u5e38\u9ad8\u6548\u3002</p> </li> <li> <p>Git\u7684\u5b8c\u6574\u6027\u4fdd\u8bc1: Git\u4e2d\u7684\u6240\u6709\u6570\u636e\u5728\u5b58\u50a8\u524d\u90fd\u8ba1\u7b97\u6821\u9a8c\u548c\uff0c\u7136\u540e\u4ee5\u6821\u9a8c\u548c\u6765\u5f15\u7528\u3002\u8fd9\u610f\u5473\u7740\uff0cGit\u5728\u5b58\u50a8\u548c\u4f20\u8f93\u6570\u636e\u65f6\uff0c\u4f1a\u81ea\u52a8\u53d1\u73b0\u6570\u636e\u7684\u635f\u574f\u3002</p> </li> <li> <p>\u8ffd\u52a0\u5f0f\u64cd\u4f5c\uff1a\u4f60\u6267\u884c\u7684 Git \u64cd\u4f5c\uff0c\u51e0\u4e4e\u53ea\u5f80 Git \u6570\u636e\u5e93\u4e2d\u6dfb\u52a0\u6570\u636e\u3002\u4e5f\u5c31\u662f\u8bf4 Git \u51e0\u4e4e\u4e0d\u4f1a\u6267\u884c\u4efb\u4f55\u53ef\u80fd\u5bfc\u81f4\u6587\u4ef6\u4e0d\u53ef\u6062\u590d\u7684\u64cd\u4f5c\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u4f7f\u7528 Git \u6210\u4e3a\u4e00\u4e2a\u5b89\u5fc3\u6109\u60a6\u7684\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u6211\u4eec\u6df1\u77e5\u53ef\u4ee5\u5c3d\u60c5\u505a\u5404\u79cd\u5c1d\u8bd5\uff0c\u800c\u6ca1\u6709\u628a\u4e8b\u60c5\u5f04\u7cdf\u7684\u5371\u9669\u3002</p> </li> </ol> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u4e3b\u8981\u6309\u7167git\u7684\u4f7f\u7528\u573a\u666f\u987a\u5e8f\uff0c\u7531\u6d45\u5165\u6df1\u5730\u4ecb\u7ecdgit\u547d\u4ee4\u4e0e\u6280\u5de7\u3002</p>"},{"location":"chap08/#\u521b\u5efagit\u4ed3\u5e93","title":"\u521b\u5efagit\u4ed3\u5e93","text":"<p>Git\u4ed3\u5e93\uff08\u6709\u4eba\u4e5f\u79f0\u4f5c\u5b58\u50a8\u5e93\uff09\u662f\u9879\u76ee\u7684\u865a\u62df\u5b58\u50a8\u3002\u5b83\u5141\u8bb8\u60a8\u4fdd\u5b58\u4ee3\u7801\u7684\u7248\u672c\uff0c\u60a8\u53ef\u4ee5\u5728\u9700\u8981\u65f6\u8bbf\u95ee\u8fd9\u4e9b\u7248\u672c\u3002</p> <p>\u901a\u5e38\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u5f0f\u6765\u521b\u5efagit\u4ed3\u5e93\uff0c\u53d6\u51b3\u4e8e\u4f60\u7684\u5f00\u53d1\u5de5\u4f5c\u662f\u5982\u4f55\u5f00\u59cb\u7684\u3002\u4e0d\u8fc7\uff0c\u5728\u6b63\u5f0f\u4ecb\u7ecd\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u770b\u4e00\u4e2a\u6700\u57fa\u7840\u7684\u8bbe\u7f6e\u547d\u4ee4\u3002</p> <p>\u5f53\u4f60\u5728\u67d0\u53f0\u673a\u5668\u4e0a\uff08\u6216\u8005\u67d0\u4e2a\u5de5\u7a0b\u4e2d\uff09\u521d\u59cb\u4f7f\u7528git\u65f6\uff0c\u6211\u4eec\u9700\u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u8bbe\u7f6e\u4f60\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u5730\u5740\u3002\u8fd9\u4e9b\u4fe1\u606f\u5728\u6bcf\u6b21\u63d0\u4ea4\u65f6\u90fd\u4f1a\u7528\u5230\u3002</p> <p><pre><code>$ git config --global user.name \"John Doe\"\n$ git config --global user.email johndoe@example.com\n</code></pre> \u8fd9\u91cc\u5982\u679c\u6211\u4eec\u4f7f\u7528\u4e86--global\u9009\u9879\uff0c\u5982\u6b64\u4e00\u6765\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u4ec5\u9700\u914d\u7f6e\u4e00\u6b21\u3002\u4f46\u5982\u679c\u4f60\u540c\u65f6\u4e3a\u591a\u4e2a\u9879\u76ee\u5de5\u4f5c\uff0c\u5e76\u4e14\u5e0c\u671b\u5728\u4e0d\u540c\u7684\u9879\u76ee\u4e2d\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u5730\u5740\u7684\u8bdd\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e00\u9009\u9879\u3002\u5176\u7ed3\u679c\u662f\uff0c\u8fd9\u4e9b\u914d\u7f6e\u5c06\u4f1a\u88ab\u5199\u5165\u5230\u5f53\u524d\u9879\u76ee\u7684.git/config\u6587\u4ef6\u4e2d\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u5de5\u7a0b\u3002\u5f53\u7136\uff0c\u8fd9\u79cd\u6309\u9879\u76ee\u7684\u914d\u7f6e\uff0c\u5fc5\u987b\u7b49\u5230\u9879\u76ee\u4ed3\u5e93\u8bbe\u7f6e\u5b8c\u6210\u4e4b\u540e\u624d\u53ef\u4ee5\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u4ed3\u5e93\u3002</p>"},{"location":"chap08/#\u521b\u5efa\u65b0\u7684\u672c\u5730\u4ed3\u5e93-git-init","title":"\u521b\u5efa\u65b0\u7684\u672c\u5730\u4ed3\u5e93: git init","text":"<p>\u8981\u521b\u5efa\u65b0\u7684\u5b58\u50a8\u5e93\uff0c\u60a8\u5c06\u4f7f\u7528git init\u547d\u4ee4\u3002git init\u662f\u60a8\u5728\u65b0\u5b58\u50a8\u5e93\u7684\u521d\u59cb\u8bbe\u7f6e\u671f\u95f4\u4f7f\u7528\u7684\u4e00\u6b21\u6027\u547d\u4ee4\u3002\u6267\u884c\u6b64\u547d\u4ee4\u5c06.git\u5728\u60a8\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b50\u76ee\u5f55\u3002\u8fd9\u4e5f\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4e3b\u5206\u652f\u3002 </p> <p>\u6b64\u793a\u4f8b\u5047\u8bbe\u60a8\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u73b0\u5b58\u7684\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u5e0c\u671b\u628a\u5b83\u52a0\u5165\u7684git\u7684\u7248\u672c\u63a7\u5236\u3002\u6211\u4eec\u9700\u8981\u5148\u8fdb\u5165\u8be5\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u518d\u8fd0\u884cgit init\u547d\u4ee4\u3002 <pre><code>$ cd /path/to/your/project/root\n$ git init\n</code></pre> \u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a.git\u7684\u5b50\u76ee\u5f55\u3002\u8fd9\u4e2a\u5b50\u76ee\u5f55\u542b\u6709Git\u4ed3\u5e93\u4e2d\u6240\u6709\u7684\u5fc5\u987b\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u662f Git \u4ed3\u5e93\u7684\u9aa8\u5e72\u3002\u4f46\u662f\uff0c\u5728\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u4ec5\u4ec5\u662f\u505a\u4e86\u4e00\u4e2a\u521d\u59cb\u5316\u7684\u64cd\u4f5c\uff0c\u4f60\u7684\u9879\u76ee\u91cc\u7684\u6587\u4ef6\u53d8\u5316\u8fd8\u6ca1\u6709\u88ab\u8ddf\u8e2a\uff08\u5f53\u6211\u4eec\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u514b\u9686\u65f6\uff0c\u6240\u6709\u7684\u6587\u4ef6\u53d8\u5316\u90fd\u5df2\u7ecf\u88ab\u8ddf\u8e2a\u4e86\uff09\u3002</p>"},{"location":"chap08/#\u514b\u9686\u73b0\u6709\u5b58\u50a8\u5e93-git-clone","title":"\u514b\u9686\u73b0\u6709\u5b58\u50a8\u5e93: git clone","text":"<p>\u5982\u679c\u9879\u76ee\u5df2\u7ecf\u5728\u4e2d\u592e\u5b58\u50a8\u5e93\u4e2d\u5efa\u7acb\u8d77\u6765\uff0c\u514b\u9686\u547d\u4ee4\u662f\u7528\u6237\u83b7\u53d6\u672c\u5730\u5f00\u53d1\u514b\u9686\u7684\u6700\u5e38\u7528\u65b9\u5f0f\u3002</p> <p>\u5047\u8bbegithub\u662f\u6211\u4eec\u7684\u670d\u52a1\u5668\uff0c\u6211\u4eec\u9700\u8981\u628a\u672c\u4e66\u5728github\u4e0a\u7684\u4ed3\u5e93\u514b\u9686\u5230\u672c\u5730\uff1a <pre><code>git clone git@github.com:zillionare/best-practice-python.git\n</code></pre> \u8fd9\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3abest-practice-python\u7684\u6587\u4ef6\u5939\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548cgit\u4fe1\u606f\u90fd\u5c06\u4fdd\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u65b9\u5f0f\u8fd8\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528https\u534f\u8bae\u6765\u514b\u9686\uff1a <pre><code>git clone https://github.com/zillionare/best-practice-python.git\n</code></pre> \u6216\u8005\u4f7f\u7528github CLI\u6765\u514b\u9686: <pre><code>gh repo clone zillionare/best-practice-python\n</code></pre> github CLI\u6709\u7740\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u5b83\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u81ea\u52a8\u5316\u5de5\u4f5c\uff0c\u6211\u4eec\u5c06\u7a0d\u5019\u4ecb\u7ecd\u3002</p>"},{"location":"chap08/#\u5efa\u7acb\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5173\u8054-git-remote","title":"\u5efa\u7acb\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5173\u8054: git remote","text":"<p>\u5982\u679c\u672c\u5730\u4ed3\u5e93\u662f\u901a\u8fc7git clone\u5efa\u7acb\u8d77\u6765\u7684\uff0c\u90a3\u4e48\u5b83\u5c31\u5df2\u7ecf\u548c\u8fdc\u7a0b\u4ed3\u5e93\u5efa\u7acb\u4e86\u5173\u8054\u3002\u5982\u679c\u662f\u901a\u8fc7git init\u5efa\u7acb\u8d77\u6765\u7684\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u901a\u8fc7git remote\u547d\u4ee4\u6765\u5efa\u7acb\u8fd9\u79cd\u5173\u8054\uff0c\u4ee5\u4fbf\u540e\u7eed\u6211\u4eec\u53ef\u4ee5\u5c06\u672c\u5730\u7684\u6539\u52a8\uff0c\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u3002</p> <p>\u5982\u679c\u4f60\u662f\u4e3a\u8be5\u9879\u76ee\u7b2c\u4e00\u4e2a\u521b\u5efa\u4ed3\u5e93\u7684\u4eba\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u4f60\u8fd8\u5f97\u767b\u5f55\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u4e2d\u592e\u4ed3\u5e93\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u56e2\u961f\u7684\u4e00\u5458\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u4e2d\u592e\u4ed3\u5e93\uff0c\u4f60\u9700\u8981\u77e5\u9053\u5b83\u7684URL\u3002</p> <p>\u8c61github, gitlab\uff0c\u6216\u8005bitbucket\u8fd9\u4e9b\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u90fd\u63d0\u4f9b\u4e86web\u754c\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u767b\u5f55\u5230web\u754c\u9762\u4e0a\u8fdb\u884c\u64cd\u4f5c\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u6258\u7ba1\u5e73\u53f0\u662fgithub\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684\u547d\u4ee4\u884c\u5de5\u5177github CLI\u6765\u8fdb\u884c\u64cd\u4f5c\u3002 <pre><code># \u5728github\u4e0a\u521b\u5efa\u4e00\u4e2a\u516c\u5f00\u7684\u4ed3\u5e93\uff0c\u540d\u5b57\u4e3asample\u3002\u5f88\u591a\u65f6\u5019\uff0c\u5f53\u6211\u4eec\u63d0\u5230project_slug\u65f6\uff0c\u6211\u4eec\u6307\u7684\u5c31\u662f\u8fd9\u4e2a\u4ed3\u5e93\u7684\u540d\u5b57\u3002\ngh repo create sample --public\n</code></pre> \u663e\u7136\uff0c\u4e0a\u8ff0\u547d\u4ee4\u662f\u9700\u8981\u9274\u6743\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u65e2\u7136\u5df2\u7ecf\u6709\u4e86\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u4e5f\u5f97\u5230\u4e86\u5b83\u7684URL\uff0c\u6211\u4eec\u53ef\u4ee5\u6765\u5efa\u7acb\u672c\u5730\u4e0e\u8fdc\u7a0b\u4e4b\u95f4\u7684\u5173\u8054\u4e86\uff1a ```bash {class='line-numbers'}</p>"},{"location":"chap08/#\u8bf7\u66ff\u6362\u4e0b\u9762\u8bed\u53e5\u4e2d\u7684github_user_name\u4e3a\u4f60\u7684github\u7528\u6237\u540dproject_slug\u4e3a\u4f60\u7684\u9879\u76ee\u540d","title":"\u8bf7\u66ff\u6362\u4e0b\u9762\u8bed\u53e5\u4e2d\u7684{{github_user_name}}\u4e3a\u4f60\u7684github\u7528\u6237\u540d\uff0c{{project_slug}}\u4e3a\u4f60\u7684\u9879\u76ee\u540d","text":""},{"location":"chap08/#\u6bd4\u5982-git-remote-add-origin-gitgithubcomzillionaresamplegit","title":"\u6bd4\u5982\uff0c git remote add origin git@github.com:zillionare/sample.git","text":"<p>git remote add origin git@github.com:{{github_user_name}}/{{project_slug}}.git <pre><code>\u8fd9\u4e2a\u547d\u4ee4\u8fd8\u4e3a\u8fdc\u7a0b\u4ed3\u5e93\u5b9a\u4e49\u4e86\u4e00\u4e2a\u522b\u540d\uff0c\u5373origin\u3002\u8fd9\u4e2a\u522b\u540d\u53ef\u4ee5\u662f\u4efb\u610f\u7684\uff0c\u6bd4\u5982\uff0c\u65e2\u7136\u6211\u4eec\u7684\u670d\u52a1\u5668\u4f7f\u7528\u4e86github\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u522b\u540d\u58f0\u79f0\u4e3agithub\u3002\u4e0d\u8fc7origin\u662fgit\u9ed8\u8ba4\u7684\u522b\u540d\uff0c\u56e0\u6b64\uff0c\u591a\u6570\u4eba\u4e00\u822c\u90fd\u4f7f\u7528\u8fd9\u4e2a\u522b\u540d\u3002\u5b9a\u4e49\u4e86\u522b\u540d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u5176\u5b83\u547d\u4ee4\u4e2d\u4f7f\u7528\u522b\u540d\u6765\u4ee3\u66ff\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5730\u5740\uff0c\u4ece\u800c\u53ef\u4ee5\u4f7f\u547d\u4ee4\u53d8\u7b80\u6d01\u3002\n### \u4fdd\u5b58\u66f4\u6539: add, commit, stash\u7b49\n\u5f53\u6211\u4eec\u4fee\u6539\u4e86\u5de5\u4f5c\u533a\u7684\u4e00\u4e9b\u6587\u4ef6\uff08\u5305\u62ec\u6dfb\u52a0\u548c\u5220\u9664\uff09\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u8fd9\u79cd\u66f4\u6539\u5230\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6216\u8005\u6682\u65f6\u8d2e\u85cf\u8d77\u6765\u3002\u8fd9\u5c31\u9700\u8981add, commit\u548cstash\u7b49\u547d\u4ee4\u3002\n\n```bash\n# \u5c06\u6839\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u9012\u5f52\u5730\u52a0\u5165\u8ddf\u8e2a\uff0c\u6682\u5b58\u6a21\u5f0f\n$ git add .\n\n# \u8fdb\u5165\u63d0\u4ea4\u72b6\u6001\ngit commit -m 'initial project version'\n</code></pre> \u6b64\u65f6\u7528git branch -v\u547d\u4ee4\u770b\u4e00\u4e0b\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u6211\u4eec\u5df2\u7ecf\u5904\u4e8emain\u5206\u652f\u4e0a\uff0c\u800c\u4e14\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2acommit\u3002\u5982\u679c\u5206\u652f\u540d\u662fmaster\uff0c\u5efa\u8bae\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06\u5176\u6539\u4e3amain\uff1a <pre><code>git branch -M main\n</code></pre></p> <p>Info</p> <p>\u4ece2022\u5e7410\u67081\u65e5\u8d77\uff0cgithub\u4e0a\u521b\u5efa\u7684\u65b0\u7684\u4ee3\u7801\u4ed3\u5e93\uff0c\u9ed8\u8ba4\u5206\u652f\u90fd\u662fmain\uff0c\u800c\u4e0d\u662f\u4e4b\u524d\u7684master\u3002\u4e0a\u8ff0\u66f4\u540d\u64cd\u4f5c\uff0c\u6b63\u662f\u4e3a\u4e86\u4fdd\u6301\u4e0egithub\u7684\u4e00\u81f4\u6027\u3002</p> <p>github\u5c06\u9ed8\u8ba4\u5206\u652f\u540d\u4ecemaster\u6539\u4e3amain\uff0c\u4e3b\u8981\u662f\u53d72020\u5e746\u6708\u7f8e\u56fd\u7684\"Black Lives Matter\"\u8fd0\u52a8\u7684\u5f71\u54cd\u3002\u8fd9\u4e2a\u8fd0\u52a8\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u53cd\u5bf9\u79cd\u65cf\u6b67\u89c6\uff0c\u800cmaster\u8fd9\u4e2a\u8bcd\uff0c\u6b63\u662f\u4ece\u5974\u96b6\u4e3b\u7684\u89d2\u5ea6\u6765\u547d\u540d\u7684\uff0c\u56e0\u6b64\uff0c\u5c06\u5176\u6539\u540d\u4e3amain\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6b67\u89c6\u3002</p> <p>\u53d7\"Black Lives Matter\"\u5f71\u54cd\uff0c\u9664\u4e86github, \u8bb8\u591a\u79d1\u6280\u5de8\u5934\u6216\u77e5\u540d\u8f6f\u4ef6\u4e5f\u90fd\u8c03\u6574\u4e86\u81ea\u5df1\u7684\u4e1a\u52a1\u6216\u8005\u4ea7\u54c1\u3002\u6bd4\u5982\uff0cMySQL \u5ba3\u5e03\u5220\u9664 master\u3001\u9ed1\u540d\u5355\u767d\u540d\u5355\u7b49\u672f\u8bed\uff1bLinus Torvalds \u901a\u8fc7\u4e86 Linux \u4e2d\u907f\u514d master/slave \u7b49\u672f\u8bed\u7684\u63d0\u6848\uff1b\u8fd8\u6709 Twitter \u3001GitHub\u3001\u5fae\u8f6f\u3001LinkedIn\u3001Ansible\u3001Splunk\u3001OpenZFS\u3001OpenSSL\u3001JP Morgan\u3001 Android \u79fb\u52a8\u64cd\u4f5c\u7cfb\u7edf\u3001Go \u7f16\u7a0b\u8bed\u8a00\u3001PHPUnit \u548c Curl \u7b49\u5ba3\u5e03\u8981\u5bf9\u6b64\u7c7b\u672f\u8bed\u8fdb\u884c\u5220\u9664\u6216\u66f4\u6539\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8ba1\u7b97\u673a\u672f\u8bed\u653f\u6cbb\u6b63\u786e\u6027\u65e9\u5df2\u4e0d\u662f\u65b0\u9c9c\u8bdd\u9898\u30022004\u5e74\uff0c\u201cmaster/slave\u201d \u66fe\u88ab\u5168\u7403\u8bed\u8a00\u68c0\u6d4b\u673a\u6784\u8bc4\u4e3a\u5e74\u5ea6\u6700\u4e0d\u653f\u6cbb\u6b63\u786e\u7684\u5341\u5927\u8bcd\u6c47\u4e4b\u4e00\u30022018\u5e74\uff0cIETF\u4e5f\u5728\u8349\u6848\u5f53\u4e2d\u6307\u51fa\uff0c\u8981\u6c42\u5f00\u6e90\u8f6f\u4ef6\u66f4\u6539 \u201cmaster/slave\u201d \u548c \u201cblacklist/whitelist\u201d \u4e24\u9879\u8868\u8ff0\u3002\u5982\u679c\u6211\u4eec\u7684\u8f6f\u4ef6\u662f\u9762\u5411\u5168\u7403\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u8fd9\u4e9b\u672f\u8bed\uff0c\u4ee5\u514d\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u8bef\u89e3\u3002</p> <p>\u60a8\u5df2\u7ecf\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u5c06\u53d8\u66f4\u8bb0\u5f55\u5230git\u7cfb\u7edf\u4e2d\u7684\u6b65\u9aa4\u4e0d\u6b62\u4e00\u6b65\u3002\u5b9e\u9645\u4e0a\uff0cgit\u4e2d\u7684\u5f88\u591a\u64cd\u4f5c\u90fd\u662f\u591a\u9636\u6bb5\u7684\uff0c\u5e38\u5e38\u4f1a\u7ecf\u5386\u4e00\u4e2astaging\uff0c\u518dpush\u7684\u8fc7\u7a0b\u3002\u5728\u7ee7\u7eed\u4ecb\u7ecd\u5176\u5b83\u573a\u666f\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u6df1\u5165\u4ecb\u7ecd\u4e00\u4e0b\u76f8\u5173\u8054\u7684\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5: HEAD, index\u548cworking tree\u3002</p> <p>HEAD</p> <p>\u662f\u5f53\u524d\u5206\u652f\u5f15\u7528\u7684\u6307\u9488\uff0c\u5b83\u603b\u662f\u6307\u5411\u8be5\u5206\u652f\u4e0a\u7684\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u3002\u8fd9\u8868\u793aHEAD\u5c06\u662f\u4e0b\u4e00\u6b21\u63d0\u4ea4\u7684\u7236\u7ed3\u70b9\u3002\u901a\u5e38\uff0c\u7406\u89e3HEAD\u7684\u6700\u7b80\u65b9\u5f0f\uff0c\u5c31\u662f\u5c06\u5b83\u770b\u505a\u8be5\u5206\u652f\u4e0a\u7684\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u7684\u5feb\u7167\u3002</p> <p>\u7d22\u5f15</p> <p>\u7d22\u5f15\u662f\u4f60\u7684\u9884\u671f\u7684\u4e0b\u4e00\u6b21\u63d0\u4ea4\u3002\u6211\u4eec\u4e5f\u4f1a\u5c06\u8fd9\u4e2a\u6982\u5ff5\u5f15\u7528\u4e3aGit\u7684\u201c\u6682\u5b58\u533a(Staging Area)\u201d\uff0c\u8fd9\u5c31\u662f\u5f53\u4f60\u8fd0\u884c git commit\u65f6Git\u770b\u8d77\u6765\u7684\u6837\u5b50\u3002</p> <p>Git \u5c06\u4e0a\u4e00\u6b21\u68c0\u51fa\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u586b\u5145\u5230\u7d22\u5f15\u533a\uff0c\u5b83\u4eec\u770b\u8d77\u6765\u5c31\u50cf\u6700\u521d\u88ab\u68c0\u51fa\u65f6\u7684\u6837\u5b50\u3002 \u4e4b\u540e\u4f60\u4f1a\u5c06\u5176\u4e2d\u4e00\u4e9b\u6587\u4ef6\u66ff\u6362\u4e3a\u65b0\u7248\u672c\uff0c\u63a5\u7740\u901a\u8fc7 git commit \u5c06\u5b83\u4eec\u8f6c\u6362\u4e3a\u6811\u6765\u7528\u4f5c\u65b0\u7684\u63d0\u4ea4\u3002</p> <p>\u5de5\u4f5c\u76ee\u5f55 \u6700\u540e\uff0c\u4f60\u5c31\u6709\u4e86\u81ea\u5df1\u7684\u5de5\u4f5c\u76ee\u5f55\uff08\u901a\u5e38\u4e5f\u53eb\u5de5\u4f5c\u533a\uff09\u3002\u53e6\u5916\u4e24\u68f5\u6811\uff08\u5373HEAD\u548cINDEX\uff09\u4ee5\u4e00\u79cd\u9ad8\u6548\u4f46\u5e76\u4e0d\u76f4\u89c2\u7684\u65b9\u5f0f\uff0c\u5c06\u5b83\u4eec\u7684\u5185\u5bb9\u5b58\u50a8\u5728.git\u6587\u4ef6\u5939\u4e2d\u3002\u5de5\u4f5c\u76ee\u5f55\u4f1a\u5c06\u5b83\u4eec\u89e3\u5305\u4e3a\u5b9e\u9645\u7684\u6587\u4ef6\u4ee5\u4fbf\u7f16\u8f91\u3002\u4f60\u53ef\u4ee5\u628a\u5de5\u4f5c\u76ee\u5f55\u5f53\u505a \u6c99\u76d2\u3002\u5728\u4f60\u5c06\u4fee\u6539\u63d0\u4ea4\u5230\u6682\u5b58\u533a\u5e76\u8bb0\u5f55\u5230\u5386\u53f2\u4e4b\u524d\uff0c\u53ef\u4ee5\u968f\u610f\u66f4\u6539\u3002</p> <p>\u4e0b\u56fe\u5219\u5c55\u793a\u4e86\u8fd9\u4e09\u4e2a\u6982\u5ff5\u7684\u5173\u7cfb\uff1a</p> <p></p> <p>\u6211\u4eec\u7ed3\u5408\u547d\u4ee4\u548c\u56fe\u793a\u6765\u89e3\u91ca\u53d8\u66f4\u7684\u6d41\u52a8\u3002</p> <p>```bash {class='line-numbers'} $ git status</p> <p>On branch main Your branch is up to date with 'origin/main'.</p> <p>Changes not staged for commit:   (use \"git add ...\" to update what will be committed)   (use \"git restore ...\" to discard changes in working directory)         modified:   README.md <p>no changes added to commit (use \"git add\" and/or \"git commit -a\") <pre><code>status\u547d\u4ee4\u63d0\u793a\u6587\u4ef6\u5904\u5728\u5de5\u4f5c\u533a\uff0c\u8fd8\u6ca1\u8fdb\u5165\u5230staged\u533a\u57df\u3002\n\u6b64\u65f6\u5728vscode\u4fa7\u9762\u677f\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230README.md\u6587\u4ef6\u51fa\u73b0\u5728changes\u7c7b\u522b\u4e0b\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230125160932.png)\n\n\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7git add\u547d\u4ee4\u5c06README.md\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff0c\u7136\u540e\u518d\u6b21\u67e5\u770b\u72b6\u6001\uff1a\n```bash {class='line-numbers'}\n$ git add README.md\n$ git status\n\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n        modified:   README.md\n</code></pre> status\u63d0\u793aREADME.md\u5f53\u524d\u5904\u4e8estaged\u533a\u57df\uff0c\u4f46\u8fd8\u6ca1\u6709\u63d0\u4ea4\u3002 \u6b64\u65f6\u5728vscode\u4fa7\u9762\u677f\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230README.md\u6587\u4ef6\u51fa\u73b0\u5728staged\u7c7b\u522b\u4e0b\uff1a </p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u63d0\u4ea4\u5230\u672c\u5730\u4ed3\u5e93\uff1a ```bash {class='line-numbers'} $ git commit -m \"update README.md\" $ git status</p> <p>On branch main Your branch is ahead of 'origin/main' by 1 commit.   (use \"git push\" to publish your local commits)</p> <p>nothing to commit, working tree clean <pre><code>\u73b0\u5728\uff0c\u4e09\u4e2a\u533a\u57df\u7684\u72b6\u6001\u5b8c\u5168\u4e00\u81f4\u3002\u4f46\u63d0\u793a\u6211\u4eec\uff0c\u672c\u5730\u5206\u652f\u9886\u5148\u8fdc\u7a0bmain\u5206\u652f\u4e00\u4e2a\u63d0\u4ea4\u3002\u5373\u6211\u4eec\u521a\u521a\u7684\u63d0\u4ea4\u8fd8\u6ca1\u540c\u6b65\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002\n\n\u6b64\u65f6\u5728vscode\u4fa7\u9762\u677f\u4e0a\uff0cSOURCE CONTROL\u7c7b\u522b\u4e0b\u5df2\u6e05\u7a7a\uff0c\u53ea\u51fa\u73b0\u4e86\u4e00\u4e2a\"sync changes\u201c\u7684\u6309\u952e\u3002\u8be5\u63d0\u4ea4\u5c06\u53ef\u4ee5\u5728COMMITS\u7c7b\u522b\u4e0b\u770b\u5230\u3002\n![](https://images.jieyu.ai/images/2023/01/20230125161350.png)\n\n\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u9047\u5230\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\u3002\u4f60\u5728\u67d0\u4e2a\u5206\u652f\u4e0a\u5df2\u7ecf\u5de5\u4f5c\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u4f46\u8fd8\u6ca1\u6709\u5230\u53ef\u4ee5\u63d0\u4ea4\u7684\u7a0b\u5ea6\u3002\u4f46\u662f\u53c8\u88ab\u5206\u914d\u5230\u53e6\u4e00\u4e2a\u7d27\u6025\u4efb\u52a1\uff0c\u4f60\u4e0d\u5f97\u4e0d\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u7d27\u6025\u5904\u7406\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5c06\u5f53\u524d\u5de5\u4f5c\u533a\u7684\u53d8\u66f4\u6682\u65f6\u8d2e\u85cf\u8d77\u6765\uff0c\u7136\u540e\u518d\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u5904\u7406\u7d27\u6025\u4efb\u52a1\u3002\u7b49\u7d27\u6025\u4efb\u52a1\u5904\u7406\u5b8c\u6bd5\u540e\uff0c\u518d\u5207\u6362\u56de\u539f\u6765\u7684\u5206\u652f\uff0c\u628a\u8d2e\u85cf\u7684\u53d8\u66f4\u6fc0\u6d3b\uff0c\u7ee7\u7eed\u539f\u6765\u7684\u5de5\u4f5c\u3002\n\n\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230stash\u547d\u4ee4\u3002\u4e0b\u9762\u662fgit stash\u7684\u4e00\u4e9b\u547d\u4ee4\u884c\u4f8b\u5b50\uff0c\u7136\u540e\u6211\u4eec\u770b\u770b\u5982\u4f55\u4ece\u56fe\u5f62\u754c\u9762\u6765\u4f7f\u7528\u5b83:\n```bash {class='line-numbers'}\n# \u8d2e\u85cf\u5f53\u524d\u672a\u63d0\u4ea4\u7684\u53d8\u66f4\n$ git stash\nSaved working directory and index state \\\n  \"WIP on master: 049d078 added the index file\"\nHEAD is now at 049d078 added the index file\n(To restore them type \"git stash apply\")\n\n# \u67e5\u770b\u6240\u6709\u7684\u8d2e\u85cf\n$ git stash list\nstash@{0}: WIP on master: 049d078 added the index file\nstash@{1}: WIP on master: c264051 Revert \"added file_size\"\nstash@{2}: WIP on master: 21d80a5 added number to log\n\n# \u5e94\u7528\u6700\u8fd1\u7684\u8d2e\u85cf\uff0c\u4f46\u4e0d\u5220\u9664\u5b83\u3002\n$ git stash apply\nOn branch master\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n    modified:   index.html\n    modified:   lib/simplegit.rb\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n\n# \u5e94\u7528\u6700\u8fd1\u7684\u8d2e\u85cf\uff0c\u5e76\u5220\u9664\u5b83\ngit stash pop\n\n# \u76f4\u63a5\u5220\u9664\u6700\u8fd1\u7684\u8d2e\u85cf\ngit stash drop\n</code></pre> \u5f53\u6211\u4eec\u5e94\u7528\u8d2e\u85cf\u65f6\uff0c\u8d2e\u85cf\u4e2d\u7684\u53d8\u66f4\u4f1a\u88ab\u5e94\u7528\u5230\u5f53\u524d\u7684\u5de5\u4f5c\u533a\uff0c\u8fd9\u4e5f\u53ef\u80fd\u53d1\u751f\u51b2\u7a81\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u89e3\u51b3\u3002\u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\uff0c\u6211\u4eec\u6ca1\u6709\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u8d2e\u85cf\u7684\u540d\u5b57\uff0c\u6240\u4ee5\u64cd\u4f5c\u7684\u76ee\u6807\u90fd\u662f\u6700\u8fd1\u7684\u8d2e\u85cf\u3002\u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u64cd\u4f5c\u65f6\uff0c\u6307\u5b9astash\u7684\u540d\u5b57\u3002</p> <p>\u5728git lens\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\"Changes\"\u9762\u677f\u4e2d\uff0c\u5c06\u5f53\u524d\u7684\u53d8\u66f4\u8d2e\u85cf\uff1a  \u4e0a\u56fe\u4e2d\u7ea2\u8272\u6846\u5185\u7684\u6309\u94ae\u5373\u662f\u201dstash all\"\u6309\u94ae\u3002\u6211\u4eec\u70b9\u51fb\u5b83\uff0c\u5c31\u53ef\u4ee5\u5c06\u5f53\u524d\u7684\u53d8\u66f4\u8d2e\u85cf\u8d77\u6765\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728\"Stashes\"\u9762\u677f\u4e2d\uff0c\u67e5\u770b\u6240\u6709\u7684\u8d2e\u85cf\uff1a  \u70b9\u51fb\"Apply\"\u6309\u94ae\uff0c\u5728\u5f39\u51fa\u6765\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u7ed9\u6211\u4eec\u4e24\u4e2a\u63d0\u793a\uff0c\u4e00\u4e2a\u662f\u53ea\u5e94\u7528\uff0c\u4e0d\u5220\u9664\u8be5\u8d2e\u85cf\uff1b\u53e6\u4e00\u4e2a\u662f\u5e94\u7528\u5e76\u5220\u9664\u8be5\u8d2e\u85cf\uff1a </p> <p>\u6700\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e0b.gitignore\u6587\u4ef6\u3002\u6709\u4e00\u4e9b\u6587\u4ef6\u6211\u4eec\u5e76\u4e0d\u60f3git\u8fdb\u884c\u8ddf\u8e2a\uff0c\u6bd4\u5982IDE\u4ea7\u751f\u7684\u4e34\u65f6\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6\uff0c\u6d89\u53ca\u5230\u5bc6\u7801\u7684\u67d0\u4e9b\u6587\u4ef6\uff08\u6bd4\u5982.env)\u7b49\u7b49\u3002\u8fd9\u4e9b\u6587\u4ef6\u6211\u4eec\u53ef\u4ee5\u5728.gitignore\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0cgit\u5c31\u4f1a\u5ffd\u7565\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>.gitignore\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u7b26\u5408globbing patterns\u7684\u6a21\u5f0f\u3002\u88ab\u8be5\u6a21\u5f0f\u5339\u914d\u4e0a\u7684\u6587\u4ef6\uff08\u6216\u8005\u6587\u4ef6\u5939\uff09\uff0c\u5c06\u4e0d\u4f1a\u88abgit\u8ddf\u8e2a\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u76f8\u5173\u7684\u6269\u5c55\u6765\u534f\u52a9\u7ba1\u7406\u6b64\u6587\u4ef6\u3002</p>"},{"location":"chap08/#\u4e0e\u4ed6\u4eba\u540c\u6b65\u53d8\u66f4-git-push\u548cgit-pull","title":"\u4e0e\u4ed6\u4eba\u540c\u6b65\u53d8\u66f4: git push\u548cgit pull","text":"<p>\u524d\u9762\u7684\u64cd\u4f5c\u53ea\u662f\u628a\u53d8\u66f4\u8bb0\u5f55\u5728\u672c\u5730\u7684git\u7cfb\u7edf\u4e2d\u3002\u4e3a\u4e86\u4f7f\u5f97\u8fd9\u4e9b\u53d8\u66f4\u80fd\u4e3a\u4ed6\u4eba\u6240\u89c1\uff0c\u6211\u4eec\u5f97\u628a\u8fd9\u4e9b\u53d8\u66f4\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u3002</p> <p>```bash {class='line-numbers'} $ git push -u origin main <pre><code>-u\u53c2\u6570\u662f\u4e3a\u4e86\u5c06\u672c\u5730\u7684main\u5206\u652f\u4e0e\u8fdc\u7a0b\u7684main\u5206\u652f\u5173\u8054\u8d77\u6765\uff0c\u5728\u4ee5\u540e\u7684\u63a8\u9001\u6216\u8005\u62c9\u53d6main\u5206\u652f\u65f6\uff0c\u5c31\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7b80\u5316\u547d\u4ee4\uff1a\n``` bash\n# \u5f53\u6211\u4eec\u4e0d\u6307\u5b9a\u5206\u652f\u540d\u65f6\uff0cgit\u4f1a\u4f7f\u7528\u5f53\u524d\u5206\u652f\n$ git push\n\n# \u4ece\u8fdc\u7a0b\u4ed3\u5e93\u62c9\u53d6\u5176\u5b83\u4eba\u6240\u505a\u7684\u53d8\u66f4\n$ git pull\n</code></pre></p> <p>\u6ce8\u610f\uff0c\u672c\u5730\u4ed3\u5e93\u4e0e\u670d\u52a1\u5668\u5173\u8054\u7684\u547d\u4ee4\uff08\u5373<code>git remote add</code>\uff09\u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21\uff0c\u800c\u6bcf\u6b21\u521b\u5efa\u4e86\u65b0\u7684\u5206\u652f\u540e\uff0c\u5728\u8fd9\u4e00\u6b21\u5f80\u8be5\u5206\u652f\u63a8\u9001\u53d8\u66f4\u65f6\uff0c\u6211\u4eec\u90fd\u8981\u6267\u884c<code>git push -u ...</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5728\u63a8\u9001\u7684\u540c\u65f6\uff0c\u4e5f\u5b8c\u6210\u672c\u5730\u5206\u652f\u4e0e\u8fdc\u7a0b\u5206\u652f\u7684\u7ed1\u5b9a\u3002</p>"},{"location":"chap08/#git\u6807\u7b7e","title":"git\u6807\u7b7e","text":"<p>\u968f\u7740\u5f00\u53d1\u7684\u8fdb\u884c\uff0c\u7ec8\u6709\u4e00\u5929\uff0c\u6211\u4eec\u4f1a\u5230\u8fbe\u67d0\u4e2a\u91cd\u8981\u7684\u8282\u70b9\uff0c\u6bd4\u5982\u67d0\u4e2a\u7248\u672c\u5b8c\u6210\u3002\u6b64\u65f6\u6211\u4eec\u5c31\u4f1a\u7ed9\u4ed3\u5e93\u7684\u67d0\u4e2a\u72b6\u6001\u6253\u4e0a\u6807\u7b7e\uff0c\u65b9\u4fbf\u56de\u6eaf\u3002\u8fd9\u5c31\u9700\u8981\u7528\u5230git tag\u7684\u4e00\u7cfb\u5217\u547d\u4ee4\u3002 ```bash {class='line-numbers'}</p>"},{"location":"chap08/#\u5217\u51fa\u6240\u6709\u7684\u6807\u7b7e","title":"\u5217\u51fa\u6240\u6709\u7684\u6807\u7b7e","text":"<p>$ git tag v0.9 V1.0 v1.0.2</p>"},{"location":"chap08/#\u6709\u7b5b\u9009\u5730\u5217\u51fa\u6807\u7b7e","title":"\u6709\u7b5b\u9009\u5730\u5217\u51fa\u6807\u7b7e","text":"<p>git tag --list \"v1.0.*\" v0.9 v1.0 v1.0.2</p>"},{"location":"chap08/#\u521b\u5efa\u6807\u7b7e\u4f7f\u7528-a\u9009\u9879\u6307\u5b9a\u6807\u7b7e\u540d-m\u6307\u5b9a\u6807\u7b7e\u7684\u63cf\u8ff0\u6587\u5b57","title":"\u521b\u5efa\u6807\u7b7e\uff1a\u4f7f\u7528-a\u9009\u9879\u6307\u5b9a\u6807\u7b7e\u540d\uff0c-m\u6307\u5b9a\u6807\u7b7e\u7684\u63cf\u8ff0\u6587\u5b57","text":"<p>$ git tag -a v1.4 -m \"my version 1.4\" $ git tag v0.9 v1.0 v1.0.2 v1.4</p> <p>$ git tag -a v1.5 -m \"my version 1.5\" $ git tag v0.9 v1.0 v1.0.2 v1.4 v1.5</p>"},{"location":"chap08/#\u67e5\u770b\u6807\u7b7e\u4fe1\u606f","title":"\u67e5\u770b\u6807\u7b7e\u4fe1\u606f","text":"<p>$ git show v1.5</p> <p>tag v1.5 Tagger: zillionare aaron_yang@jieyu.ai Date:   Mon Jan 23 15:10:55 2023 +0800</p> <p>second</p> <p>commit 57eb735f513c753e49b2fe3005ccfa9b3412762d (HEAD -&gt; main, tag: v1.4, tag: v1.5, origin/main) Author: zillionare aaron_yang@jieyu.ai Date:   Mon Jan 23 10:19:28 2023 +0800 <pre><code>\u8fd9\u91cc\u6211\u4eec\u7a0d\u4f5c\u505c\u987f\uff0c\u89e3\u91ca\u4e0b\u6807\u7b7e\u7a76\u7adf\u610f\u5473\u7740\u4ec0\u4e48\u3002\u524d\u9762\u6211\u4eec\u8bf4\u8fc7\uff0c\u521b\u5efa\u6807\u7b7e\u662f\u7ed9\u4ed3\u5e93\u7684\u67d0\u4e2a\u72b6\u6001\u6253\u4e0a\u6807\u8bb0\u7684\u52a8\u4f5c\u3002\u5728\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684\u7b2c14\u884c\u548c\u7b2c21\u884c\uff0c\u6211\u4eec\u5728\u6ca1\u6709\u4efb\u4f55\u65b0\u7684\u63d0\u4ea4\u7684\u60c5\u51b5\u4e0b\uff0c\u8fde\u7eed\u521b\u5efa\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684\u6807\u7b7e\u3002\u8003\u8651\u5230\u6211\u4eec\u7684\u4ed3\u5e93\u662f\u4e00\u4e2a\u7ebf\u6027\u7684\u63d0\u4ea4\u5386\u53f2\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6807\u7b7e\u7a76\u7adf\u6307\u5411\u4e86\u4ec0\u4e48\u5462\uff1f\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86\uff0c\u8fd9\u4e24\u4e2a\u6807\u7b7e\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u63d0\u4ea4\uff0c\u537357eb\u3002\u8fd9\u4e24\u4e2a\u6807\u7b7e\u5173\u8054\u7684\u90fd\u662f57eb\u63d0\u4ea4\u4e4b\u540e\u7684\u4ed3\u5e93\u72b6\u6001\u3002\u8fd9\u4e5f\u8bf4\u660e\uff0c\u6807\u7b7e\u4e0e\u63d0\u4ea4\u672c\u8eab\u4e0d\u662f\u4e00\u5bf9\u4e00\u7684\u6620\u5c04\uff0c\u800c\u662f\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u3002\n\n\u65e2\u7136\u6807\u7b7e\u662f\u6307\u5411\u63d0\u4ea4\u7684\uff0c\u60a8\u53ef\u80fd\u4f1a\u60f3\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u4e3a\u8fc7\u53bb\u7684\u67d0\u4e2a\u72b6\u6001\u8ffd\u52a0\u6807\u7b7e\uff1f\u60a8\u7684\u731c\u6d4b\u662f\u6b63\u786e\u7684\uff0c\u6211\u4eec\u786e\u5b9e\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\n```bash\n# \u5047\u8bbe\u6211\u4eec\u53c8\u5411\u4ed3\u5e93\u505a\u4e86\u82e5\u5e72\u63d0\u4ea4\u4e4b\u540e\uff0c\u53d1\u73b0\u9700\u8981\u5bf9'57eb'\u8fd9\u4e2a\u63d0\u4ea4\u6253\u4e0a\u6807\u7b7e\ngit tag -a v1.6 57eb -m \"my version 1.6\"\n</code></pre></p> <p>Info</p> <p>\u524d\u9762\u8bb2\u8fc7\uff0c\u5728git\u4e2d\uff0c\u8bb8\u591a\u5bf9\u8c61\u7684\u6807\u8bc6\u7b26\u90fd\u662f\u4e00\u4e2ahash\u4e32\u3002\u6bcf\u4e00\u6b21\u63d0\u4ea4\u7684\u6807\u8bc6\u7b26\u4e5f\u662f\u4e00\u6837\uff0c\u5b83\u662f\u57fa\u4e8eSHA-1\u7b97\u6cd5\u7684\u4e00\u4e2a40\u5b57\u8282\u7684hash\u4e32\u3002</p> <p>\u5728\u521a\u521a\u7684\u547d\u4ee4\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u63d0\u4ea4(commit)\u7684hash\u4e32\u7684\u524d4\u4e2a\u5b57\u8282\u6765\u4ee3\u66ff\u6574\u4e2ahash\u4e32\u3002\u5728git\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53ea\u4f7f\u7528\u63d0\u4ea4\u7684hash\u4e32\u7684\u524d\u82e5\u5e72\u4e2a\u5b57\u8282\u6765\u4ee3\u66ff\u6574\u4e2ahash\u4e32\uff0c\u53ea\u8981\u5b83\u662f\u60df\u4e00\u7684\u5e76\u4e14\u5927\u4e8e4\u4e2a\u5b57\u8282\u3002</p> <p>\u4e5f\u8bb8\u60a8\u4f1a\u611f\u5230\u597d\u5947\uff0c\u5982\u679c\u4e00\u4e2a\u9879\u76ee\u8db3\u591f\u5927\uff0c\u53d1\u751fhash\u78b0\u649e\u7684\u673a\u5c31\u4f1a\u53d8\u5927\uff0c\u90a3\u4e48\u6700\u7ec8\u6211\u4eec\u53ef\u80fd\u8981\u4f7f\u7528\u591a\u5c11\u4e2a\u5b57\u8282\uff0c\u624d\u80fd\u60df\u4e00\u5730\u533a\u522b\u5f00\u4e00\u4e2ahash\u4e32\u5462\uff1fLinux\u7684\u5185\u6838\u662f\u4e00\u4e2a\u76f8\u5f53\u5927\u7684Git\u9879\u76ee\uff0c\u622a\u6b622019\u5e742\u6708\u6b62\uff0c\u5171\u8bb0\u5f55\u4e86\u8d85\u8fc7875,000\u4e2a\u63d0\u4ea4\uff0c\u6700\u591a\u9700\u898112\u4e2a\u5b57\u7b26\u624d\u80fd\u4fdd\u8bc1\u552f\u4e00\u6027\u3002</p> <p>\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0c\u51e0\u4e4e\u6240\u6709\u7684git\u64cd\u4f5c\u90fd\u662f\u591a\u9636\u6bb5\u7684\uff0c\u8fd9\u5bf9\u521b\u5efatag\u6765\u8bf4\u4e5f\u5dee\u4e0d\u591a\u662f\u4e00\u6837\u3002\u5f53\u6211\u4eec\u6267\u884c<code>git tag -a</code>\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ea\u5728\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u4e86\u8fd9\u4e2a\u6807\u7b7e\uff0c\u6211\u4eec\u4ecd\u7136\u9700\u8981\u628a\u5b83\u540c\u6b65\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff1a <pre><code># \u4e00\u6b21\u6027\u5730\u5c06\u6240\u6709\u6807\u7b7e\u63a8\u9001\u5230\u8fdc\u7a0b\n$ git push origin --tags\n\n# \u4ec5\u63a8\u9001\u7279\u5b9a\u6807\u7b7e\n$ git push origin v1.6\n</code></pre></p> <p>\u4e5f\u6709\u53ef\u80fd\u6211\u4eec\u9700\u8981\u5220\u9664\u6807\u7b7e\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u4e24\u9636\u6bb5\u7684\u64cd\u4f5c <pre><code># \u4ece\u672c\u5730\u5220\u9664v1.4\u8fd9\u4e2a\u6807\u7b7e\n$ git tag -d v1.4\n\n# \u4ece\u8fdc\u7a0b\u5220\u9664v1.4\u8fd9\u4e2a\u6807\u7b7e\u3002\u8fd9\u4e00\u6b65\u53ef\u4ee5\u4e0e\u4e0a\u4e00\u6b65\u72ec\u7acb\u8fd0\u884c\n$ git push origin --delete v1.4\n</code></pre></p> <p>\u6807\u7b7e\u521b\u5efa\u4ee5\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u5230\u8be5\u6807\u7b7e\u7684\u5e38\u89c1\u64cd\u4f5c\u662f\u68c0\u51fa\u8fd9\u4e2a\u6807\u7b7e\u6307\u5411\u7684\u6587\u4ef6\u7248\u672c\uff0c\u6bd4\u5982\u5728CI\u670d\u52a1\u5668\u4e0a\u68c0\u51fa\u8fd9\u4e2a\u7248\u672c\u5236\u4f5cbuild\uff0c\u6216\u8005\u5728\u5f00\u53d1\u673a\u5668\u4e0a\u68c0\u51fa\u8fd9\u4e2a\u7248\u672c\uff0c\u4ee5\u53d1\u5e03\u70ed\u66f4\u65b0\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528git checkout\u547d\u4ee4\uff1a <pre><code>git checkout v1.4\n</code></pre> \u5982\u679c\u6211\u4eec\u662f\u8981\u5728\u67d0\u4e2a\u6807\u7b7e\u72b6\u6001\u4e0b\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u5219\u6211\u4eec\u5e94\u8be5\u4e3a\u8fd9\u4e2a\u68c0\u51fa\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5206\u652f\u3002\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u8fd9\u4e2a\u5de5\u4f5c\u533a\u91cc\u8fdb\u884c\u4fee\u6539\uff0c\u7136\u540e\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u5982\u679c\u6211\u4eec\u4e0d\u4f7f\u7528\u65b0\u7684\u5206\u652f\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u4ed3\u5e93\u5904\u4e8e\u201c\u5206\u79bb\u5934\u6307\u9488(detached HEAD)\u201d\u7684\u72b6\u6001\u3002\u8fd9\u79cd\u72b6\u6001\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\uff0c\u4f46\u65e0\u6cd5\u63d0\u4ea4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e9b\u4fee\u6539\u6700\u7ec8\u4f1a\u4e22\u5931\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u57fa\u672c\u4e0a\u63a5\u89e6\u5230\u4e86git\u4e2d\u5168\u90e8\u57fa\u7840\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u5b66\u4f1a\u4e86\u5982\u4f55\u521b\u5efa\u4ed3\u5e93\uff0c\u8ddf\u8e2a\u53d8\u66f4\uff0c\u63d0\u4ea4\u53d8\u66f4\uff0c\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u540c\u6b65\uff0c\u5e76\u4e14\u521b\u5efa\u6807\u7b7e\u4ee5\u8bb0\u5f55\u5f00\u53d1\u4e2d\u7684\u91cd\u8981\u65f6\u523b\u3002\u5f53\u7136\u8fd8\u6709\u4e00\u4e9b\u67e5\u9519\u6027\u8d28\u7684\u64cd\u4f5c\u6211\u4eec\u6ca1\u6709\u4ecb\u7ecd\uff0c\u6bd4\u5982\u67e5\u770b\u65e5\u5fd7(git log)\uff0c\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\u3002\u53e6\u5916\uff0c\u5728\u638c\u63e1git\u7684\u5de5\u4f5c\u539f\u7406\u4e4b\u540e\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u901a\u8fc7\u56fe\u5f62\u754c\u9762\u6765\u7ba1\u7406git\u4ed3\u5e93\uff0c\u56e0\u6b64\u8c61\u67e5\u770b\u53d8\u66f4\u5386\u53f2\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u4e5f\u5e94\u8be5\u901a\u8fc7\u56fe\u5f62\u754c\u9762\u6765\u67e5\u770b\u3002</p> <p>\u7136\u800c\uff0cgit\u4e2d\u771f\u6b63\u9ad8\u7ea7\u7684\u6280\u5de7\u90fd\u4e0e\u5206\u652f\u76f8\u5173\uff0c\u8fd9\u4e5f\u5c06\u662f\u6211\u4eec\u63a5\u4e0b\u6765\u8981\u8bb2\u8ff0\u7684\u5185\u5bb9\u3002</p>"},{"location":"chap08/#\u5206\u652f\u7ba1\u7406","title":"\u5206\u652f\u7ba1\u7406","text":"<p>\u51e0\u4e4e\u6240\u6709\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u90fd\u4ee5\u67d0\u79cd\u5f62\u5f0f\u652f\u6301\u5206\u652f\u3002\u4f7f\u7528\u5206\u652f\u610f\u5473\u7740\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u529f\u80fd\uff08\u6216\u8005\u70ed\u4fee\u590d\uff09\u7684\u5e76\u884c\u5f00\u53d1\uff0c\u6362\u8a00\u4e4b\uff0c\u53ef\u4ee5\u5b9e\u73b0\u591a\u4eba\u540c\u65f6\u5f00\u53d1\uff0c\u6216\u8005\u4e00\u4e2a\u4eba\u540c\u65f6\u8ddf\u8fdb\u51e0\u4e2a\u529f\u80fd\u7684\u5f00\u53d1\uff0c\u800c\u4ee3\u7801\u6700\u7ec8\u8fd8\u80fd\u6bd4\u8f83\u5bb9\u6613\u5730\u5408\u5e76\u8d77\u6765\u3002</p> <p>\u6709\u4eba\u628a Git \u7684\u5206\u652f\u6a21\u578b\u79f0\u4e3a\u5b83\u7684\u201c\u5fc5\u6740\u6280\u7279\u6027\u201d\u3002\u56e0\u4e3a\u4e0e\u5176\u5b83\u7248\u672c\u7ba1\u7406\u5de5\u5177\u76f8\u6bd4\uff0cGit \u5904\u7406\u5206\u652f\u7684\u65b9\u5f0f\u53ef\u8c13\u662f\u96be\u4ee5\u7f6e\u4fe1\u7684\u8f7b\u91cf\uff0c\u521b\u5efa\u65b0\u5206\u652f\u8fd9\u4e00\u64cd\u4f5c\u51e0\u4e4e\u80fd\u5728\u77ac\u95f4\u5b8c\u6210\uff0c\u5e76\u4e14\u5728\u4e0d\u540c\u5206\u652f\u4e4b\u95f4\u7684\u5207\u6362\u64cd\u4f5c\u4e5f\u662f\u4e00\u6837\u4fbf\u6377\u3002\u4e0e\u8bb8\u591a\u5176\u5b83\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u4e0d\u540c\uff0cGit\u9f13\u52b1\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u9891\u7e41\u5730\u4f7f\u7528\u5206\u652f\u4e0e\u5408\u5e76\uff0c\u54ea\u6015\u4e00\u5929\u4e4b\u5185\u8fdb\u884c\u8bb8\u591a\u6b21\u3002</p> <p>Git\u7684\u5206\u652f\u7ba1\u7406\u80fd\u505a\u5230\u5982\u6b64\u4f18\u79c0\uff0c\u6839\u6e90\u8fd8\u5728\u4e8e\u5b83\u7684\u5e95\u5c42\u8bbe\u8ba1\u3002\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0cgit\u4e0e\u5176\u5b83\u8f6f\u4ef6\u4e0d\u540c\uff0cgit\u4fdd\u5b58\u7684\u4e0d\u662f\u6587\u4ef6\u7684\u53d8\u5316\u6216\u8005\u5dee\u5f02\uff0c\u800c\u662f\u4e00\u7cfb\u5217\u4e0d\u540c\u65f6\u523b\u7684\u6587\u4ef6\u5feb\u7167\u3002\u5b83\u7684\u7279\u5f81\u662f\u4ee5\u50a8\u5b58\u7a7a\u95f4\u6765\u6362\u53d6\u65f6\u95f4\uff08\u6027\u80fd\uff09\u7684\u3002</p> <p>\u76f4\u5230\u73b0\u5728\uff0c\u6211\u4eec\u90fd\u6ca1\u6709\u8d4b\u4e88\u5206\u652f\u4e00\u4e2a\u6e05\u6670\u5b8c\u6574\u7684\u5b9a\u4e49\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6765\u7406\u89e3\u5206\u652f\uff1a\u5047\u8bbe\u6211\u4eec\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u535a\u5ba2\u7f51\u7ad9\u3002\u5f00\u53d1\u5c0f\u7ec4\u67094\u4e2a\u4eba\uff0c\u529f\u80fd\u6709\u6301\u4e45\u5316\u4e0e\u7f13\u5b58\u6a21\u5757\u3001\u6587\u6863\u5bf9\u8c61\u62bd\u8c61\u6a21\u5757\u3001\u4e3b\u9898\u4e0e\u5c55\u793a\u6a21\u5757\u3001\u8bc4\u8bba\u7ba1\u7406\u6a21\u5757\u7b49\u529f\u80fd\u3002\u5982\u679c\u6bcf\u4e2a\u4eba\u8d1f\u8d23\u4e00\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6548\u7387\u6700\u9ad8\u7684\u5f00\u53d1\u6a21\u5f0f\u5e94\u8be5\u662f\u6bcf\u4e2a\u4eba\u90fd\u5728\u81ea\u5df1\u7684\u5206\u652f\u4e0a\u72ec\u7acb\u5f00\u53d1\uff0c\u5b8c\u6210\u81ea\u5df1\u6a21\u5757\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u518d\u5408\u5e76\u5230\u4e00\u4e2a\u5171\u540c\u7684\u5206\u652f\uff08\u6bd4\u5982\u79f0\u4f5cdevelop)\u4e0a\u8fdb\u884c\u96c6\u6210\u6d4b\u8bd5\u3002\u5f53\u96c6\u6210\u6d4b\u8bd5\u5b8c\u6210\u65f6\uff0c\u518d\u5408\u5e76\u5230main\u5206\u652f\u4e0a\u5b8c\u6210\u7248\u672c\u53d1\u5e03\uff0c\u63a5\u4e0b\u6765\u8fdb\u5165\u4e0b\u4e00\u4e2a\u529f\u80fd\u8fed\u4ee3\u3002\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u53ef\u80fd\u9047\u5230\u7f51\u7ad9\u76841.0\u7248\u672c\u53d1\u5e03\u540e\uff0c\u5df2\u7ecf\u5f00\u59cb\u4e86\u65b0\u7684\u529f\u80fd\u5f00\u53d1\uff0c\u4f46\u6709\u7d27\u6025\u7684bug\u9700\u8981\u4fee\u590d\uff0c\u8fd9\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5207\u6362\u5230\u7ebf\u4e0a\u7684\u5206\u652f\uff08\u5373main\u4e0a\u9762\u7684\u67d0\u4e00\u4e2a\u6807\u7b7e\uff09\uff0c\u521b\u5efa\u4e00\u4e2ahotfix\u5206\u652f\uff0c\u4fee\u590dbug\uff0c\u6d4b\u8bd5\u548c\u53d1\u5e03\uff0c\u6700\u540e\u5408\u5e76\u5230main\u5206\u652f\uff0c\u4ee5\u53ca\u96c6\u6210\u5206\u652f(develop)\u4e0a\u3002</p> <p>\u4e0a\u8ff0\u5f00\u53d1\u573a\u666f\u662f\u6bd4\u8f83\u5178\u578b\u7684\u4e00\u4e2a\u573a\u666f\u30022010\u5e74\uff0cVincent Driessen\u5c06\u5176\u62bd\u8c61\u6210\u4e86\u4e00\u4e2a\u5de5\u4f5c\u6d41\u6a21\u578b\uff0c\u5728\u6b64\u540e\u768410\u591a\u5e74\u4e2d\uff0c\u8be5\u6a21\u578b\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u8ba4\u53ef\u3002bitbucket\uff0c\u7531\u8457\u540d\u7684Atlassian\u516c\u53f8\u51fa\u54c1\u7684\u652f\u6301git\u7248\u672c\u5e93\u6258\u7ba1\u670d\u52a1\uff0c\u4e5f\u5728\u5176\u5b98\u65b9\u6587\u6863\u4e2d\u63a8\u8350\u4e86\u8fd9\u4e2a\u6a21\u578b\u3002Vincent\u8fd8\u57fa\u4e8e\u8fd9\u4e2a\u6a21\u578b\uff0c\u5f00\u53d1\u4e86git\u7684\u6269\u5c55gitflow\uff0c\u4ee5\u5e2e\u52a9\u4eba\u4eec\u66f4\u597d\u5730\u8fd0\u7528\u8fd9\u4e2a\u6a21\u578b\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u4e2a\u9879\u76ee\u5728github\u4e0a\u83b7\u5f97\u4e8626.1k\u7684star\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u6a21\u578b\u4e2d\uff0c\u670d\u52a1\u5668\u4e0a\u59cb\u7ec8\u5b58\u5728\u4e24\u4e2a\u5206\u652f\uff0c\u5373main\u5206\u652f\uff08\u539f\u56fe\u4e2d\u7684master\uff09\u548cdevelop\u5206\u652f\u3002main\u5206\u652f\u7684HEAD\u6307\u9488\u5e94\u8be5\u6307\u5411\u5df2\u53d1\u5e03\u7684\u4ea7\u54c1\u6784\u5efa\u65f6\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5e94\u8be5\u968f\u65f6\u53ef\u4ee5\u4f7f\u7528main\u6784\u5efa\u51fa\u4e00\u4efd\u53ef\u7528\u7684\u4ea7\u54c1\u51fa\u6765\u3002develop\u5206\u652f\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u96c6\u6210\u5206\u652f\uff0c\u5b83\u7684HEAD\u6307\u9488\u5e94\u8be5\u53cd\u6620\u51fa\u4e0b\u4e00\u4e2a\u53d1\u5e03\u7684\u6700\u65b0\u5f00\u53d1\u72b6\u6001\u3002\u8fd9\u4e5f\u662f\u6211\u4eec\u7528\u6765\u6784\u5efanightly build\u7684\u5206\u652f\u3002</p> <p>\u5f53develop\u5206\u652f\u4e0a\u7684\u4ee3\u7801\u8fbe\u5230\u67d0\u4e2a\u7a33\u5b9a\u7684\u72b6\u6001\uff0c\u5df2\u7ecf\u51c6\u5907\u597d\u53d1\u5e03\u65f6\uff0c\u6240\u6709\u7684\u8fd9\u4e9b\u53d8\u66f4\u5e94\u8be5\u5408\u5e76\u5230main\u5206\u652f\u4e0a\uff0c\u5e76\u4e14\u6253\u4e0a\u5e26\u7248\u672c\u53f7\u7684\u6807\u7b7e\u3002\u4ece\u5b9a\u4e49\u4e0a\u6765\u8bb2\uff0c\u6bcf\u6b21\u6709\u53d8\u66f4\u5408\u5e76\u5230main\u5206\u652f\u65f6\uff0c\u90fd\u5e94\u8be5\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\u7248\u672c\u3002\u56e0\u6b64\uff0c\u5f80main\u5206\u652f\u4e0a\u505a\u5408\u5e76\u5e94\u8be5\u975e\u5e38\u4e25\u683c\uff0c\u9700\u8981\u4f7f\u7528\u94a9\u5b50\u6765\u4fdd\u8bc1CI\u8fc7\u7a0b\u81ea\u52a8\u6784\u5efa\u8f6f\u4ef6\u548c\u6d4b\u8bd5\uff0c\u5e76\u5b8c\u6210\u90e8\u7f72\uff08\u6216\u8005\u5411pypi\u53d1\u5e03\uff09\u3002</p> <p>\u5982\u679c\u5f00\u53d1\u8005\u662f\u4e00\u4e2a\u56e2\u961f\uff0c\u663e\u7136\u4ecedevelop\u5206\u652f\u5f80main\u5206\u652f\u4e0a\u7684\u5408\u5e76\uff0c\u5e94\u8be5\u662flead develop\u7684\u5de5\u4f5c\u3002</p> <p>\u9664\u4e86main\u548cdevelop\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u4f1a\u6709\u4e00\u7cfb\u5217\u7684\u8f85\u52a9\u5206\u652f\uff0c\u5b83\u4eec\u53ea\u4f1a\u4e34\u65f6\u5b58\u5728\uff0c\u5e76\u4e14\u6700\u7ec8\u4f1a\u88ab\u79fb\u9664\u6389\u3002\u8fd9\u4e9b\u5206\u652f\u662f: 1. \u529f\u80fd\u5206\u652f\uff08Feature branches) 2. \u53d1\u5e03\u5206\u652f (Release branches) 3. \u70ed\u4fee\u590d\u5206\u652f (Hotfix branches)</p> <p>\u8fd9\u4e9b\u5206\u652f\u90fd\u6709\u81ea\u5df1\u7684\u7279\u5b9a\u76ee\u6807\uff0c\u56e0\u6b64\uff0c\u5b83\u4eec\u7684\u6765\u6e90\u548c\u6700\u7ec8\u5408\u5e76\u7684\u53bb\u5411\u4e5f\u9075\u5faa\u4e25\u683c\u7684\u89c4\u5219\u3002</p>"},{"location":"chap08/#\u529f\u80fd\u5206\u652ffeature-branch","title":"\u529f\u80fd\u5206\u652f(Feature branch)","text":"<p>\u529f\u80fd\u5206\u652f\u662f\u4ecedevelop\u5206\u652f\u4e0a\u521b\u5efa\u51fa\u6765\u7684\uff0c\u7528\u6765\u5f00\u53d1\u67d0\u4e2a\u65b0\u529f\u80fd\u3002\u5f53\u529f\u80fd\u5f00\u53d1\u5b8c\u6210\u65f6\uff0c\u9700\u8981\u5408\u5e76\u56dedevelop\u5206\u652f\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528{{feature_name}}/{{developer}}\u6765\u547d\u4ee4\u5206\u652f\u3002\u8fd9\u91ccfeature_name\u662f\u529f\u80fd\u7684\u540d\u5b57\uff0cdeveloper\u662f\u56e2\u961f\u4e2d\u8d1f\u8d23\u8fd9\u4e2a\u529f\u80fd\u7684\u5f00\u53d1\u8005\u3002\u5f53\u7136\uff0c\u5982\u679c\u529f\u80fd\u53ea\u6709\u4e00\u4e2a\u4eba\u8d1f\u8d23\u5f00\u53d1\uff0c\u4e5f\u53ef\u4ee5\u7701\u7565developer\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u521b\u5efa\u5206\u652f\uff1a <pre><code>git checkout -b feature_name/developer_name develop\n</code></pre> \u5728\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u53ca\u65f6\u628a\u53d8\u66f4\u63d0\u4ea4\u5e76\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u907f\u514d\u4ee3\u7801\u4e22\u5931\uff0c\u4e5f\u65b9\u4fbf\u5176\u4ed6\u4eba\u8fdb\u884ccode review\u3002\u5f53\u529f\u80fd\u5f00\u53d1\u5b8c\u6210\uff0c\u6211\u4eec\u5e94\u8be5\u628a\u53d8\u66f4\u5408\u5e76\u56dedevelop\u5206\u652f\uff0c\u5e76\u5220\u9664\u529f\u80fd\u5206\u652f\u3002\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u505a\uff1a ```bash {class='line-numbers'} $ git checkout develop Switched to branch 'develop'</p> <p>$ git merge --no-ff myfeature Updating ea1b82a..05e9557 (Summary of changes)</p> <p>$ git branch -d myfeature Deleted branch myfeature (was 05e9557).</p> <p>$ git push origin develop <pre><code>\u8fd9\u91cc\u7684\u547d\u4ee4\u7528\u6765\u63cf\u8ff0\u5de5\u4f5c\u6d41\u7a0b\uff0c\u5b9e\u9645\u4e0a\u5728\u64cd\u4f5c\u65f6\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u4f7f\u7528git lens\u7684\u56fe\u5f62\u5316\u754c\u9762\u6765\u64cd\u4f5c\u3002\u6ce8\u610f\u7b2c3\u884c\u7684--no-ff\u9009\u9879\u3002\u8fd9\u4e2a\u9009\u9879\u7684\u4f5c\u7528\u662f\uff0c\u8ba9\u6211\u4eec\u5728develop\u5206\u652f\u4e0a\u4ecd\u7136\u770b\u5230\u4e00\u4e2a\u5b8c\u6574\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u5305\u62ec\u66fe\u7ecf\u5b58\u5728\u4e00\u4e2afeature\u5206\u652f\uff0c\u4ee5\u53ca\u54ea\u4e9b\u63d0\u4ea4\u6784\u6210\u4e86\u4e00\u4e2afeature\u3002\u4e0b\u56fe\u5bf9\u6bd4\u4e86\u662f\u5426\u4f7f\u7528\u8be5\u9009\u9879\u7684\u5dee\u5f02\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230123174246.png)\n\n\u4e0a\u56fe\u4e2d\u53f3\u8fb9\u7684\u90e8\u5206\u663e\u793a\u4e86\u4e00\u4e2a\u666e\u901a\u7684\u5408\u5e76\uff0c\u5728\u8fd9\u91cc\uff0c\u770b\u4e0d\u51fa\u6765\u54ea\u4e9b\u63d0\u4ea4\u6784\u6210\u4e86\u4e00\u4e2a\u529f\u80fd\uff08\u9664\u975e\u68c0\u67e5\u65e5\u5fd7\uff09\uff0c\u66f4\u4e0d\u7528\u8bf4feature\u5206\u652f\u7684\u5b58\u5728\u4e86\u3002\u53e6\u5916\uff0c\u5728\u540e\u4e00\u79cd\u60c5\u51b5\u4e0b\uff0c\u56de\u6eda\u6574\u4e2a\u529f\u80fd\u4e5f\u4f1a\u662f\u4ee4\u4eba\u5934\u75bc\u7684\u4e8b\u3002\n\n### \u53d1\u5e03\u5206\u652f\uff08Release branch)\n\u53d1\u5e03\u5206\u652f(release branch)\u4ecedevelop\u5206\u652f\u4e0a\u5206\u51fa\u6765\uff0c\u7528\u6765\u51c6\u5907\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\u3002\u5f53\u53d1\u5e03\u5b8c\u6210\uff0c\u9700\u8981\u5408\u5e76\u56dedevelop\u5206\u652f\u548cmain\u5206\u652f\u3002\u5206\u652f\u540d\u4e00\u822c\u4f7f\u7528release-*\u3002\n\n\u53d1\u5e03\u5206\u652f\u7528\u6765\u51c6\u5907\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\uff0c\u7528\u4ee5\u5b8c\u6210\u6b63\u5f0f\u53d1\u5e03\u524d\u7684\u6bcf\u4e00\u4e2a\u7ec6\u8282\u3002\u8fd9\u4e2a\u5206\u652f\u4e5f\u5141\u8bb8\u5c0f\u7684\u8865\u4e01\u548c\u4e00\u4e9bmeta-data\u7684\u53d8\u66f4\uff08\u6bd4\u5982\u7248\u672c\u53f7\uff0c\u6784\u5efa\u65e5\u671f\u7b49\uff09\u3002\u4e00\u65e6release\u5206\u652f\u88ab\u521b\u5efa\uff0cdevelop\u5206\u652f\u5c31\u53ef\u4ee5\u7ee7\u7eed\u5f00\u53d1\u4e0b\u4e00\u4e2a\u7248\u672c\u7684\u529f\u80fd\u4e86\u3002\n\n\u4ecedevelop\u5206\u652f\u8fc1\u79fb\u5230release\u5206\u652f\u5e94\u8be5\u53d1\u751f\u5728\u6240\u6709\u7684\u529f\u80fd\u90fd\u5408\u5e76\u5230develop\u4e4b\u540e\uff0c\u800c\u4efb\u4f55\u4e0d\u5c5e\u4e8e\u6b64\u6b21\u53d1\u5e03\u7684\u529f\u80fd\uff0c\u5219\u7edd\u5bf9\u4e0d\u5e94\u8be5\u5728\u6b64\u524d\u8fdb\u5165\u5230develop\u5206\u652f\u3002\n\n\u53ea\u6709\u5728release\u5206\u652f\u521b\u5efa\u65f6\uff0c\u6211\u4eec\u624d\u5e94\u8be5\u786e\u5b9a\u7248\u672c\u53f7\u3002\u521b\u5efarelease\u5206\u652f\u7684\u547d\u4ee4\u662f\uff08\u5047\u8bbe\u4e4b\u524d\u7684\u7248\u672c\u662f1.1.5\uff0c\u6700\u65b0\u7684\u7248\u672c\u5b9a\u4e3a1.2\uff09\uff1a\n```bash {class='line-numbers'}\n$ git checkout -b release-1.2 develop\nSwitched to a new branch \"release-1.2\"\n$ poetry version 1.2\nFiles modified successfully, version bumped to 1.2.\n$ git commit -a -m \"Bumped version number to 1.2\"\n[release-1.2 74d9424] Bumped version number to 1.2\n1 files changed, 1 insertions(+), 1 deletions(-)\n</code></pre></p> <p>\u5f53release\u5206\u652f\u6700\u7ec8\u7a33\u5b9a\u4e0b\u6765\uff0c\u53ef\u4ee5\u53d1\u5e03\u65f6\uff0c\u6211\u4eec\u5e94\u8be5\u628arelease\u5206\u652f\u5408\u5e76\u5230main\u5206\u652f\uff0c\u5e76\u6253\u4e0a\u4e00\u4e2atag\u3002\u8fd9\u4e2atag\u7684\u540d\u5b57\u5e94\u8be5\u548c\u7248\u672c\u53f7\u4e00\u81f4\uff08\u4e00\u822c\u4ee5V\u5f00\u5934\uff09\u3002\u6700\u540e\uff0c\u5c06release\u5206\u652f\u5408\u5e76\u5230develop\u5206\u652f\u4e0a\uff0c\u5373\u628a\u6240\u6709\u7684\u53d8\u66f4\u5e26\u5165\u5230\u4e0b\u4e00\u4e2a\u7248\u672c\u4e2d\u3002</p> <p>\u5408\u5e76release\u5206\u652f\u5230main\u5206\u652f\u7684\u547d\u4ee4\u662f\uff1a ```bash {class='line-numbers'} $ git checkout main Switched to branch 'main'</p> <p>$ git merge --no-ff release-1.2 Merge made by recursive. (Summary of changes)</p> <p>$ git tag -a 1.2</p> <p>$ git checkout develop Switched to branch 'develop'</p> <p>$ git merge --no-ff release-1.2 Merge made by recursive. (Summary of changes)</p> <p><pre><code>\u6700\u540e\uff0c\u9274\u4e8erelease\u5206\u652f\u4e0a\u6240\u6709\u7684\u53d8\u66f4\u90fd\u5df2\u5408\u5e76\u5230\u4e86main\u548cdevelop\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u4fdd\u7559\u5b83\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u5e94\u8be5\u5220\u9664\u8fd9\u4e2a\u5206\u652f:\n</code></pre> $ git branch -d release-1.2 Deleted branch release-1.2 (was ff452fe). <pre><code>### \u70ed\u4fee\u590d\u5206\u652f\n\u70ed\u4fee\u590d\u5206\u652f(hotfix branch)\u4ecemain\u5206\u652f\u4e0a\u5206\u51fa\u6765\uff0c\u7528\u6765\u4fee\u590d\u7ebf\u4e0a\u7684bug\u3002\u5f53\u4fee\u590d\u5b8c\u6210\uff0c\u9700\u8981\u5408\u5e76\u56demain\u5206\u652f\u548cdevelop\u5206\u652f\u3002\u5206\u652f\u540d\u4e00\u822c\u4f7f\u7528hotfix-*\u3002\n\n\u70ed\u4fee\u590d\u5206\u652f\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4f7f\u5f97\u5728develop\u5206\u652f\u4e0a\u7684\u5f00\u53d1\u8005\u4e0d\u53d7\u5f71\u54cd\uff0c\u800c\u5176\u5b83\u4eba\u5219\u53ef\u4ee5\u5feb\u901f\u4fee\u590d\u7ebf\u4e0a\u7684bug\u3002\u5177\u4f53\u7684\u64cd\u4f5c\u547d\u4ee4\u4e0e\u524d\u9762\u7684\u793a\u4f8b\u5927\u540c\u5c0f\u5f02\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\u4e0d\u8fc7\u9700\u8981\u63d0\u9192\u7684\u662f\uff0c\u6211\u4eec\u4e00\u6837\u8981\u7ed9hotfix\u5206\u914d\u7248\u672c\u53f7\u5e76\u6253\u4e0a\u6807\u7b7e\u3002\n\n\u5982\u679c\u5728\u8fdb\u884c\u70ed\u4fee\u590d\u65f6\uff0c\u5df2\u7ecf\u5b58\u5728release\u5206\u652f\uff0c\u6b64\u65f6hotfix\u5e94\u8be5\u5408\u5e76\u56dedevelop\u5206\u652f\uff0c\u8fd8\u662frelease\u5206\u652f\uff1f\u7b54\u6848\u662frelease\u5206\u652f\u3002\u5982\u679chotfix\u88ab\u5408\u5e76\u5230develop\u5206\u652f\uff0c\u90a3\u4e48\u8fd9\u4e2ahotfix\u5c06\u53ea\u80fd\u968f\u4e0b\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\u800c\u53d1\u5e03\uff0c\u8fd9\u662f\u4e0d\u5408\u7406\u7684\u3002\u56e0\u6b64\uff0chotfix\u5e94\u8be5\u5408\u5e76\u5230release\u5206\u652f\uff0c\u6700\u7ec8\uff0c\u5b83\u5c06\u968frelease\u5206\u652f\u518d\u5408\u5e76\u5230develop\u5206\u652f\u4e2d\uff0c\u4ece\u800c\u4fdd\u8bc1\u8fdb\u5165\u540e\u7eed\u7248\u672c\u3002\n\n\u4e0b\u56fe\u6f14\u793a\u4e86hotfix\u4e2d\u7684\u53d8\u66f4\u5728\u5404\u5206\u652f\u4e4b\u95f4\u7684\u6d41\u52a8\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230123181318.png)\n\n\u5728\u4ecb\u7ecd\u672c\u8282\u5185\u5bb9\u65f6\uff0c\u6211\u4eec\u8f83\u591a\u5730\u53c2\u8003\u4e86Vincent Driessen\u7684\u535a\u5ba2\u6587\u7ae0[\u300aA successful Git branching model\u300b](https://nvie.com/posts/a-successful-git-branching-model/)\u3002\u8fd9\u7bc7\u6587\u7ae0\u662fGit\u5206\u652f\u6a21\u578b\u7684\u7ecf\u5178\u4e4b\u4f5c\uff0c\u5efa\u8bae\u8bfb\u8005\u505a\u5ef6\u4f38\u9605\u8bfb\u3002Vincent Driessen\u5f00\u53d1\u7684gitflow\u5de5\u5177\u662fgit\u7684\u4e00\u4e2a\u6269\u5c55\uff0c\u7528\u6765\u5b9e\u73b0\u4e0a\u8ff0\u5de5\u4f5c\u6d41\uff0c\u8fd9\u91cc\u4e5f\u63a8\u8350\u5b89\u88c5\u4f7f\u7528\u3002\n## Git\u4e2d\u7684\u9ad8\u7ea7\u64cd\u4f5c\n### \u5206\u652f\u5408\u5e76\u548c\u4e09\u8def\u5f52\u5e76\n\u5728\u5206\u652f\u7ba1\u7406\u90a3\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u53ca\u4e86merge\uff08\u5206\u652f\u5408\u5e76\uff09\u8fd9\u4e2a\u6982\u5ff5\uff0c\u4f46\u6211\u4eec\u6ca1\u6709\u5177\u4f53\u8bb2\u5982\u4f55\u64cd\u4f5c\u3002\u8fd9\u4e00\u8282\uff0c\u6211\u4eec\u5c06\u4ee5hotfix\u7684\u53d1\u5e03\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5206\u652f\u5408\u5e76\u4e0e\u4e09\u8def\u5f52\u5e76(3-way merge)\u64cd\u4f5c\u3002\n\n\u5047\u8bbe\u6211\u4eec\u7684\u4ea7\u54c1\u5df2\u7ecf\u53d1\u5e03\u4e861.1\uff0c\u73b0\u5728\u56e2\u961f\u6b63\u5728\u5f00\u53d11.2\u7248\u672c\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u7ebf\u4e0a\u7248\u672c\u53d1\u73b0\u4e86\u4e00\u4e2a\u4e25\u91cd\u7684bug\uff08\u5728tracker\u7cfb\u7edf\u4e2d\u7f16\u53f7\u4e3a533\uff09\uff0c\u9700\u8981\u7acb\u5373\u4fee\u590d\u3002\u6309\u7167gitflow\u7684\u6a21\u578b\uff0c\u6211\u4eec\u5e94\u8be5\u4ecemain\u5206\u652f\u4e0a\u5207\u51fa\u4e00\u4e2ahotfix_533\u5206\u652f\uff0c\u4fee\u590dbug\u540e\uff0c\u518d\u5408\u5e76\u56demain\u5206\u652f\u548cdevelop\u5206\u652f\u3002\n\n\u4e0b\u56fe\u5c55\u793a\u4e86hotfix_533\u5206\u652f\u521b\u5efa\u65f6\uff0c\u76f8\u5173\u5206\u652f\u7684\u72b6\u6001\u56fe\uff1a\n\n![](https://images.jieyu.ai/images/2023/01/20230124185335.png)\n\n\u5f53\u6211\u4eec\u4fee\u590d\u5b8c\u8fd9\u4e2abug\u540e\uff0c\u4ea7\u751f\u4e86\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\uff0c\u8bb0\u4e3ac3, \u5b83\u7684\u7236\u7ed3\u70b9\u662fc2\u3002\u8fd9\u4e2a\u63d0\u4ea4\u53d1\u751f\u6210hotfix_533\u5206\u652f\u4e0a\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u5fc5\u987b\u5c06\u5176merge\u56demain\u5206\u652f\uff08\u6309gitflow\u7684\u89c4\u8303\uff0c\u8fd8\u5e94\u8be5\u5408\u5e76\u5230develop\u5206\u652f\uff0c\u4f46\u6b64\u65f6\u6211\u4eec\u53ea\u4ee5\u5408\u5e76\u56demain\u5206\u652f\u4e3a\u4f8b\uff09\u3002\u5047\u8bbe\u6211\u4eec\u5728\u4fee\u590dissue 533\u65f6\uff0c\u7ebf\u4e0a\u8fd8\u53d1\u73b0\u4e00\u4e2a\u65b0\u7684bug\uff0c\u8bb0\u4e3aissue 534\u3002\u800c\u8fd9\u4e2ahotfix\u5b8c\u6210\u5f97\u66f4\u65e9\uff0c\u4ea7\u751f\u4e86\u8bb0\u4e3ac4\u7684\u63d0\u4ea4\uff0c\u5df2\u7ecf\u5408\u5e76\u5230\u4e86main\u5206\u652f\u3002\u6b64\u65f6\uff0c\u76f8\u5173\u5206\u652f\u7684\u72b6\u6001\u56fe\u5982\u4e0b\u6240\u793a\uff1a\n\n![](https://images.jieyu.ai/images/2023/01/20230124190629.png)\n\n\u5982\u679c\u63d0\u4ea4c4\u548cc3\u4fee\u6539\u4e92\u4e0d\u51b2\u7a81\uff08\u6bd4\u5982\u4e0d\u540c\u7684\u6587\u4ef6\uff0c\u6216\u8005\u5373\u4f7f\u540c\u4e00\u6587\u4ef6\uff0c\u4f46\u4e0d\u540c\u7684\u884c\uff09\uff0c\u8fd9\u6837git\u4e00\u822c\u53ef\u4ee5\u76f4\u63a5\u5408\u5e76\uff0c\u5982\u679c\u76f8\u4e92\u51b2\u7a81\uff0c\u5219\u6211\u4eec\u8fd8\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u3002\n\n\u6211\u4eec\u5148\u770b\u6ca1\u6709\u51b2\u7a81\u7684\u60c5\u51b5\u3002\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u4ee5git\u7684\u539f\u751f\u547d\u4ee4\uff0c\u4ee5\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u6f14\u793a\u3002\u4f46\u4ece\u73b0\u5728\u8d77\uff0c\u6211\u4eec\u53ef\u80fd\u66f4\u591a\u5730\u4f7f\u7528\u56fe\u5f62\u5316\u754c\u9762\u6765\u4e3e\u4f8b\uff0c\u5e76\u63d0\u53ca\u53d1\u751f\u5728\u80cc\u540e\u7684git\u547d\u4ee4\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u5c06c4\u4ecehotfix_534\u5206\u652f\u4e0amerge\u56demain\u5206\u652f\u3002\u6211\u4eec\u8981\u5148\u5207\u6362\u5230main\u5206\u652f\uff0c\u518d\u5728\u4e0b\u9762\u7684\u754c\u9762\u4e2d\uff0c\u5c06\u9f20\u6807\u79fb\u52a8\u5230hotfix_534\u90a3\u4e2a\u6761\u76ee\u4e0a\uff0c\u518d\u53f3\u952e\u5524\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230124224237.png)\n\u70b9\u51fb\u201cMerge into current branch\u201d\uff0c\u5728\u63a5\u4e0b\u6765\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\"Merge\"(\u5bf9\u5e94\u7684\u547d\u4ee4\u662fgit merge), \u5982\u4e0b\u56fe\u6240\u793a\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230124224505.png)\n\n\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528git merge --no-ff\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5374\u4f7f\u7528\u4e86git merge\u3002\u8fd9\u662f\u56e0\u4e3a\uff0chotfix\u5c5e\u4e8e\u77ed\u751f\u547d\u671f\u7684\u5206\u652f\u3002\u5982\u679c\u6211\u4eec\u5de5\u4f5c\u5728develop\u5206\u652f\u4e0a\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528git merge --no-ff\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u7559develop\u5206\u652f\u7684\u5386\u53f2\u8bb0\u5f55\u3002\u5982\u679c\u4f60\u5e0c\u671b\u9488\u5bf9\u4e0d\u540c\u7684\u5206\u652f\uff0c\u5bf9merge\u52a8\u4f5c\u5b9a\u5236\u4e0d\u540c\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539gitconfig\u6587\u4ef6\u6765\u5b9e\u73b0\uff0c\u8bf7\u611f\u5174\u8da3\u7684\u8bfb\u8005\u81ea\u884c\u7814\u7a76\u3002\n\n\u5982\u679cc4\u4e0ec3\u76f8\u4e92\u51b2\u7a81\u5462\uff1f\u8fd9\u79cd\u60c5\u51b5\u88ab\u79f0\u4e3a\u4e09\u8def\u5f52\u5e76\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u3002\u4ecevscode 1.69\u8d77\uff0cvscode\u63d0\u4f9b\u4e86\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u5668\uff0c\u5927\u5927\u65b9\u4fbf\u4e86\u5408\u5e76\uff0c\u4e5f\u7ec8\u4e8e\u8865\u9f50\u4e86\u5b83\u4e0epycharm\u4e4b\u95f4\u6700\u5927\u7684\u4e00\u5757\u77ed\u677f\u3002\n\n\u6211\u4eec\u9700\u8981\u5728vscode\u7684\u8bbe\u7f6e\u4e2d\uff0c\u6253\u5f00\u76f8\u5e94\u7684\u5f00\u5173\uff1a\n\n![](https://images.jieyu.ai/images/2023/01/20230125104712.png)\n\n\u6b64\u65f6\u518d\u6267\u884c\u5408\u5e76\uff0c\u6211\u4eec\u4f1a\u770b\u5230\u4ee5\u4e0b\u754c\u9762\uff1a\n\n![](https://images.jieyu.ai/images/2023/01/20230125104901.png)\n\n\u6211\u4eec\u70b9\u51fb\"Resolve in Merge Editor\"\u6309\u94ae\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230125105008.png)\n\n\u5de6\u8fb9\u7684\u662fhotfix_533\u5206\u652f\uff0c\u53f3\u8fb9\u7684\u5219\u662fmain\u5206\u652f\u3002\u4e24\u4e2a\u6539\u52a8\u76f8\u4e92\u51b2\u7a81\uff0c\u5982\u679c\u6211\u4eec\u63a5\u53d7hotfix_533\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u9876\u90e8\u7684\"Accept Incoming Change\"\u6309\u94ae\uff0c\u5982\u679c\u6211\u4eec\u63a5\u53d7main\u5206\u652f\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u5e95\u90e8\u7684\"Accept Current Change\"\u6309\u94ae\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u4fdd\u7559\u4e24\u4e2a\u5206\u652f\u7684\u6539\u52a8\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u4e2d\u95f4\u7684\"Accept Combination\"\u6309\u94ae\uff0c\u5c06\u4e24\u4e2a\u4fee\u6539\u540c\u65f6\u4fdd\u7559\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5168\u90e8\u62d2\u7edd\u4e24\u4e2a\u4fee\u6539\uff0c\u8fd9\u6837\u53ea\u9700\u8981\u7f16\u8f91\u4e0b\u9762\u7684result\u7a97\u53e3\u4e2d\u5bf9\u5e94\u884c\uff08\u56fe\u4e2d\u7684\u7b2c3\u884c\uff09\u5c31\u884c\u4e86\u3002\n\n\u5f53\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u51b2\u7a81\u90fd\u88ab\u89e3\u51b3\u4e4b\u540e\uff0c\u70b9\u51fb\"Complete Merge\u201c\u6309\u94ae\u5173\u95ed\u7f16\u8f91\u5668\uff0c\u5b8c\u6210\u5408\u5e76\u3002\n\n### rebase\n\u53d8\u57fa\u662f\u53e6\u4e00\u79cd\u5408\u5e76\u5206\u652f\u7684\u65b9\u5f0f\u3002\u53d8\u57fa\u7684\u76ee\u7684\u662f\u5c06\u4e00\u4e2a\u5206\u652f\u7684\u6539\u52a8\uff0c\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4ee5\u4e0b\u72b6\u6001\uff1a\n![](https://images.jieyu.ai/images/2023/01/20230124190629.png)\n\n\u5982\u679c\u6211\u4eec\u4f7f\u7528git merge\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u5408\u5e76\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u4e0b\u56fe:\n![](https://images.jieyu.ai/images/2023/01/20230125111449.png)\n\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9hotfix_533\u8fdb\u884crebase\u64cd\u4f5c\uff0c\u4f7f\u5f97c3\u7684\u7236\u7ed3\u70b9\u4ecec2\u53d8\u4e3ac4\uff1a\n</code></pre> $ git checkout hotfix_533 $ git rebase main First, rewinding head to replay your work on top of it... Applying: added staged command <pre><code>rebase\u66f4\u8c61\u662f\u4e00\u79cd\u64cd\u4f5c\u91cd\u653e\uff0c\u5b83\u628amain\u5206\u652f\u4e0a\u5728c2\uff08\u5171\u540c\u7956\u5148\uff09\u4e4b\u540e\u7684\u6240\u6709\u63d0\u4ea4\uff0c\u90fd\u91cd\u653e\u5230\u4e86hotfix_533\u5206\u652f\u4e0a\uff0c\u518d\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5e94\u7528c3\u3002\u6700\u540e\uff0c\u6211\u4eec\u5c06hotfix_533\u5206\u652f\u518d\u5408\u5e76\u56demain\u3002\u4e0b\u56fe\u53cd\u5e94\u4e86\u4e24\u4e2a\u5206\u652f\u4e0a\u7684\u53d8\u5316\u548c\u6700\u7ec8\u72b6\u6001\uff1a\n\n![](https://images.jieyu.ai/images/2023/01/20230125114238.png)\n\n\u4e0e\u4e0d\u4f7f\u7528rebase\u76f8\u6bd4\uff0c\u8fdb\u884crebase\u4e4b\u540e\uff0c\u5206\u652f\u5386\u53f2\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5206\u53c9\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u5f97\u5206\u652f\u5386\u53f2\u66f4\u52a0\u6e05\u6670\u3002\n\n\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u53d8\u57fa\u548c\u5408\u5e76\u90fd\u7528\u4e8e\u4ee3\u7801\u5408\u5e76\uff0c\u4f60\u4e00\u5b9a\u4f1a\u60f3\u95ee\uff0c\u5230\u5e95\u54ea\u79cd\u65b9\u5f0f\u66f4\u597d\uff0c\u4e24\u79cd\u65b9\u6cd5\uff0c\u5206\u522b\u5728\u4f55\u65f6\u4f7f\u7528\uff1f\u5b9e\u9645\u4e0a\uff0c\u65e0\u8bba\u4f7f\u7528\u54ea\u79cd\u65b9\u6cd5\uff0c\u4ee3\u7801\u7684\u6700\u7ec8\u72b6\u6001\u90fd\u5fc5\u7136\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u540c\u7684\u53ea\u662f\u63d0\u4ea4\u5386\u53f2\u3002\n\n\u6709\u4e00\u79cd\u89c2\u70b9\u8ba4\u4e3a\uff0c\u4ed3\u5e93\u7684\u63d0\u4ea4\u5386\u53f2\u5373\u662f\u8bb0\u5f55\u5b9e\u9645\u53d1\u751f\u8fc7\u4ec0\u4e48\u3002\u5b83\u662f\u9488\u5bf9\u5386\u53f2\u7684\u6587\u6863\uff0c\u672c\u8eab\u5c31\u6709\u4ef7\u503c\uff0c\u4e0d\u80fd\u4e71\u6539\u3002 \u4ece\u8fd9\u4e2a\u89d2\u5ea6\u770b\u6765\uff0c\u6539\u53d8\u63d0\u4ea4\u5386\u53f2\u662f\u4e00\u79cd\u4eb5\u6e0e\uff0c\u4f60\u4f7f\u7528\u8c0e\u8a00\u63a9\u76d6\u4e86\u5b9e\u9645\u53d1\u751f\u8fc7\u7684\u4e8b\u60c5\u3002\u5982\u679c\u7531\u5408\u5e76\u4ea7\u751f\u7684\u63d0\u4ea4\u5386\u53f2\u662f\u4e00\u56e2\u7cdf\u600e\u4e48\u529e\uff1f\u65e2\u7136\u4e8b\u5b9e\u5c31\u662f\u5982\u6b64\uff0c\u90a3\u4e48\u8fd9\u4e9b\u75d5\u8ff9\u5c31\u5e94\u8be5\u88ab\u4fdd\u7559\u4e0b\u6765\uff0c\u8ba9\u540e\u4eba\u80fd\u591f\u67e5\u9605\u3002\n\n\u53e6\u4e00\u79cd\u89c2\u70b9\u5219\u6b63\u597d\u76f8\u53cd\uff0c\u4ed6\u4eec\u8ba4\u4e3a\u63d0\u4ea4\u5386\u53f2\u662f\u9879\u76ee\u8fc7\u7a0b\u4e2d\u53d1\u751f\u7684\u4e8b\u3002\u6ca1\u4eba\u4f1a\u51fa\u7248\u4e00\u672c\u4e66\u7684\u7b2c\u4e00\u7248\u8349\u7a3f\uff0c\u8f6f\u4ef6\u7ef4\u62a4\u624b\u518c\u4e5f\u662f\u9700\u8981\u53cd\u590d\u4fee\u8ba2\u624d\u80fd\u65b9\u4fbf\u4f7f\u7528\u3002\u6301\u8fd9\u4e00\u89c2\u70b9\u7684\u4eba\u4f1a\u4f7f\u7528rebase\u6765\u7f16\u5199\u6545\u4e8b\uff0c\u600e\u4e48\u65b9\u4fbf\u540e\u6765\u7684\u8bfb\u8005\u5c31\u600e\u4e48\u5199\u3002\n\n\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u56de\u5230\u4e4b\u524d\u7684\u95ee\u9898\u4e0a\u6765\uff0c\u5230\u5e95\u5408\u5e76\u8fd8\u662f\u53d8\u57fa\u597d\uff1f\u8fd9\u5e76\u6ca1\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u7b54\u6848\u3002 Git\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u4f60\u5bf9\u63d0\u4ea4\u5386\u53f2\u505a\u8bb8\u591a\u4e8b\u60c5\uff0c\u4f46\u6bcf\u4e2a\u56e2\u961f\u3001\u6bcf\u4e2a\u9879\u76ee\u5bf9\u6b64\u7684\u9700\u6c42\u5e76\u4e0d\u76f8\u540c\u3002 \u65e2\u7136\u4f60\u5df2\u7ecf\u5206\u522b\u5b66\u4e60\u4e86\u4e24\u8005\u7684\u7528\u6cd5\uff0c\u76f8\u4fe1\u4f60\u80fd\u591f\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4f5c\u51fa\u660e\u667a\u7684\u9009\u62e9\u3002\n\n\u4e0d\u8fc7\uff0c\u6211\u4eec\u8981\u5f3a\u8c03\u7684\u662f\uff0crebase\u662f\u4e00\u79cd\u9ad8\u7ea7\u64cd\u4f5c\uff0c\u5728\u4e00\u4e9b\u590d\u6742\u7684\u63d0\u4ea4\u7ec4\u5408\u4e0b\uff08\u6bd4\u5982\u591a\u4eba\u534f\u4f5c\u5f00\u53d1\u65f6\uff0c\u6709\u4eba\u5bf9\u5df2\u63a8\u9001\u7684\u63d0\u4ea4\u8fdb\u884c\u4e86\u56de\u6eda\uff09\uff0c\u4f7f\u7528rebase\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002\u56e0\u6b64\uff0c\u5728\u4f60\u6df1\u5165\u7406\u89e3rebase\u7684\u5de5\u4f5c\u539f\u7406\u4e4b\u524d\uff0c\u4e5f\u53ef\u4ee5\u53ea\u4f7f\u7528merge\u3002\n### \u5206\u652f\u6bd4\u8f83: git diff\n\u5728\u8fdb\u884c\u4ee3\u7801\u5408\u5e76\u524d\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u5728\u4e0d\u540c\u7684\u5206\u652f\u95f4\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u4fbf\u4e86\u89e3\u4e24\u4e2a\u5206\u652f\u7684\u5dee\u5f02\u3002\u5b83\u4e5f\u5e2e\u52a9\u6211\u4eec\u5728\u5408\u5e76\u4e4b\u524d\u5c31\u53d1\u73b0\u6709\u54ea\u4e9b\u5408\u5e76\u51b2\u7a81\u3002\n\nGit\u63d0\u4f9b\u4e86git diff\u547d\u4ee4\u6765\u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u7684\u5dee\u5f02\uff0c\u4e0d\u4ec5\u5982\u6b64\uff0c\u5b83\u8fd8\u53ef\u4ee5\u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u6211\u4eec\u5148\u7b80\u5355\u4ecb\u7ecd\u4e0bgit diff\u547d\u4ee4\u884c\u4e0b\u7684\u4e00\u4e9b\u7528\u6cd5\uff0c\u7136\u540e\u5c31\u8df3\u8f6c\u5230\u56fe\u5f62\u5316\u754c\u9762\u3002\u6bd5\u7adf\uff0c\u56fe\u5f62\u5316\u754c\u9762\u53ef\u4ee5\u663e\u793a\u51fa\u66f4\u591a\u7684\u4fe1\u606f\u3002\n\n```bash {class='line-numbers'}\n# \u4f7f\u7528\u4e24\u70b9\u8bed\u6cd5\u65f6\uff0c\u663e\u793a\u7684\u662f\u5728\u540e\u4e00\u4e2a\u5206\u652f\u4e0a\uff0c\u800c\u4e0d\u5728\u524d\u4e00\u4e2a\u5206\u652f\u4e0a\u7684\u63d0\u4ea4\n$ git diff branch1..branch2\ndiff --git a/file-feature b/file-feature\nnew file mode 100644\nindex 0000000..add9a1c\n--- /dev/null\n+++ b/file-feature\n@@ -0,0 +1 @@\n+this is a feature file\n\n# \u4f7f\u7528\u4e09\u70b9\u8bed\u6cd5\uff0c\u663e\u793a\u7684\u662f\u81ea\u5171\u540c\u7956\u5148\u4ee5\u6765\u7684\u6240\u6709\u63d0\u4ea4\u7684\u53bb\u540c\u5b50\u96c6\n$ git diff branch1...branch2\n</code></pre> \u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\u5728git lens\u4e2d\uff0c\u5982\u4f55\u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u7684\u83dc\u5355\u4e2d\uff0c\u9009\u62e9\u8981\u6bd4\u8f83\u7684\u4e24\u4e2a\u5206\u652f\uff1a</p> <p> \u7136\u540e\u6211\u4eec\u5728\"Search &amp; Compare\"\u9762\u677f\u4e0b\uff0c\u627e\u5230\u5bf9\u6bd4\u7ed3\u679c\uff1a  \u6ce8\u610f\u5230\u5728\"Comparing hotfix/...\"\u5b57\u7b26\u4e32\u540e\u9762\uff0c\u6709\u4e00\u4e2a\u4ea4\u6362\u56fe\u6807\u3002\u5b83\u7528\u6765\u4ea4\u6362git diff\u4e24\u70b9\u8bed\u6cd5\u4e2d\u7684\u4e24\u4e2a\u5206\u652f\u7684\u987a\u5e8f\u3002\u8981\u67e5\u770b\u6587\u4ef6\u5185\u5bb9\u7684\u53d8\u66f4\uff0c\u53ef\u4ee5\u5728\"1 file changed\"\u7684\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u627e\u5230\u53d8\u5316\u7684\u6587\u4ef6\u540d\uff0c\u7136\u540e\u70b9\u51fb\u5b83\u5c31\u53ef\u4ee5\u6d4f\u89c8\u53d8\u66f4\u7684\u5177\u4f53\u60c5\u51b5\u4e86\u3002</p>"},{"location":"chap08/#reset\u4e0echeckout","title":"reset\u4e0echeckout","text":"<p>\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u63a5\u89e6\u5230\u4e86checkout\u547d\u4ee4\u3002\u8fd9\u91cc\u518d\u4ecb\u7ecd\u4e00\u4e2a\u7c7b\u4f3c\u7684\u547d\u4ee4\uff0c\u5373reset\u3002</p> <p>\u8981\u7406\u89e3reset\u547d\u4ee4\uff0c\u6211\u4eec\u9700\u8981\u5148\u56de\u987e\u4e0bgit\u7684\u4e09\u68f5\u6811\u6a21\u578b\uff0c\u5373\u5de5\u4f5c\u533a\u3001\u6682\u5b58\u533a(index)\u548cHEAD\u3002reset\u547d\u4ee4\u7684\u4f5c\u7528\u662f\u5c06\u5f53\u524d\u5206\u652f\u6307\u5411\u67d0\u4e2a\u63d0\u4ea4\uff0c\u540c\u65f6\u91cd\u7f6e\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\uff0c\u4f7f\u5b83\u4eec\u4e0e\u6307\u5b9a\u7684\u63d0\u4ea4\u4e00\u81f4\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u5982\u4e0b\u63d0\u4ea4\u5386\u53f2\uff1a ```bash {class='line-numbers'} $ git log --oneline 59b6711 (HEAD -&gt; main) test reset 4699b9e (origin/main, develop) Initial commit by ppw</p> <p>$ git status git status On branch main Your branch is ahead of 'origin/main' by 1 commit.   (use \"git push\" to publish your local commits)</p> <p>nothing to commit, working tree clean <pre><code>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u524d\u5171\u67091\u4e2a\u672a\u63a8\u9001\u7684\u63d0\u4ea4\uff0c\u537359b6711\u3002\u73b0\u5728\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u91cd\u7f6e\u8fd9\u4e2a\u63d0\u4ea4\uff1a\n\n```bash {class='line-numbers'}\n# \u91cd\u7f6e\u5230\u4e0a\u4e00\u4e2a\u63d0\u4ea4\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684HEAD~\u8868\u793a\u4e0a\u4e00\u4e2a\u63d0\u4ea4\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u63d0\u4ea4\u7684hash\u4e32\n$ git reset --soft HEAD~\n\n$ git status\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n        modified:   README.md\n</code></pre> \u73b0\u5728\uff0c\u4f60\u5c06\u5728vscode\u7684\u4fa7\u8fb9\u680f\u7684\"SOURCE CONTROL\"\u9762\u677f\u7684\"Staged Changes\"\u7c7b\u522b\u4e0b\uff0c\u770b\u5230\u51fa\u73b0\u4e86README.md\u6587\u4ef6\u3002\u8fd9\u76f8\u5f53\u4e8e\u53d6\u6d88\u4e86commit\u64cd\u4f5c\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5c06README.md\u518d\u63d0\u4ea4\u4e00\u6b21\uff0c\u7136\u540e\u518d\u6267\u884creset\u547d\u4ee4\uff1a ```bash {class='line-numbers'} git reset --mixed HEAD~ <pre><code>\u8fd9\u6b21\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u53c2\u6570\u662fmixed\uff0c\u6211\u4eec\u5c06\u770b\u5230README.md\u6587\u4ef6\u51fa\u73b0\u5728\"Changes\"\u7c7b\u522b\u4e0b,\u5373\u76f8\u5f53\u4e8e\u53d6\u6d88\u4e86commit\u548cadd\u64cd\u4f5c\u3002\n\n\u5982\u679c\u6211\u4eec\u4f7f\u7528--hard\u53c2\u6570\u6765\u6267\u884creset\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u8fd8\u5c06\u53d6\u6d88\u6587\u4ef6\u7684\u53d8\u66f4\u672c\u8eab\uff1a\n```bash {class='line-numbers'}\ngit reset --hard HEAD~\n</code></pre> \u5982\u679c\u6211\u4eec\u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\uff0c\u5219reset\u5c06\u6267\u884c\u4e00\u4e2amixed\u7684\u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4ece\u56fe\u5f62\u754c\u9762\u4e0a\u6267\u884creset\u64cd\u4f5c\uff0c\u5927\u6982\u5206\u8fd9\u4e48\u51e0\u6b65\u3002\u9996\u5148\uff0c\u6211\u4eec\u627e\u5230COMMITS\u9762\u677f\uff0c\u7136\u540e\u627e\u5230\u8981\u91cd\u7f6e\u7684\u63d0\u4ea4\uff0c\u70b9\u51fb\u5b83\uff0c\u9009\u62e9\"undo commit\"\u64cd\u4f5c\uff0c\u8fd9\u76f8\u5f53\u4e8e\u6267\u884c\u4e86\u4e00\u4e2a\u201dreset --soft HEAD~\"\u64cd\u4f5c\u3002</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u8fd8\u8981\u53d6\u6d88\"stage\"\u64cd\u4f5c\uff08\u5373undo add)\uff0c\u5219\u53ef\u4ee5\u5728\u201cSOURCE CONTROLE\u201d\u9762\u677f\u4e2d\uff0c\u627e\u5230staged changes\uff0c\u518d\u70b9\u51fb\u201cunstage all changes\"\u6309\u94ae\u3002\u540c\u6837\u7684\u64cd\u4f5c\u8fd8\u53ef\u4ee5\u8fd0\u7528\u5728\"Changes\"\u7c7b\u522b\u4e0b\u9762\u7684\u6587\u4ef6\u4e0a\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"chap08/#gutter-change","title":"gutter change","text":"<p>\u5728\u6211\u4eec\u524d\u9762\u7684\u6682\u5b58(staging)\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u4ee5\u6574\u4e2a\u6587\u4ef6\u4e3a\u5355\u4f4d\u8fdb\u884c\u6682\u5b58\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u5e94\u8be5\u628a\u67d0\u4e00\u4e2a\u6587\u4ef6\u5206\u4e3a\u51e0\u4e2a\u4e0d\u540c\u7684\u6682\u5b58\u6765\u6dfb\u52a0\u3002\u8fd9\u4e2a\u547d\u4ee4\u5728git\u4e2d\u79f0\u4e3a\u4ea4\u4e92\u5f0f\u6682\u5b58(interactive staging)\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u6267\u884c\u6bd4\u8f83\u7e41\u7410\uff0c\u8fd9\u91cc\u6211\u4eec\u4ecb\u7ecdgit lens\u4e2d\u7684gutter change\u529f\u80fd\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a  gutter change\u662f\u6307\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u7f16\u8f91\u533a\u884c\u53f7\u6307\u793a\u53f3\u4fa7\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u6761\u6765\u6307\u793a\u5f53\u524d\u533a\u57df\u5b58\u5728\u53d8\u66f4\uff0c\u5f53\u4f60\u70b9\u51fb\u8fd9\u4e2a\u7ebf\u6761\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u663e\u793a\u5f53\u524d\u533a\u57df\u7684\u53d8\u66f4\u5386\u53f2\uff0c\u5e76\u4e14\u5141\u8bb8\u4f60\u4ec5\u5bf9\u8fd9\u51e0\u884c\u53d8\u66f4\u8fdb\u884c\u56de\u6eda\u6216\u8005\u63d0\u4ea4\u3002</p>"},{"location":"chap08/#\u8c01\u5f15\u5165\u4e86\u9519\u8bef\u5982\u4f55\u8ffd\u8e2a\u4ee3\u7801\u53d8\u5316\u6848\u4f8b","title":"\u8c01\u5f15\u5165\u4e86\u9519\u8bef\uff1a\u5982\u4f55\u8ffd\u8e2a\u4ee3\u7801\u53d8\u5316\uff08\u6848\u4f8b\uff09","text":"<p>\u5047\u8bbe\u4e00\u7ec4\u4eba\u5171\u540c\u5f00\u53d1\u4e00\u4e2a\u529f\u80fd\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u4eba\u63d0\u4ea4\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\uff0c\u8fd9\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\u88ab\u5408\u5e76\u5230\u4e86\u4e3b\u5206\u652f\uff0c\u5bfc\u81f4\u4e86\u7ebf\u4e0a\u7684\u6545\u969c\u3002\u4e00\u4e2a\u7d27\u6025\u7684\u4fee\u590d\u7248\u672c\u53d1\u5e03\u540e\uff0c\u95ee\u9898\u4fee\u590d\u4e86\u3002\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u56e2\u961f\u51b3\u5b9a\u5f00\u4e00\u4e2a\u4e8b\u540e\u5206\u6790\u7684\u4f1a\u8bae\uff0c\u5e0c\u671b\u77e5\u9053\u9519\u8bef\u662f\u5982\u4f55\u5f15\u5165\u7684\uff0c\u4eca\u540e\u5982\u4f55\u4e3e\u4e00\u53cd\u4e09\uff0c\u907f\u514d\u7c7b\u4f3c\u9519\u8bef\u3002</p> <p>\u901a\u5e38\uff0c\u5982\u679c\u9519\u8bef\u4ee3\u7801\u8fd8\u7559\u5728\u5f53\u524d\u7684\u4ee3\u7801\u4e2d\uff0c\u663e\u7136\u6211\u4eec\u53ea\u8981\u901a\u8fc7git blame\u5c31\u53ef\u4ee5\u77e5\u9053\u662f\u8c01\u63d0\u4ea4\u7684\u3002\u5982\u679c\u5b89\u88c5\u4e86git lens\uff0c\u53ea\u9700\u8981\u5c06\u9f20\u6807\u79fb\u52a8\u5230\u8be5\u884c\u4ee3\u7801\u672b\u5c3e\uff0cgit lens\u5c31\u4f1a\u663e\u793a\u8be5\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\u5386\u53f2\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p> \u4f46\u662f\uff0c\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4fee\u590d\u4e86\u8be5\u9519\u8bef\u4ee3\u7801\uff0c\u5e76\u4e14\u4e5f\u8fc7\u53bb\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u6240\u4ee5\u8be5\u6bb5\u4ee3\u7801\u5df2\u7ecf\u4ece\u4ee3\u7801\u4e2d\u5220\u9664\u4e86\u3002\u73b0\u5728\uff0c\u60df\u4e00\u7684\u7ebf\u7d22\uff0c\u5c31\u662f\u5927\u5bb6\u4e00\u4e2a\u9519\u8bef\u7684\u5b57\u7b26\u4e32\u5f15\u8d77\u4e86\u8fd9\u4e2abug\u3002\u90a3\u4e48\uff0c\u5982\u4f55\u901a\u8fc7\u8fd9\u4e2a\u5b57\u7b26\u4e32\u6765\u641c\u7d22\u5462\uff1f</p> <p>\u7b54\u6848\u662fgit log\u547d\u4ee4+git blame\u547d\u4ee4\u3002 ```bash {class='line-numbers'} $ git log -S \"hotfix 533\" -p --all commit 8e24fd76282a9e876fe3ceed4e95908d4d4300fd (HEAD -&gt; main) Author: aaron yang aaron_yang@jieyu.ai Date:   Wed Jan 25 20:18:30 2023 +0800</p> <pre><code>test\n</code></pre> <p>diff --git a/README.md b/README.md index 8a5ccfb..909d4f6 100644 --- a/README.md +++ b/README.md @@ -1,5 +1,6 @@  # sample</p> <p>+this is hotfix 533</p> <p>   commit e5cb519e57d131f23acea92fe46f39a21319a570 (origin/hotfix_534, hotfix_534) Author: aaron yang  Date:   Tue Jan 24 20:58:02 2023 +0800      \ud83d\udc1e fix: fix  diff --git a/README.md b/README.md index 8a5ccfb..2539c76 100644 --- a/README.md +++ b/README.md @@ -1,5 +1,6 @@  # sample  +this is hotfix 534, should be conflict with hotfix 533  <pre><code>\u5171\u6709\u4e24\u4e2a\u63d0\u4ea4\u5305\u542b\u5b57\u7b26\u4e32\"hotfix 533\"\u3002\u6211\u4eec\u66f4\u5173\u5fc38e24\u8fd9\u4e2a\u63d0\u4ea4\u4e2d\u7684\u53d8\u66f4\u662f\u8c01\u5f15\u5165\u7684\uff0c\u4e8e\u662f\u6211\u4eec\u4f7f\u7528git blame\u547d\u4ee4\u6765\u67e5\u770b\u8be5\u63d0\u4ea4\u7684\u53d8\u66f4\u5386\u53f2\uff1a\n```bash {class='line-numbers'}\n8e24fd76 (aaron yang 2023-01-25 20:18:30 +0800  3) this is hotfix 533\n</code></pre> \u62ec\u53f7\u5185\u663e\u793a\u4e86\u8be5\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\u8005\u548c\u63d0\u4ea4\u65f6\u95f4\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u53bb\u95ee\u95ee\u4ed6\uff0c\u5f53\u65f6\u5f15\u5165\u8fd9\u884c\u4ee3\u7801\u7684\u8003\u8651\u662f\u4ec0\u4e48\u3002  \u81f3\u6b64\uff0c\u6211\u4eec ## Github GitHub\u662f\u4e00\u4e2a\u5728\u7ebf\u8f6f\u4ef6\u6e90\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\uff0c\u4f7f\u7528Git\u4f5c\u4e3a\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\uff0c\u7531\u5f00\u53d1\u8005Chris Wanstrath\u3001P. J. Hyett\u548c\u6c64\u59c6\u00b7\u666e\u96f7\u65af\u987f\u00b7\u6c83\u7eb3\u4f7f\u7528Ruby on Rails\u7f16\u5199\u800c\u6210\u3002Github\u5f00\u59cb\u4e8e2007\u5e7410\u67081\u65e5\uff0c 2008\u5e744\u6708\u6b63\u5f0f\u4e0a\u7ebf\u3002\u57282018\u5e74\uff0cGitHub\u88ab\u5fae\u8f6f\u516c\u53f8\u6536\u8d2d\u3002  \u6839\u636e\u57282009\u5e74\u7684Git\u7528\u6237\u8c03\u67e5\uff0cGitHub\u662f\u6700\u6d41\u884c\u7684Git\u8bbf\u95ee\u7ad9\u70b9\u3002\u9664\u4e86\u5141\u8bb8\u4e2a\u4eba\u548c\u7ec4\u7ec7\u521b\u5efa\u548c\u8bbf\u95ee\u4fdd\u7ba1\u4e2d\u7684\u4ee3\u7801\u4ee5\u5916\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u4fbf\u793e\u4f1a\u5316\u5171\u540c\u8f6f\u4ef6\u5f00\u53d1\u7684\u529f\u80fd\uff0c\u5373\u4e00\u822c\u4eba\u53e3\u4e2d\u7684\u793e\u7fa4\u529f\u80fd\uff0c\u5305\u62ec\u5141\u8bb8\u7528\u6237\u8ffd\u8e2a\u5176\u4ed6\u7528\u6237\u3001\u7ec4\u7ec7\u3001\u8f6f\u4ef6\u5e93\u7684\u52a8\u6001\uff0c\u5bf9\u8f6f\u4ef6\u4ee3\u7801\u7684\u6539\u52a8\u548cbug\u63d0\u51fa\u8bc4\u8bba\u7b49\u3002GitHub\u4e5f\u63d0\u4f9b\u4e86\u56fe\u8868\u529f\u80fd\uff0c\u7528\u4e8e\u6982\u89c2\u663e\u793a\u5f00\u53d1\u8005\u4eec\u600e\u6837\u5728\u4ee3\u7801\u5e93\u4e0a\u5de5\u4f5c\u4ee5\u53ca\u8f6f\u4ef6\u7684\u5f00\u53d1\u6d3b\u8dc3\u7a0b\u5ea6\u3002  \u622a\u81f32022\u5e746\u6708\uff0cGitHub\u5df2\u7ecf\u6709\u8d85\u8fc75700\u4e07\u6ce8\u518c\u7528\u6237\u548c1.9\u4ebf\u4ee3\u7801\u5e93\uff08\u5305\u62ec\u81f3\u5c112800\u4e07\u5f00\u6e90\u4ee3\u7801\u5e93\uff09\uff0c\u4e8b\u5b9e\u4e0a\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e16\u754c\u4e0a\u6700\u5927\u7684\u4ee3\u7801\u6258\u7ba1\u7f51\u7ad9\u548c\u5f00\u6e90\u793e\u533a\u3002\u5b83\u6258\u7ba1\u7684\u5de8\u5927\u6e90\u4ee3\u7801\u5e93\uff0c\u4e5f\u6210\u4e3acopilot\u7684\u8bad\u7ec3\u6570\u636e\u96c6\u3002  \u9664\u4e86\u4f5c\u4e3aGit\u7684\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\u5916\uff0cgithub\u8fd8\u63d0\u4f9b\u4e86github pages\u7f51\u9875\u6258\u7ba1\u670d\u52a1\uff08\u53ef\u5b58\u653e\u9759\u6001\u7f51\u9875\uff0c\u5305\u62ec\u535a\u5ba2\u3001\u9879\u76ee\u6587\u6863\u751a\u81f3\u6574\u672c\u4e66\uff09\uff1bcodespace\u5728\u7ebf\u5f00\u53d1\u73af\u5883\u548cgithub actions CI\u7b49\u670d\u52a1\u3002   \u636e\u7edf\u8ba1\uff0cgithub\u7528\u6237\u4e2d\uff0c\u7537\u6027\u7fa4\u4f53\u9ad8\u8fbe95%\u4ee5\u4e0a\uff0c\u56e0\u6b64github\u4e5f\u5e38\u88ab\u7f51\u53cb\u620f\u79f0\u4e3aGayhub\uff0c\u5168\u7403\u6700\u5927\u540c\u6027\u4ea4\u53cb\u7f51\u7ad9\u3002  Github\u7f51\u9875\u7248\u7684\u529f\u80fd\u7559\u7ed9\u8bfb\u8005\u81ea\u5df1\u63a2\u7d22\u3002\u8fd9\u91cc\u4e3b\u8981\u8bb2\u89e3\u4e0bgithub cli\u7684\u529f\u80fd\u548c\u7528\u6cd5\u3002  \u9664\u4e86\u7f51\u9875\u4e4b\u5916\uff0cGithub\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9bREST\u98ce\u683c\u7684API\u4f9b\u5927\u5bb6\u4f7f\u7528\uff0c\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528\u7684API\u7248\u672c\u79f0\u4e3aV3\u3002\u901a\u8fc7\u8fd9\u4e9bAPI\uff0c\u6211\u4eec\u53ef\u4ee5\u7ba1\u7406\u4ed3\u5e93\u3001\u8bbf\u95ee\u7528\u6237\u3001\u6784\u5efa\u548c\u89e6\u53d1CI\u3001\u7ba1\u7406issue\u7b49\u3002  \u8fd9\u4e9bAPI\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7curl\u6765\u5b8c\u6210\u4e0a\u8ff0\u529f\u80fd\u3002Github\u5219\u57fa\u4e8e\u8fd9\u4e9bAPI\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0cgithub cli\uff0c\u7b80\u79f0gh\u3002  ### \u5b89\u88c5 \u5728mac\u4e0b\u5b89\u88c5gh\uff0c\u53ef\u4ee5\u4f7f\u7528brew\u5b89\u88c5\uff1a <pre><code>$ brew install gh\n</code></pre>  \u5728linux\u548cbsd\u4e0b\u5b89\u88c5\uff0c\u5982\u679c\u662fDebian, Ubuntu Linux, Raspberry Pi OS\u7b49\u57fa\u4e8eapt\u7684\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528apt\u5b89\u88c5\uff1a ```bash {class='line-numbers'} type -p curl &gt;/dev/null || sudo apt install curl -y curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg \\ &amp;&amp; sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg \\ &amp;&amp; echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" | sudo tee /etc/apt/sources.list.d/github-cli.list &gt; /dev/null \\ &amp;&amp; sudo apt update \\ &amp;&amp; sudo apt install gh -y <pre><code>\u5982\u679c\u662fFedora, CentOS, Red Hat Enterprise Linux\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528dnf:\n```bash\nsudo dnf install 'dnf-command(config-manager)'\nsudo dnf config-manager --add-repo https://cli.github.com/packages/rpm/gh-cli.repo\nsudo dnf install gh\n</code></pre> \u5982\u679c\u60a8\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u5728\u6b64\u5217\uff0c\u53ef\u4ee5\u53c2\u8003[installing gh on Linux and BSD](https://github.com/cli/cli/blob/trunk/docs/install_linux.md)\u8fd9\u7bc7\u6587\u7ae0\u3002  \u5982\u679c\u662fwindows\uff0c\u53ef\u4ee5\u901a\u8fc7winget, scoop, Chocolatey\u7b49\u5305\u7ba1\u7406\u5de5\u5177\u5b89\u88c5\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d[\u5b89\u88c5\u5305](https://github.com/cli/cli/releases/tag/v2.22.0)\u5b89\u88c5\u3002  \u6700\u540e\uff0c\u5982\u679c\u5728\u6240\u6709\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5982\u679c\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86conda\uff0c\u5219\u4e5f\u53ef\u4ee5\u901a\u8fc7conda\u6765\u5b89\u88c5\uff1a <pre><code>$ conda install -c conda-forge gh\n</code></pre>  github cli\u7684\u4e3b\u8981\u547d\u4ee4\u6709\uff1a <pre><code>auth:        \u5b8c\u6210gh\u548cgit\u5728github\u4e0a\u7684\u9274\u6743\ncodespace:   \u8fde\u63a5\u5e76\u7ba1\u7406codespace\ngist:        \u7ba1\u7406gists\uff0c\u4e3b\u8981\u662f\u589e\u5220\u6539\u67e5\u7684\u4e00\u4e9b\u52a8\u4f5c\nissue:       \u7ba1\u7406issue\uff0c\u5305\u62ec\u67e5\u770b\u3001\u7f16\u8f91\u3001\u8bc4\u8bba\u3001\u5173\u95ed\u548c\u91cd\u65b0\u6253\u5f00\u3001\u79fb\u4ea4\u7b4916\u4e2a\u5b50\u547d\u4ee4\npr:          \u7ba1\u7406pull request\uff0c\u5305\u62eccheckout, close, diff, edit\u7b4916\u4e2a\u5b50\u547d\u4ee4\nrelease:     \u7ba1\u7406\u7248\u672c\u53d1\u5e03\uff0c\u5305\u62ec\u589e\u5220\u6539\u67e5\u7b498\u4e2a\u5b50\u547d\u4ee4\nrepo:        \u7ba1\u7406\u5b58\u50a8\u5e93\uff0c\u5305\u62ec\u514b\u9686\u3001\u521b\u5efa\u3001\u5220\u9664\u3001\u540c\u6b65\u7b4915\u4e2a\u5b50\u547d\u4ee4\nrun:         \u67e5\u770b\u3001\u5217\u51fa\u3001\u76d1\u63a7\u6700\u8fd1\u6267\u884c\u7684github actions\nworkflow:    \u5217\u51fa\u3001\u67e5\u770b\u3001\u542f\u7528\u548c\u505c\u6b62\u5b9a\u4e49\u4e2d\u7684workflow\u3002\u4e0erun\u76f8\u6bd4\uff0c\u76f8\u5f53\u4e8e\u7a0b\u5e8f\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb\u3002\nalias:       \u7ba1\u7406\u547d\u4ee4\u522b\u540d\uff0c\u6216\u8005\u8bf4\u662f\u547d\u4ee4\u7684\u5feb\u6377\u65b9\u5f0f\nconfig:      gh\u7684\u8bbe\u7f6e\u547d\u4ee4\nextension:   \u7ba1\u7406gh\u7684\u6269\u5c55\nlabel:       \u7ba1\u7406\u4ed3\u5e93\u4e2d\u8ddfissue\u76f8\u5173\u7684\u6807\u7b7e\u3002\nsearch:      \u641c\u7d22\u4ed3\u5e93\uff0cissue\u548cpr\u3002\u7528\u6cd5\u4e3e\u4f8b\uff1a\u641c\u7d22python\u4e3b\u9898\u4e0b\u70b9\u8d5e\u6570\u6700\u591a\u7684\u4ed3\u5e93\u3002\nsecret:      \u7ba1\u7406\u8ddf\u4ed3\u5e93\u5173\u8054\u7684\u4e00\u4e9b\u673a\u5bc6\u4fe1\u606f\nssh-key:     \u7ba1\u7406ssh\u79d8\u94a5\nstatus:      \u663e\u793a\u672c\u8d26\u53f7\u5173\u8054\u7684issue\uff0cpr\u72b6\u6001\u548c\u6700\u8fd1\u7684\u6d3b\u52a8\n</code></pre> \u9664\u4e0a\u9762\u7684\u547d\u4ee4\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u4e13\u95e8\u4ecb\u7ecdapi\u8fd9\u4e2a\u547d\u4ee4\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u53d1\u8d77\u4e00\u4e2aGithub API\u8bf7\u6c42\uff0c\u56e0\u4e3agh\u5df2\u7ecf\u9274\u6743\u4e86\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u514d\u9274\u6743\u3002gh\u652f\u6301\u7684\u547d\u4ee4\u662f\u6709\u9650\u7684\uff0c\u901a\u8fc7api\u8fd9\u4e2a\u547d\u4ee4\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9gh\u8fdb\u884c\u6269\u5c55\uff0c\u6bd4\u5982\uff0c\u8981\u83b7\u53d6github\u7528\u6237\u5217\u8868\uff1a ```bash {class='line-numbers'} $ gh api users [   {     \"login\": \"mojombo\",     \"id\": 1,     \"node_id\": \"MDQ6VXNlcjE=\",     \"avatar_url\": \"https://avatars.githubusercontent.com/u/1?v=4\",     \"gravatar_id\": \"\",     \"url\": \"https://api.github.com/users/mojombo\",     \"html_url\": \"https://github.com/mojombo\",     \"followers_url\": \"https://api.github.com/users/mojombo/followers\",     \"following_url\": \"https://api.github.com/users/mojombo/following{/other_user}\",     \"gists_url\": \"https://api.github.com/users/mojombo/gists{/gist_id}\",     \"starred_url\": \"https://api.github.com/users/mojombo/starred{/owner}{/repo}\",     \"subscriptions_url\": \"https://api.github.com/users/mojombo/subscriptions\",     \"organizations_url\": \"https://api.github.com/users/mojombo/orgs\",     \"repos_url\": \"https://api.github.com/users/mojombo/repos\",     \"events_url\": \"https://api.github.com/users/mojombo/events{/privacy}\",     \"received_events_url\": \"https://api.github.com/users/mojombo/received_events\",     \"type\": \"User\",     \"site_admin\": false   },   {     \"login\": \"defunkt\",     \"id\": 2,     \"node_id\": \"MDQ6VXNlcjI=\",     \"avatar_url\": \"https://avatars.githubusercontent.com/u/2?v=4\",     \"gravatar_id\": \"\",     \"url\": \"https://api.github.com/users/defunkt\",     \"html_url\": \"https://github.com/defunkt\",     \"followers_url\": \"https://api.github.com/users/defunkt/followers\",     \"following_url\": \"https://api.github.com/users/defunkt/following{/other_user}\",     \"gists_url\": \"https://api.github.com/users/defunkt/gists{/gist_id}\",     \"starred_url\": \"https://api.github.com/users/defunkt/starred{/owner}{/repo}\",     \"subscriptions_url\": \"https://api.github.com/users/defunkt/subscriptions\",     \"organizations_url\": \"https://api.github.com/users/defunkt/orgs\",     \"repos_url\": \"https://api.github.com/users/defunkt/repos\",     \"events_url\": \"https://api.github.com/users/defunkt/events{/privacy}\",     \"received_events_url\": \"https://api.github.com/users/defunkt/received_events\",     \"type\": \"User\",     \"site_admin\": false   },   ... ] <pre><code>github cli\u53ef\u4ee5\u65b9\u4fbf\u6211\u4eec\u5bf9\u8d26\u6237\u548c\u4ed3\u5e93\u6267\u884c\u4e00\u4e9b\u81ea\u52a8\u5316\u7684\u64cd\u4f5c\u3002\u5728ppw\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6709\u4e00\u4e2a\u540d\u4e3arepo.sh\u7684\u811a\u672c\uff0c\u8fd9\u91cc\u9762\u5c31\u4f7f\u7528\u4e86github cli\u3002\n\n\u5f53ppw\u751f\u6210\u4e86\u6846\u67b6\u4ee3\u7801\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u628a\u5b83\u63d0\u4ea4\u5230github\u4e0a\u53bb\u3002\u7531\u4e8e\u6b64\u65f6github\u4e0a\u8fd8\u6ca1\u6709\u8fd9\u4e2a\u4ed3\u5e93\uff0c\u6211\u4eec\u5fc5\u987b\u7b49\u7528\u6237\u624b\u52a8\u521b\u5efa\uff0c\u56e0\u6b64\u8fd9\u4e2a\u63d0\u4ea4\u4e5f\u6ca1\u6cd5\u81ea\u52a8\u5316\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u4e86github cli\u4e4b\u540e\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\uff1a\n```bash {class='line-numbers'}\n# \u8c03\u7528gh\u547d\u4ee4\u521b\u5efa\u4ed3\u5e93\n$ gh repo create sample --public\n\n# \u7531\u4e8e\u4ed3\u5e93\u662fgh\u521b\u5efa\u7684\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u670d\u52a1\u5668\u7684url\u4e5f\u5c31\u786e\u5b9a\u4e0b\u6765\u4e86\uff0c\u5173\u8054\u8fd9\u4e00\u6b65\u4e5f\u5c31\u81ea\u52a8\u5316\u4e86\n$ git remote add origin git@github.com:zillionare/sample.git\n</code></pre>  \u53e6\u5916\uff0c\u901a\u8fc7github\u7684web\u754c\u9762\u6765\u8bbe\u7f6e\u4ed3\u5e93\u7684\u4e00\u4e9b\u673a\u5bc6\u4fe1\u606f\u6bd4\u8f83\u7e41\u7410\uff0c\u8017\u65f6\u8f83\u957f\u3002\u5047\u8bbe\u4f60\u7ba1\u7406\u4e8610\u4e2a\u4ee5\u4e0a\u7684\u4ed3\u5e93\uff0c\u8fd8\u8981\u5b9a\u671f\u66f4\u6362\u8fd9\u4e9b\u673a\u5bc6\u4fe1\u606f\u7684\u8bdd\u5c31\u66f4\u662f\u5982\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7gh secret\u547d\u4ee4\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6458\u5f55\u81earepo.sh\uff1a ```bash {class='line-numbers'} gh secret set PERSONAL_TOKEN --body $GH_TOKEN gh secret set PYPI_API_TOKEN --body $PYPI_API_TOKEN gh secret set TEST_PYPI_API_TOKEN --body $TEST_PYPI_API_TOKEN  gh secret set BUILD_NOTIFY_MAIL_SERVER --body $BUILD_NOTIFY_MAIL_SERVER gh secret set BUILD_NOTIFY_MAIL_PORT --body $BUILD_NOTIFY_MAIL_PORT gh secret set BUILD_NOTIFY_MAIL_FROM --body $BUILD_NOTIFY_MAIL_FROM gh secret set BUILD_NOTIFY_MAIL_PASSWORD --body $BUILD_NOTIFY_MAIL_PASSWORD gh secret set BUILD_NOTIFY_MAIL_RCPT --body $BUILD_NOTIFY_MAIL_RCPT ``` \u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d, \u5f53CI\u8fd0\u884c\u65f6\uff0c\u9700\u8981\u6709pypi\u548ctest.pypi\u7684API key, \u53d1\u5e03\u6587\u6863\u65f6\u9700\u8981github\u7684API key, \u4ee5\u53caCI\u5b8c\u6210\u65f6\uff0c\u9700\u8981\u53d1\u9001\u90ae\u4ef6\u901a\u77e5\uff0c\u8fd9\u9700\u8981\u914d\u7f6e\u76f8\u5173\u670d\u52a1\u5668\u4fe1\u606f\u53ca\u53d1\u4ef6\u4eba\u3001\u6536\u4ef6\u4eba\u4fe1\u606f\u3002  \u901a\u8fc7\u4e0a\u8ff0\u811a\u672c\uff0c\u6211\u4eec\u628a\u5f53\u524d\u5bbf\u4e3b\u673a\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u5bfc\u5165\u5230\u4e86\u4ed3\u5e93\u7684\u673a\u5bc6\u4fe1\u606f\u4e2d\uff0c\u8fd9\u6837\u5728github actions\u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e86\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u65e2\u4fdd\u8bc1\u4e86\u65b9\u4fbf\uff0c\u53c8\u4fdd\u8bc1\u4e86\u673a\u5bc6\u4fe1\u606f\u7684\u5b89\u5168\u6027\u3002"},{"location":"chap10/","title":"\u7b2c\u5341\u7ae0 \u64b0\u5199\u6280\u672f\u6587\u6863","text":"<p>\u6240\u6709\u597d\u7684\u4ea7\u54c1\u90fd\u5e94\u8be5\u6709\u4e00\u4efd\u7b80\u6d01\u6613\u8bfb\u7684\u4f7f\u7528\u8bf4\u660e\u4e66\uff0c\u9664\u4e86\u82f9\u679c\u3002\u82f9\u679c\u7528\u6237\u5929\u751f\u5c31\u77e5\u9053\u5982\u4f55\u4f7f\u7528\u4ed6\u4eec\u7684\u4ea7\u54c1\uff0c\u56e0\u6b64\u5b8c\u5168\u4e0d\u9700\u8981\u6587\u6863\u3002\u8fd9\u662f\u771f\u7684\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u82f9\u679c\u4ea7\u54c1\uff0c\u90fd\u6ca1\u6709\u7528\u6237\u8bf4\u660e\u4e66\u3002</p> <p>\u4f46\u662f\u5bf9\u4e8e\u8f6f\u4ef6\u6765\u8bf4\uff0c\u5176\u590d\u6742\u6027\u5f80\u5f80\u8981\u6c42\u5fc5\u987b\u6709\u4e0e\u4e4b\u914d\u5957\u7684\u8be6\u5c3d\u7684\u6280\u672f\u6587\u6863\uff0c\u4f7f\u7528\u8005\u624d\u597d\u4e0a\u624b\u3002\u5373\u4f7f\u662f\u5f00\u6e90\u4ea7\u54c1\uff0c\u4eba\u4eec\u901a\u5e38\u4e5f\u662f\u9996\u5148\u501f\u52a9\u4ea7\u54c1\u7684\u6280\u672f\u6587\u6863\u5feb\u901f\u4e0a\u624b\u3002\u5728\u4e00\u4e2a\u901f\u98df\u65f6\u4ee3\uff0c\u5982\u679c\u4e0d\u662f\u903c\u4e0d\u5f97\u5df2\uff0c\u8c01\u6709\u65f6\u95f4\u53bb\u4e00\u884c\u4e00\u884c\u5730\u770b\u4ee3\u7801\u5462\uff1f</p> <p>\u65e2\u7136\u6280\u672f\u6587\u6863\u5982\u6b64\u91cd\u8981\uff0c\u90a3\u4e48\uff0c\u5982\u4f55\u5199\u597d\u6280\u672f\u6587\u6863\uff0c\u6709\u54ea\u4e9b\u5de5\u5177\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fdb\u884c\u6587\u6863\u521b\u4f5c\uff0c\u597d\u7684\u6280\u672f\u6587\u6863\u6709\u54ea\u4e9b\u8bc4\u4ef7\u6807\u51c6\uff0c\u5176\u8bc4\u4ef7\u6807\u51c6\u80fd\u5426\u8c61\u8f6f\u4ef6\u4e00\u6837\u8fdb\u884c\u91cf\u5316\uff1f</p> <p>\u4f5c\u8005\u8ba4\u4e3a\uff0c\u9664\u4e86\u8981\u6c42\u6280\u672f\u4f5c\u8005\u672c\u8eab\u6709\u8f83\u597d\u7684\u6587\u7b14\u4e4b\u5916\uff0c\u4e00\u4e2a\u597d\u7684\u6280\u672f\u6587\u6863\u5e38\u5e38\u8fd8\u5305\u62ec\u4ee5\u4e0b\u6280\u672f\u8981\u6c42\uff1a</p> <ol> <li>\u89c4\u8303\u7684\u6587\u6863\u7ed3\u6784\uff0c\u7b80\u6d01\u4f18\u7f8e\u7684\u683c\u5f0f</li> <li>\u5185\u5bb9\u51c6\u786e\u65e0\u8bef\uff1a\u5305\u62ec\u6587\u6863\u7248\u672c\u4e0e\u4ee3\u7801\u5b9e\u73b0\u59cb\u7ec8\u4fdd\u6301\u4e00\u81f4\uff08\u591a\u7248\u672c\uff09</li> <li>\u63d0\u4f9b\u5fc5\u8981\u7684\u5bfc\u822a\u548c\u4ea4\u53c9\u5f15\u7528\uff0c\u5e2e\u52a9\u8bfb\u8005\u8fdb\u4e00\u6b65\u9605\u8bfb\uff0c\u5e76\u4e14\u65e0\u6b7b\u94fe</li> <li>\u6587\u6863\u5728\u7ebf\u6258\u7ba1\uff0c\u968f\u65f6\u53ef\u9605\u8bfb\u548c\u53ef\u641c\u7d22</li> <li>\u5728\u5fc5\u8981\u65f6\u80fd\u591f\u751f\u6210\u5404\u79cd\u683c\u5f0f\uff0c\u6bd4\u5982html, PDF, epub\u7b49\u3002</li> </ol> <p>\u8fd9\u7bc7\u6587\u7ae0\u5c06\u63a2\u7d22\u5e38\u89c1\u7684\u6587\u6863\u6784\u5efa\u6280\u672f\u6808\u3002\u4f5c\u8005\u7684\u91cd\u70b9\u4e0d\u5728\u4e8e\u63d0\u4f9b\u4e00\u4efd\u5927\u800c\u5168\u7684\u64cd\u4f5c\u6307\u5357\uff0c\u800c\u5728\u4e8e\u63a2\u7d22\u5404\u79cd\u53ef\u80fd\u7684\u65b9\u6848\uff0c\u5e76\u5bf9\u5b83\u4eec\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ece\u800c\u5e2e\u52a9\u60a8\u9009\u62e9\u81ea\u5df1\u6700\u9002\u5408\u7684\u65b9\u6848\u3002\u81f3\u4e8e\u5982\u4f55\u4e00\u6b65\u6b65\u5730\u5e94\u7528\u8fd9\u4e9b\u65b9\u6848\uff0c\u6587\u7ae0\u4e5f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u94fe\u63a5\u4f9b\u53c2\u8003\u3002</p> <p>\u901a\u8fc7\u9605\u8bfb\u8fd9\u7bc7\u6587\u7ae0\uff0c\u60a8\u5c06\u4e86\u89e3\u5230\uff1a</p> <ol> <li>\u6587\u6863\u7ed3\u6784\u7684\u6700\u4f73\u5b9e\u8df5</li> <li>\u6587\u6863\u6784\u5efa\u7684\u4e24\u5927\u95e8\u6d3e</li> <li>\u5982\u4f55\u81ea\u52a8\u751f\u6210API\u6587\u6863</li> <li>\u5982\u4f55\u4f7f\u7528git pages\u8fdb\u884c\u6587\u6863\u6258\u7ba1</li> </ol>"},{"location":"chap10/#1-\u6280\u672f\u6587\u6863\u7684\u7ec4\u6210","title":"1. \u6280\u672f\u6587\u6863\u7684\u7ec4\u6210","text":"<p>\u4e00\u4efd\u6280\u672f\u6587\u6863\u901a\u5e38\u6709\u4e24\u4e2a\u6765\u6e90\uff1a\u4e00\u662f\u6211\u4eec\u5728\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\u6309\u7167\u4e00\u5b9a\u98ce\u683c\u8fdb\u884c\u6ce8\u91ca\uff0c\u901a\u8fc7\u5de5\u5177\u5c06\u5176\u63d0\u53d6\u51fa\u6765\u5f62\u6210\u7684\u6240\u8c13API\u6587\u6863\uff0c\u8fd9\u90e8\u5206\u6587\u6863\u6df1\u5165\u5230\u7ec6\u8282\u4e4b\u4e2d\uff1b\u4e8c\u662f\u5728\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u7279\u522b\u64b0\u5199\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u76f8\u6bd4API\u6587\u6863\uff0c\u5b83\u4eec\u66f4\u52a0\u5b8f\u89c2\u6982\u8981\uff0c\u6db5\u76d6\u4e86API\u6587\u6863\u4e2d\u4e0d\u9002\u5408\u63d0\u53ca\u7684\u90e8\u5206\uff0c\u6bd4\u5982\u6574\u4e2a\u8f6f\u4ef6\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e0e\u539f\u5219\u3001\u5b89\u88c5\u6307\u5357\u3001License\u4fe1\u606f\u3001\u7248\u672c\u5386\u53f2\u3001\u6db5\u76d6\u5168\u5c40\u7684\u793a\u4f8b\u7b49\u7b49\u3002</p> <p>\u65f6\u81f3\u4eca\u65e5\uff0c\u5728Python\u4e16\u754c\u91cc\uff0c\u5927\u81f4\u6709\u4e24\u79cd\u6d41\u884c\u7684\u6280\u672f\u6587\u6863\u6784\u5efa\u6280\u672f\u6808\uff0c\u5373sphinx\u548cmkdocs\u3002\u4e0b\u9762\u662f\u57fa\u4e8esphinx\u6280\u672f\u6808\u6784\u5efa\u7684\u4e00\u4efd\u6587\u4ef6\u6e05\u5355\uff1a <pre><code>.\n\u251c\u2500\u2500 AUTHORS.rst\n\u251c\u2500\u2500 CONTRIBUTING.rst\n\u251c\u2500\u2500 HISTORY.rst\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.rst\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 conf.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 make.bat\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u2514\u2500\u2500 Makefile\n</code></pre> \u8fd9\u4e2a\u5e03\u5c40\u662f\u300aPython\u6700\u4f73\u5b9e\u8df5\u6307\u5357\u300b\u4e00\u4e66\u4e2d\u63a8\u8350\u7684\uff0c\u5b83\u7684\u6700\u521d\u51fa\u5904\u662fKnnedth Reitz\u57282013\u5e74\u63a8\u8350\u7684\u4e00\u4e2aPython\u9879\u76ee\u5e03\u5c40\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u4e3a\u9002\u5e94\u5f00\u6e90\u9879\u76ee\u7684\u9700\u8981\uff0c\u6211\u5728\u8fd9\u91cc\u589e\u52a0\u4e86CONTRIBUTING.rst\u548cAUTHORS.rst\u4e24\u4e2a\u6587\u4ef6\u3002\u5176\u7279\u70b9\u662f\uff0c\u6587\u6863\u7684\u7c7b\u578b\u662frst\u6587\u4ef6\uff0c\u6587\u6863\u76ee\u5f55\u4e0b\u5305\u542b\u4e86\u4e00\u4e2aconf.py\u7684python\u6587\u4ef6\uff0c\u8fd8\u6709Makefile\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528Cookiecutter-pypackage\u6765\u751f\u6210\u9879\u76ee\u7684\u6846\u67b6\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b83\u751f\u6210\u7684\u9879\u76ee\u6b63\u597d\u5c31\u5305\u62ec\u4e86\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>\u53e6\u4e00\u6761\u6280\u672f\u8def\u7ebf\u5219\u662fmkdocs\u3002\u8fd9\u4e5f\u6b63\u662fppw\u6240\u91c7\u7528\u7684\u6280\u672f\u8def\u7ebf\u3002\u5c3d\u7ba1\u5728\u7b2c3\u7ae0\u5df2\u7ecf\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6587\u4ef6\u6e05\u5355\uff0c\u4f46\u4e3a\u4e86\u4fbf\u4e8e\u8bfb\u8005\u7406\u89e3\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u5bf9\u5176\u8fdb\u884c\u4e86\u6e05\u7b80\uff0c\u4ec5\u7ed9\u51fa\u4e0e\u6587\u6863\u6784\u5efa\u76f8\u5173\u7684\u6e05\u5355\u5982\u4e0b\uff1a</p> <p><pre><code>.\n\u251c\u2500\u2500 AUTHORS.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 HISTORY.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 authors.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 history.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 usage.md\n\u2514\u2500\u2500 mkdocs.yml\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u6761\u6280\u672f\u8def\u7ebf\u4f7f\u7528markdown\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u7531mkdocs.yml\u63d0\u4f9b\u4e3b\u63a7\u6587\u6863\u548c\u914d\u7f6e\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u4e0d\u9700\u8981\u522b\u7684\u914d\u7f6e\u3002\u9996\u5148\uff0c\u6211\u4eec\u6765\u4ecb\u7ecd\u4e0brst\u548cmarkdown\u4e24\u79cd\u6587\u6863\u683c\u5f0f\u3002</p>"},{"location":"chap10/#2-\u4e24\u79cd\u4e3b\u8981\u7684\u6587\u6863\u683c\u5f0f","title":"2. \u4e24\u79cd\u4e3b\u8981\u7684\u6587\u6863\u683c\u5f0f","text":"<p>\u6280\u672f\u6587\u6863\u4e00\u822c\u4f7f\u7528\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u8d85\u96c6\u6765\u4e66\u5199\u3002\u5e38\u89c1\u7684\u683c\u5f0f\u6709reStructuredText(\u4ee5\u4e0b\u79f0\u4e3arst)\u548cMarkdown\u3002\u524d\u8005\u5386\u53f2\u66f4\u4e3a\u4e45\u8fdc\uff0c\u8bed\u6cd5\u590d\u6742\uff0c\u4f46\u529f\u80fd\u5f3a\u5927\uff1b\u540e\u8005\u6bd4\u8f83\u65b0\u9896\uff0c\u8bed\u6cd5\u5341\u5206\u7b80\u6d01\uff0c\u5728\u4e00\u4e9b\u7b2c\u4e09\u65b9\u63d2\u4ef6\u7684\u652f\u6301\u4e0b\uff0c\u529f\u80fd\u4e0a\u4e5f\u5df2\u9010\u6e10\u8ffd\u8d76\u4e0a\u6765\u3002</p>"},{"location":"chap10/#21-restructured-text","title":"2.1. reStructured Text","text":"<p>\u8fd9\u4e00\u8282\u6211\u4eec\u7b80\u8981\u5730\u4ecb\u7ecdreStructured Text\uff08\u4ee5\u4e0b\u7b80\u79f0\u4e3arst\uff09\u7684\u5e38\u7528\u8bed\u6cd5\u3002\u5982\u679c\u8bfb\u8005\u6709\u5174\u8da3\u5168\u9762\u4e86\u89e3rst\u7684\u8bed\u6cd5\uff0c\u53ef\u4ee5\u53c2\u8003reStructuredText\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"chap10/#211-\u7ae0\u8282\u6807\u9898section","title":"2.1.1. \u7ae0\u8282\u6807\u9898(section)","text":"<p>\u5728rst\u4e2d\uff0c\u7ae0\u8282\u6807\u9898\u662f\u901a\u8fc7\u6587\u672c\u52a0\u4e0a\u7b49\u6570\u91cf\u7684\u4e0b\u7f00\u6807\u70b9(\u9650#=-~:'\"^_*+&lt;&gt;`)\u6765\u6784\u6210\u7684\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p><pre><code>\u4e00\u7ea7\u6807\u9898\n####\n\nrestructured text example\n\n1.\u4e8c\u7ea7\u6807\u9898\n=====\n\n1.1\u4e09\u7ea7\u6807\u9898\n-------\n\n1.1.1\u56db\u7ea7\u6807\u9898\n^^^^^^^^^\n\n1.1.2\u56db\u7ea7\u6807\u9898\n^^^^^^^^^\n1.1.1.2.1\u4e94\u7ea7\u6807\u9898\n+++++++++++++\n\n1.1.1.2.1.1\u516d\u7ea7\u6807\u9898\n***************\n1.2\u4e09\u7ea7\u6807\u9898\n-------\n</code></pre> \u4e0a\u8ff0\u6587\u672c\u5c06\u6e32\u67d3\u4e3a\u4ee5\u4e0b\u683c\u5f0f\uff1a</p> <p></p> <p>\u8fd9\u79cd\u8bed\u6cd5\u7684\u7e41\u7410\u548c\u96be\u7528\u4e4b\u5904\u5728\u4e8e\uff0c\u6807\u9898\u5b57\u7b26\u6570\u4e0e\u4e0b\u9762\u7684\u6807\u70b9\u7b26\u53f7\u6570\u5fc5\u987b\u5339\u914d\u3002\u5982\u679c\u4f7f\u7528\u4e86\u975e\u7b49\u5bbd\u5b57\u7b26\uff0c\u6216\u8005\u4f7f\u7528\u4e86\u4e2d\u6587\u6807\u9898\uff0c\u5339\u914d\u5c06\u5341\u5206\u56f0\u96be\uff0c\u60a8\u53ef\u4ee5\u81ea\u884c\u5bfb\u627e\u4e00\u4e2a\u652f\u6301rst\u7684\u7f16\u8f91\u5668\uff08\u6bd4\u5982\u5728vscode\u4e2d\uff0c\u5b89\u88c5\"RST Preview\"\u6269\u5c55\uff09\uff0c\u624b\u52a8\u952e\u5165\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5c1d\u8bd5\u4e00\u4e0b\u3002</p> <p>\u9664\u4e86\u5728\u8f93\u5165\u4e0a\u4e0d\u591f\u7b80\u6d01\uff0c\u6613\u51fa\u9519\u5916\uff0c\u6807\u9898\u7684\u7ea7\u522b\u4e0e\u7b26\u53f7\u65e0\u5173\uff0c\u800c\u53ea\u4e0e\u7b26\u53f7\u51fa\u73b0\u7684\u987a\u5e8f\u6709\u5173\uff0c\u4e5f\u662f\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\u3002\u4f7f\u7528\u8005\u5fc5\u987b\u8bb0\u4f4f\u6bcf\u4e2a\u7b26\u53f7\u4e0e\u6807\u9898\u7ea7\u522b\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u5426\u5219\u751f\u6210\u7684\u6587\u6863\u5c31\u4f1a\u51fa\u73b0\u6807\u9898\u7ea7\u522b\u9519\u8bef\u3002</p>"},{"location":"chap10/#212-\u5217\u8868list","title":"2.1.2. \u5217\u8868(list)","text":"<p>\u5728rst\u4e2d\uff0c\u4f7f\u7528*,-,+\u505a\u9879\u76ee\u7b26\u53f7\u6784\u6210\u65e0\u5e8f\u5217\u8868\uff1b\u6709\u5e8f\u5217\u8868\u5219\u4ee5\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u7f57\u9a6c\u6570\u5b57\u52a0\u4e0a'.'\u6216\u8005\u62ec\u53f7\u6765\u6784\u6210\u3002\u8bf7\u89c1\u4ee5\u4e0b\u793a\u4f8b\uff1a <pre><code>*   \u65e0\u5e8f 1\n*   \u65e0\u5e8f 2\n\n-   \u65e0\u5e8f 1\n-   \u65e0\u5e8f 2\n\n+   \u65e0\u5e8f 3\n+   \u65e0\u5e8f 3\n\n1.  \u6709\u5e8f 1\n2.  \u6709\u5e8f 2\n\n2)  \u6709\u5e8f 2)\n3)  \u6709\u5e8f 3\uff09\n\n(3) \u6709\u5e8f (3)\n(4) \u6709\u5e8f (4)\n\ni.  \u6709\u5e8f \u4e00\nii.  \u6709\u5e8f \u4e8c\n\nII.  \u6709\u5e8f \u8d30\nIII.  \u6709\u5e8f \u53c1\n\nc.  \u6709\u5e8f three\nd.  \u6709\u5e8f four\n</code></pre> \u793a\u4f8b\u4e2d\uff0c\u6709\u5e8f\u5217\u8868\u53ef\u4ee5\u4f7f\u7528\u53f3\u62ec\u53f7\uff0c\u6216\u8005\u5b8c\u5168\u5305\u56f4\u7684\u62ec\u53f7\uff0c\u4f46\u4e0d\u80fd\u53ea\u4f7f\u7528\u5de6\u62ec\u53f7\u3002\u4e0a\u8ff0\u793a\u4f8b\u663e\u793a\u5982\u4e0b:</p> <p></p>"},{"location":"chap10/#213-\u8868\u683c","title":"2.1.3. \u8868\u683c","text":"<p>rst\u6838\u5fc3\u8bed\u6cd5\u652f\u6301\u4e24\u79cd\u8868\u683c\u8868\u793a\u65b9\u6cd5\uff0c\u5373\u7f51\u683c\u8868\u683c\u548c\u7b80\u5355\u8868\u683c\u3002\u7f51\u683c\u8868\u683c\u5c31\u662f\u4f7f\u7528\u4e00\u4e9b\u7b26\u53f7\u6765\u6784\u6210\u8868\u683c\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>+------------------------+------------+----------+----------+\n| Header row, column 1   | Header 2   | Header 3 | Header 4 |\n| (header rows optional) |            |          |          |\n+========================+============+==========+==========+\n| body row 1, column 1   | column 2   | column 3 | column 4 |\n+------------------------+------------+----------+----------+\n| body row 2             | Cells may span columns.          |\n+------------------------+------------+---------------------+\n| body row 3             | Cells may  | - Table cells       |\n+------------------------+ span rows. | - contain           |\n| body row 4             |            | - body elements.    |\n+------------------------+------------+---------------------+\n</code></pre> \u8fd9\u6837\u5236\u8868\u663e\u7136\u5341\u5206\u7e41\u7410\uff0c\u4e0d\u6613\u7ef4\u62a4\u3002\u4e8e\u662frst\u901a\u8fc7\u6307\u4ee4\u8bed\u6cd5\uff0c\u6269\u5c55\u51fa\u6765csv\u8868\u683c\u548clist\u8868\u683c\u3002\u4e0b\u9762\u662fcsv\u8868\u683c\u4e00\u4f8b\uff1a <pre><code>.. csv-table:: \u7269\u7406\u5185\u5b58\u9700\u6c42\u8868\n    :header: \"\u884c\u60c5\u6570\u636e\",\"\u8bb0\u5f55\u6570\uff08\u6bcf\u54c1\u79cd\uff09\",\"\u65f6\u957f\uff08\u5e74\uff09\",\"\u7269\u7406\u5185\u5b58\uff08GB)\"\n    :widths: 12, 15, 10, 15\n\n    \u65e5\u7ebf,1000,4,0.75\n</code></pre> \u8fd9\u91cc1-3\u884c\u662f\u6307\u4ee4\uff0c\u7b2c5\u884c\u5219\u662fcsv\u6570\u636e\u3002\u4e0a\u9762\u7684\u8bed\u6cd5\u5c06\u751f\u6210\u4e0b\u9762\u7684\u8868\u683c:</p> <p></p>"},{"location":"chap10/#214-\u56fe\u7247","title":"2.1.4. \u56fe\u7247","text":"<p>\u5728\u6587\u6863\u4e2d\u63d2\u5165\u56fe\u7247\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\uff0c\u4f8b\u5982\uff1a <pre><code>.. image:: img/p0.jpg\n    :height: 400px\n    :width: 600px\n    :scale: 50%\n    :align: center\n    :target: https://docutils.sourceforge.io/docs/ref/rst/directives.html#image\n</code></pre> \u793a\u4f8b\u5728\u6587\u6863\u4e2d\u63d2\u5165\u4e86img\u76ee\u5f55\u4e0b\u7684p0.jpg\u56fe\u7247\uff0c\u5e76\u4e14\u663e\u793a\u4e3a400px\u9ad8\uff0c600px\u5bbd\uff0c\u7f29\u653e\u6bd4\u4f8b\u4e3a50%\uff0c\u56fe\u7247\u5c45\u4e2d\u5bf9\u9f50\uff0c\u70b9\u51fb\u56fe\u7247\u4f1a\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u94fe\u63a5\u3002</p>"},{"location":"chap10/#215-\u4ee3\u7801\u5757","title":"2.1.5. \u4ee3\u7801\u5757","text":"<p>\u5728\u6587\u6863\u4e2d\u63d2\u5165\u4ee3\u7801\u5757\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\uff0c\u4f8b\u5982\uff1a <pre><code>.. code:: python\n\n  def my_function():\n      \"just a test\"\n      print 8/2\n</code></pre></p>"},{"location":"chap10/#216-\u8b66\u793a\u6587\u672c","title":"2.1.6. \u8b66\u793a\u6587\u672c","text":"<p>\u8b66\u793a\u6587\u672c\u901a\u5e38\u7528\u4e8e\u5f3a\u8c03\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u63d0\u793a\u9519\u8bef(error)\u3001\u91cd\u8981(important)\u3001\u5c0f\u8d34\u58eb(tip)\u3001\u8b66\u544a(warning)\u3001\u6ce8\u91ca(note)\u7b49\u3002</p> <p>\u540c\u6837\u6211\u4eec\u7528\u6307\u4ee4\u8bed\u6cd5\u6765\u663e\u793a\u8b66\u793a\u6587\u672c\uff0c\u4f8b\u5982:</p> <p><pre><code>.. DANGER::\n   Beware killer rabbits!\n</code></pre> \u663e\u793a\u5982\u4e0b\uff1a</p> <p></p> <p>\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u5e38\u7528\u7684\u8bed\u6cd5\uff0c\u6bd4\u5982\u5bf9\u5b57\u4f53\u52a0\u7c97\u3001\u659c\u4f53\u663e\u793a\uff0c\u663e\u793a\u6570\u5b66\u516c\u5f0f\u3001\u4e0a\u4e0b\u6807\u3001\u811a\u6ce8\u3001\u5f15\u7528\u548c\u8d85\u94fe\u63a5\u7b49\u3002\u8981\u4ecb\u7ecd\u5b8c\u5168\u90e8rst\u7684\u8bed\u6cd5\uff0c\u5df2\u7ecf\u8fdc\u8fdc\u8d85\u51fa\u4e86\u672c\u4e66\u7684\u8303\u56f4\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002\u5173\u4e8erst\uff0c\u6211\u4eec\u8981\u8bb0\u4f4f\u7684\u662f\uff0c\u5b83\u63d0\u4f9b\u4e86\u975e\u5e38\u5f3a\u5927\u7684\u6392\u7248\u529f\u80fd\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765\u5199\u5728\u7ebf\u6587\u6863\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4ed8\u6893\u6210\u4e66\u3002</p>"},{"location":"chap10/#22-markdown","title":"2.2. Markdown","text":"<p>Markdown\u8d77\u6e90\u4e8e2000\u5e74\u4ee3\u3002\u57282000\u5e74\u524d\u540e\uff0cJohn Gruber\u6709\u4e00\u4e2a\u535a\u5ba2\uff0c\u53eb\u52c7\u6562\u7684\u706b\u7403(Daring Fireball)\u3002\u5f53\u65f6\u5728\u7ebf\u7f16\u8f91\u5de5\u5177\u8fd8\u6ca1\u6709\u73b0\u5728\u8fd9\u6837\u53d1\u8fbe\uff0c\u4e00\u4e9b\u683c\u5f0f\u5316\u529f\u80fd\u8fd8\u9700\u8981\u901a\u8fc7HTML\u4ee3\u7801\u6765\u5b9e\u73b0\u3002\u5c3d\u7ba1\u4ed6\u672c\u4eba\u5b8c\u5168\u638c\u63e1HTML\u7684\u8bed\u6cd5\uff0c\u4f46\u611f\u89c9\u8fd9\u79cd\u8bed\u6cd5\u80af\u5b9a\u4e0d\u9002\u7528\u5927\u591a\u6570\u4eba\uff0c\u4e8e\u662f\u840c\u751f\u4e86\u53d1\u660e\u4e00\u79cd\u7b80\u5316\u7684\u6807\u8bb0\u8bed\u8a00(markup)\u7684\u60f3\u6cd5\u3002\u8fd9\u79cd\u8bed\u8a00\u8981\u6bd4HTML\u7b80\u5355\uff0c\u4f46\u6700\u7ec8\u80fd\u8f6c\u6362\u6210HTML\u3002\u6700\u7ec8\uff0c\u5728\u501f\u9274\u4e86\u7eaf\u6587\u672c\u7535\u5b50\u90ae\u4ef6\u6807\u8bb0\u7684\u4e00\u4e9b\u60ef\u4f8b\uff0c\u4ee5\u53caSetext\u548catx\u5f62\u5f0f\u7684\u6807\u8bb0\u8bed\u8a00\u7684\u4e00\u4e9b\u7279\u70b9\u540e\uff0c\u4ed6\u4e8e2004\u53d1\u660e\u4e86Markdown\u8bed\u8a00\uff0c\u5e76\u53d1\u5e03\u4e86\u7b2c\u4e00\u4e2a\u5c06markdown\u8f6c\u6362\u6210HTML\u7684\u5de5\u5177\u3002</p> <p>\u57282007\u5e74\uff0cGitHub\u7684\u5f00\u53d1\u8005Chris Wanstrath\u63a5\u89e6\u5230\u4e86Markdown\u8bed\u8a00\u3002\u57282014\u5e74\uff0cGitHub\u5ba3\u5e03\uff0c\u5c06\u4f1a\u5728GitHub\u4e0a\u4f7f\u7528Markdown\u8bed\u8a00\u6765\u7f16\u5199\u6587\u6863\u3002\u8fd9\u4e00\u4e3e\u52a8\uff0c\u4f7f\u5f97Markdown\u8bed\u8a00\u66f4\u52a0\u6d41\u884c\u8d77\u6765\u3002Markdown\u7684\u6838\u5fc3\u8bed\u6cd5\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u6709\u51e0\u5341\u4e2a\u89c4\u5219\uff0c\u4e8e\u662fGithub, Reddit\u548cStack Exchange\u5bf9Markdown\u505a\u4e86\u4e00\u4e9b\u81ea\u5df1\u7684\u6269\u5c55\uff0c\u8fd9\u4e9b\u6269\u5c55\u88ab\u79f0\u4e3a\"\u98ce\u5473\"(Flavors)\uff0c\u6bd4\u5982Github Markdown Flavor\uff0c\u5c31\u589e\u52a0\u4e86\u8868\u683c\u3001\u4ee3\u7801\u6bb5\u7b49\u3002\u8fd9\u4e9b\u6269\u5c55\u5927\u5927\u589e\u5f3a\u4e86Markdown\u7684\u8868\u8fbe\u80fd\u529b\u3002</p> <p>Readmore</p> <p>\u8c61Github, Reddit\u8fd9\u6837\u7684\u5927\u73a9\u5bb6\u67d3\u6307Markdown\u4e4b\u540e\uff0cMarkdown\u7684\u6807\u51c6\u5316\u95ee\u9898\u5c31\u51fa\u73b0\u4e86\u30022014\u5e74\uff0c\u52a0\u5dde\u5927\u5b66\u7684\u54f2\u5b66\u6559\u6388 John MacFarlane\uff0c Discourse\u7684\u8054\u5408\u521b\u59cb\u4eba Jeff Atwood\uff0c\u4ee5\u53caReddit, Github\uff0c Stackoverflow\u7684\u4ee3\u8868\u5171\u540c\u7ec4\u6210\u4e86\u4e00\u4e2a\u5de5\u4f5c\u7ec4\uff0c\u5f00\u59cb\u4e86Markdown\u7684\u6807\u51c6\u5316\u5de5\u4f5c\u3002\u51fa\u4eba\u610f\u6599\u7684\u662f\uff0cMarkdown\u7684\u521b\u59cb\u4ebaJohn Gruber\u53cd\u5bf9Markdown\u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u5e76\u7981\u6b62\u4ed6\u4eec\u4f7f\u7528Markdown\u8fd9\u4e2a\u540d\u5b57\uff0c\u6700\u7ec8\uff0c\u8fd9\u4e2a\u6807\u51c6\u5316\u7684\u7ed3\u679c\u5c31\u53d8\u6210\u4e86commonmark\uff0c\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u3002</p> <p>John Gruber\u53cd\u5bf9Markdown\u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e0d\u5141\u8bb8\u5de5\u4f5c\u7ec4\u4f7f\u7528Markdown\u8fd9\u4e2a\u540d\u5b57\uff0c\u4e0d\u80fd\u4e0d\u8bf4\u4ee4\u4eba\u9057\u61be\u3002\u4e0d\u77e5\u9053\u8fd9\u80fd\u4e0d\u80fd\u7b97\u662f\u5c60\u9f99\u5c11\u5e74\u7ec8\u6210\u9f99\u7684\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4e0d\u8fc7\uff0c\u5728\u6280\u672f\u754c\u8fd9\u4e5f\u5e76\u975e\u5b64\u4f8b\u3002\u4e00\u4e9b\u4eba\u4e5f\u8ba4\u4e3a\uff0c\u89e3\u51b3Python\u6027\u80fd\u95ee\u9898\u7684\u6700\u5927\u963b\u788d\uff0c\u5176\u5b9e\u5c31\u6765\u81ea\u4e8e\u521b\u5efa\u8005Guido\uff0c\u56e0\u4e3a\u4ed6\u8ba4\u4e3aPython\u7684\u6027\u80fd\u5df2\u7ecf\u591f\u597d\uff1a\u5982\u679c\u6709\u4eba\u8ba4\u4e3aPython\u6027\u80fd\u4e0d\u591f\u597d\uff0c\u90a3\u4e48\u4ed6\u5e94\u8be5\u6539\u7528\u522b\u7684\u8bed\u8a00\u3002\u63d0\u5347Python\u8bed\u8a00\u7684\u6027\u80fd\u7684\u8fc7\u7a0b\u4e2d\uff0c\u51b3\u4e0d\u5141\u8bb8\u51fa\u73b0\u7248\u672c2\u5230\u7248\u672c3\u5347\u7ea7\u65f6\u7684\u90a3\u79cd\u4e0d\u517c\u5bb9\u73b0\u8c61\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u7ed3\u5408\u4f8b\u5b50\u6765\u770b\u770bMarkdown\u7684\u8bed\u6cd5\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u4e25\u683c\u533a\u5206\u54ea\u4e9b\u662f\u6838\u5fc3\u8bed\u6cd5\uff0c\u54ea\u4e9b\u662fcommonmark\u6269\u5c55\u7684\u8bed\u6cd5\uff0c\u56e0\u4e3a\u5230\u76ee\u524d\u4e3a\u6b62\uff0ccommonmark\u7684\u6269\u5c55\u5df2\u7ecf\u4e3a\u5927\u591a\u6570\u7f16\u8f91\u5668\u6240\u652f\u6301\u4e86\u3002</p>"},{"location":"chap10/#221-\u7ae0\u8282\u6807\u9898","title":"2.2.1. \u7ae0\u8282\u6807\u9898","text":"<p>Markdown\u7684\u7ae0\u8282\u6807\u9898\u4f7f\u7528'#'\u6765\u5f15\u8d77\uff0c\u2018#\u2019\u7684\u4e2a\u6570\u8868\u793a\u6807\u9898\u7684\u7ea7\u522b\uff0c\u4f8b\u5982\uff1a <pre><code># 1. \u8fd9\u662f\u4e00\u7ea7\u6807\u9898\n## 1.1 \u8fd9\u662f\u4e8c\u7ea7\u6807\u9898\n### 1.1.1 \u8fd9\u662f\u4e09\u7ea7\u6807\u9898\n### 1.1.2 \u53e6\u4e00\u4e2a\u4e09\u7ea7\u6807\u9898\n## 1.2 \u53e6\u4e00\u4e2a\u4e8c\u7ea7\u6807\u9898\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u6bd4rst\u8981\u5bb9\u6613\u4e0d\u5c11\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6807\u9898\u8fdb\u884c\u4e86\u624b\u5de5\u7f16\u53f7\u3002\u5982\u679c\u4e0d\u613f\u610f\u624b\u5de5\u7f16\u53f7\u7684\u8bdd\uff0c\u4e00\u4e9bMarkdown\u6e32\u67d3\u5de5\u5177\u4e5f\u53ef\u4ee5\u901a\u8fc7css\u6765\u81ea\u52a8\u7ed9\u6807\u9898\u52a0\u4e0a\u7f16\u53f7\u3002\u53e6\u5916\uff0c\u5f88\u591aMarkdown\u7f16\u8f91\u5668\u4e5f\u5177\u6709\u7ed9\u6807\u9898\u81ea\u52a8\u63d2\u5165\u548c\u66f4\u65b0\u7f16\u53f7\u7684\u80fd\u529b\u3002</p>"},{"location":"chap10/#222-\u5217\u8868","title":"2.2.2. \u5217\u8868","text":"<p>Markdown\u7684\u5217\u8868\u4e0erst\u5dee\u4e0d\u591a\uff0c\u65e0\u5e8f\u5217\u8868\u4f7f\u7528'-'\u6216\u8005'*'\u5f15\u8d77\uff0c\u4f8b\u5982\uff1a <pre><code>- \u65e0\u5e8f\u5217\u88681\n- \u65e0\u5e8f\u5217\u88682\n</code></pre> \u6700\u7ec8\u6e32\u67d3\u7684\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>\u65e0\u5e8f\u5217\u88681</li> <li>\u65e0\u5e8f\u5217\u88682</li> </ul> <p>\u6709\u5e8f\u5217\u8868\u4f7f\u7528\u6570\u5b57\u52a0'.'\u5f15\u8d77\uff0c\u4f8b\u5982\uff1a <pre><code>1. \u6709\u5e8f\u5217\u88681\n3. \u6709\u5e8f\u5217\u88682\n</code></pre> \u6700\u7ec8\u6e32\u67d3\u7684\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>\u6709\u5e8f\u5217\u88681</li> <li>\u6709\u5e8f\u5217\u88682</li> </ol> <p>\u6ce8\u610f\uff0c\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6709\u5e8f\u5217\u8868\u7684\u5e8f\u53f7\u5e76\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u8fd9\u662f\u5141\u8bb8\u7684\uff0cmarkdown\u7684\u6e32\u67d3\u5de5\u5177\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8c03\u6574\u6b63\u786e\u3002</p>"},{"location":"chap10/#223-\u8868\u683c","title":"2.2.3. \u8868\u683c","text":"<p>markdown\u7684\u8868\u683c\u8bed\u6cd5\u8fd8\u662f\u7a0d\u5acc\u590d\u6742\uff1a <pre><code>|Header1 |Header2  | Header3|\n:--- | :---: | ---:|\n|data1|data2|data3|\n|data11|data12|data13|\n</code></pre> \u8bed\u6cd5\u7684\u7279\u70b9\u662f\uff0c\u8868\u683c\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u4ee5'|'\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\uff0c\u6bcf\u4e00\u5217\u7684\u6570\u636e\u4e4b\u95f4\u7528'|'\u5206\u9694\uff0c\u8868\u5934\u548c\u8868\u683c\u7684\u5206\u9694\u7ebf\u4f7f\u7528'-'\u8868\u793a\u3002\u8868\u5934\u548c\u8868\u683c\u7684\u5206\u9694\u7ebf\u7684\u6570\u91cf\u53ef\u4ee5\u4e0d\u4e00\u81f4\uff0c\u4f46\u662f\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e\u8868\u683c\u7684\u5217\u6570\u3002\u8868\u683c\u7684\u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a</p> Header1 Header2 Header3 data1 data2 data3 data11 data12 data13 <p>\u6ce8\u610f\u4e0a\u8ff0\u8868\u683c\u8bed\u6cd5\u4e2d\u7684\u5192\u53f7\u3002\u5b83\u5728\u8fd9\u91cc\u7684\u4f5c\u7528\u662f\u6307\u793a\u8be5\u5217\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002\u5f53\u5728\u5206\u9694\u7ebf\u7684\u5de6\u4fa7\u4f7f\u7528\u4e00\u4e2a\u5192\u53f7\u65f6\uff0c\u8be5\u5217\u4e3a\u5de6\u5bf9\u9f50\uff1b\u5982\u679c\u5728\u5206\u9694\u7ebf\u7684\u53f3\u4fa7\u4f7f\u7528\u4e00\u4e2a\u5192\u53f7\u65f6\uff0c\u8be5\u5217\u4e3a\u53f3\u5bf9\u9f50\uff1b\u5982\u679c\u5728\u4e24\u7aef\u540c\u65f6\u4f7f\u7528\u5192\u53f7\uff0c\u5219\u8be5\u5217\u4e3a\u5c45\u4e2d\u5bf9\u9f50\u3002\u5728\u4e0d\u4f7f\u7528\u5192\u53f7\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u5217\u4e3a\u5de6\u5bf9\u9f50\u3002</p> <p>markdown\u6ca1\u6709rst\u90a3\u6837\u7684\u6307\u4ee4\u8bed\u6cd5\uff0c\u56e0\u6b64\u5bf9\u8d85\u51fa\u6838\u5fc3\u8bed\u6cd5\u7684\u7279\u6027\uff0c\u6269\u5c55\u5e76\u4e0d\u5bb9\u6613\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5728markdown\u4e2d\u4e0d\u80fd\u76f4\u63a5\u5c06csv\u6570\u636e\u6e32\u67d3\u4e3a\u8868\u683c\u3002\u5982\u679c\u6211\u4eec\u5bf9\u5728markdown\u4e2d\u5236\u4f5c\u8868\u683c\u611f\u5230\u56f0\u96be\uff0c\u4e00\u822c\u7684\u4f5c\u6cd5\u662f\u901a\u8fc7\u7f16\u8f91\u5668\u7684\u6269\u5c55\u529f\u80fd\uff0c\u5c06csv\u6570\u636e\u8f6c\u6362\u4e3amarkdown\u7684\u8868\u683c\u3002</p> <p>Tip</p> <p>vscode\u4e2d\u6709\u6269\u5c55\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002</p>"},{"location":"chap10/#224-\u63d2\u5165\u94fe\u63a5","title":"2.2.4. \u63d2\u5165\u94fe\u63a5","text":"<p>\u5728markdown\u4e2d\u63d2\u5165\u94fe\u63a5\u5f88\u7b80\u5355\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>[\u94fe\u63a5\u540d](https://example.com)\n</code></pre> \u5373\u7531\u7b26\u53f7\"[]()\"\u5b9a\u4e49\u4e86\u4e00\u4e2a\u94fe\u63a5\uff0c\u5176\u4e2d\"[]\"\u4e2d\u662f\u94fe\u63a5\u7684\u663e\u793a\u6587\u5b57\uff0c\"()\"\u4e2d\u5219\u662f\u94fe\u63a5\u7684target\u3002</p>"},{"location":"chap10/#225-\u63d2\u5165\u56fe\u7247","title":"2.2.5. \u63d2\u5165\u56fe\u7247","text":"<p>\u63d2\u5165\u56fe\u7247\u7684\u8bed\u6cd5\u4e0e\u63d2\u5165\u94fe\u63a5\u7c7b\u4f3c\uff1a <pre><code>![alt text](image url \"image Title\")\n</code></pre> \u4e0d\u540c\u7684\u662f\uff0c\u56fe\u7247\u94fe\u63a5\u5fc5\u987b\u7531\u4e00\u4e2a\u611f\u53f9\u53f7\u5f15\u8d77\u3002'[]'\u4e2d\u7684\u6587\u5b57\u6b64\u65f6\u6210\u4e3a\u56fe\u50cf\u7684\u66ff\u4ee3\u6587\u672c\uff0c\u5c4f\u5e55\u9605\u8bfb\u5de5\u5177\u7528\u5b83\u6765\u5411\u89c6\u89c9\u969c\u788d\u8bfb\u8005\u63cf\u8ff0\u56fe\u50cf\u3002'()'\u4e2d\u7684\u6587\u5b57\u5219\u662f\u56fe\u50cf\u7684URL\uff0c\u53ef\u4ee5\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\u3002\u6700\u540e\uff0c\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u4e00\u4e2a\u53cc\u5f15\u53f7\uff0c\u5176\u4e2d\u7684\u6587\u5b57\u5219\u662f\u56fe\u50cf\u7684\u6807\u9898\uff0c\u9f20\u6807\u60ac\u505c\u5728\u56fe\u50cf\u4e0a\u65f6\u4f1a\u663e\u793a\u51fa\u6765\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a <pre><code>![\u8fd9\u662f\u4e00\u6bb5\u8b66\u793a\u6587\u672c](img/markdown.png)\n</code></pre> \u751f\u6210\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>markdown\u6838\u5fc3\u8bed\u6cd5\u4e0d\u80fd\u8c61rst\u90a3\u6837\u652f\u6301\u6307\u5b9a\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3001\u5bf9\u9f50\u65b9\u5f0f\u7b49\u3002\u5982\u679c\u6211\u4eec\u6709\u8fd9\u4e9b\u9700\u8981\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u3002\u4e00\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528html\u8bed\u6cd5\u6765\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a  <pre><code>&lt;img src=\"img/markdown.png\" width=\"30%\"&gt;\n</code></pre>  \u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a   </p> <p>\u4e8c\u662f\u53ef\u80fd\u60a8\u4f7f\u7528\u7684markdown\u7f16\u8f91\u5668\u652f\u6301\u6269\u5c55\u8bed\u6cd5\u3002\u672c\u6587\u64b0\u5199\u65f6\uff0c\u5c31\u4f7f\u7528\u4e86Mkdocs-Material\u4e2d\u7684\u76f8\u5173\u6269\u5c55\u529f\u80fd\uff1a <pre><code> ![](assets/img/chap10/markdown_logo.png \"\u8b66\u793a\u6587\u672c\u793a\u4f8b\"){width=\"30%\"}\n</code></pre></p>"},{"location":"chap10/#226-\u4ee3\u7801\u5757","title":"2.2.6. \u4ee3\u7801\u5757","text":"<p>\u6211\u4eec\u4f7f\u7528\u4e09\u4e2a\u53cd\u5f15\u53f7'`'\u6765\u5b9a\u4e49\u4ee3\u7801\u5757\uff0c\u4f8b\u5982\uff1a <pre><code>    ```python\n        def foo():\n            print('hello world')\n    ```\n</code></pre> \u8d77\u5934\u7684\u53cd\u5f15\u53f7\u4e4b\u540e\uff0c\u53ef\u4ee5\u52a0\u4e0a\u8bed\u8a00\u5b9a\u4e49\u3002\u5982\u6b64\u4ee5\u6765\uff0c\u4ee3\u7801\u5757\u5c31\u53ef\u4ee5\u83b7\u5f97\u8bed\u6cd5\u9ad8\u4eae\u4e86\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5757\uff0c\u6211\u4eec\u4f7f\u7528\u4e86'python'\u4f5c\u4e3a\u8bed\u8a00\u5b9a\u4e49\uff0c\u8fd9\u6837\u4ee3\u7801\u5757\u5c31\u4f1a\u83b7\u5f97python\u7684\u8bed\u6cd5\u9ad8\u4eae\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>    def foo() -&gt; None:\n        print('hello world')\n</code></pre></p>"},{"location":"chap10/#227-\u8b66\u793a\u6587\u672c","title":"2.2.7. \u8b66\u793a\u6587\u672c","text":"<p>\u5728markdown\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e09\u4e2a\u611f\u53f9\u53f7\u6765\u5f15\u8d77\u8b66\u793a\u6587\u672c\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>!!! type \"\u53cc\u5f15\u53f7\u5b9a\u4e49\u6807\u9898\"\n    Any number of other indented markdown elements.\n\n    This is the second paragraph.\n</code></pre> \u611f\u53f9\u53f7\u540e\u9762\u7684\u82f1\u6587\u5355\u8bcd\u662f\u8b66\u793a\u6587\u672c\u7684\u7c7b\u578b\u3002rst\u5efa\u8bae\u4e86\u8fd9\u4e9b\u7c7b\u578b\uff1aattention, caution, danger, error, hint, important, note, tip, warning\u3002\u5728\u5b9e\u73b0\u4e0a\uff0c\u8fd9\u4e9b\u7c7b\u578b\u90fd\u662fcss\u7684\u4e00\u4e2aclass\uff0c\u56e0\u6b64\u5177\u4f53\u5982\u4f55\u5b9e\u73b0\uff0c\u53d6\u51b3\u4e8e\u6e32\u67d3\u5668\u7684\u51b3\u5b9a\u3002\u6bd4\u5982\uff0c\u672c\u4e66\u4f7f\u7528mkdocs-material\u6765\u64b0\u5199\uff0cmaterial\u652f\u6301\u7684\u7c7b\u578b\u6709note, abstract, info, tip, success, question, warning, example, quote\u7b49\uff0c\u6709\u4e00\u4e9b\u60a8\u5df2\u7ecf\u89c1\u8fc7\u793a\u4f8b\u4e86\u3002</p> <p>\u6bd4\u5982\uff0c\u4e0b\u9762\u662f\u5f15\u7528\u5b83\u4eba\u6587\u5b57\u7684\u4e00\u4f8b\uff1a <pre><code>    !!! quote\n        \u8fd9\u91cc\u5f15\u7528\u540d\u4eba\u540d\u8a00\n</code></pre> \u5176\u6548\u679c\u5982\u4e0b\uff1a</p> <p>Quote</p> <p>\u8fd9\u91cc\u5f15\u7528\u540d\u4eba\u540d\u8a00</p>"},{"location":"chap10/#228-\u5176\u5b83\u8bed\u6cd5","title":"2.2.8. \u5176\u5b83\u8bed\u6cd5","text":"<p>\u4e24\u4e2a'**'\u4e4b\u95f4\u7684\u6587\u672c\u5c06\u663e\u793a\u4e3a\u52a0\u7c97\uff0c\u4e24\u4e2a'_'\u4e4b\u95f4\u7684\u6587\u672c\u5c06\u663e\u793a\u4e3a \u659c\u4f53\uff08\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a'*'\u5305\u542b\u6587\u672c\uff09\u3002\u5982\u679c\u6587\u672c\u88ab\u5305\u542b\u5728\u4e24\u4e2a'***'\uff0c\u5219\u6587\u672c\u663e\u793a\u4e3a \u65e2\u52a0\u7c97\uff0c\u4e5f\u663e\u793a\u4e3a\u659c\u4f53\u3002</p> <p>\u884c\u5185\u6570\u5b57\u516c\u5f0f\u4f7f\u7528\u4e00\u5bf9'$'\u5305\u542b\uff0c\u4f8b\u5982\uff1a$x^2$\uff0c\u6548\u679c\u5982\u4e0b\uff1a\\(x^2\\)\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u6f14\u793a\u4e86\u4e0a\u6807\uff0c\u5373\u4f7f\u7528'^'\u3002\u5982\u679c\u662f\u8981\u751f\u6210\u4e0b\u6807\uff0c\u5219\u53ef\u4ee5\u7528'_'\uff0c\u4f8b\u5982\uff1a$x_2$\uff0c\u6548\u679c\u5982\u4e0b\uff1a\\(x_2\\)\u3002</p> <p>\u6211\u4eec\u5728\u4ecb\u7ecd\u63d2\u5165\u56fe\u7247\u7684\u8bed\u6cd5\u65f6\u63d0\u5230\uff0c\u6709\u4e00\u4e9b\u7279\u6027\uff0c\u6bd4\u5982\u6307\u5b9a\u5bbd\u5ea6\uff0cmarkdown\u6838\u5fc3\u8bed\u6cd5\u4e0d\u652f\u6301\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528html\u8bed\u6cd5\u3002\u8fd9\u4e0d\u4ec5\u4ec5\u5bf9\u56fe\u7247\u9002\u7528\u3002html\u8bed\u6cd5\u652f\u6301\u4e0a\u4e0b\u6807\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528html\u8bed\u6cd5\u6765\u91cd\u5199\u4e0a\u9762\u7684\u4f8b\u5b50:</p> <p>\u4e0a\u4e0b\u6807\u53ef\u4ee5\u4f7f\u7528html\u7684\\&lt;sup&gt;\u548c\\&lt;sub&gt;\u6807\u7b7e\u6765\u5b9e\u73b0\uff0c\u6bd4\u5982x\\&lt;sup&gt;2\\&lt;/sup&gt;\u5c06\u663e\u793a\u4e3ax2\u3002H\\&lt;sub&gt;2\\&lt;/sub&gt;O\u5c06\u663e\u793a\u4e3a\u4e0b\u6807H2O\u3002</p>"},{"location":"chap10/#3-sphinx-vs-mkdocs-\u4e24\u79cd\u4e3b\u8981\u7684\u6784\u5efa\u5de5\u5177","title":"3. Sphinx vs Mkdocs, \u4e24\u79cd\u4e3b\u8981\u7684\u6784\u5efa\u5de5\u5177","text":"<p>rst\u548cmarkdown\u90fd\u662f\u4f1f\u5927\u7684\u53d1\u660e\uff0c\u5b83\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u6587\u672c\u6587\u4ef6\u683c\u5f0f\u6765\u4fdd\u5b58\u4fe1\u606f\uff0c\u5373\u4f7f\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5546\u4e1a\u8f6f\u4ef6\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7f16\u8f91\u3001\u9605\u8bfb\u8fd9\u4e9b\u6587\u6863\u3002\u6211\u4eec\u8bd5\u60f3\uff0c\u5982\u679c\u6211\u4eec\u628a\u5927\u91cf\u7684\u6587\u6863\u4fe1\u606f\u4fdd\u5b58\u5728word\u8fd9\u79cd\u5546\u4e1a\u8f6f\u4ef6\u4e2d\uff0c\u5982\u679c\u6709\u4e00\u5929\u5546\u4e1a\u8f6f\u4ef6\u7ec8\u6b62\u670d\u52a1\u3001\u6216\u8005\u63d0\u9ad8\u6536\u8d39\u6807\u51c6\uff0c\u8fd9\u79cd\u6280\u672f\u9501\u5b9a\u6548\u5e94\u5c06\u5e26\u6765\u591a\u5927\u7684\u8fc1\u79fb\u6210\u672c\uff1f\uff01</p> <p>\u4f46\u662f\uff0crst\u548cmarkdown\u6bd5\u7adf\u53ea\u662f\u7b80\u5355\u6587\u672c\u683c\u5f0f\uff0c\u76f4\u63a5\u9605\u8bfb\uff0c\u89c6\u89c9\u6548\u679c\u5e76\u4e0d\u597d\u3002\u6b64\u5916\uff0c\u5927\u578b\u6587\u6863\u5f80\u5f80\u7531\u591a\u7bc7\u5b50\u6587\u6863\u7ec4\u6210\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u9700\u8981\u628a\u6587\u6863\u7ec4\u7ec7\u8d77\u6765\u7684\u5de5\u5177\uff0c\u4ee5\u4fbf\u5411\u8bfb\u8005\u63d0\u4f9b\u76ee\u5f55\u548c\u5bfc\u822a\u7b49\u529f\u80fd\u3002\u8fd9\u5c31\u5f15\u51fa\u4e86\u6587\u6863\u6784\u5efa\u5de5\u5177\u7684\u9700\u8981\u3002</p> <p>\u6587\u6863\u6784\u5efa\u5de5\u5177\u7684\u4e3b\u8981\u4f5c\u7528\uff0c\u5c31\u662f\u5c06\u6563\u843d\u5728\u4e0d\u540c\u5730\u65b9\u7684\u6587\u6863\u7edf\u5408\u8d77\u6765\uff0c\u5448\u73b0\u4e00\u5b9a\u7684\u7ed3\u6784\uff0c\u6587\u6863\u5404\u90e8\u5206\u80fd\u591f\u76f8\u4e92\u94fe\u63a5\u548c\u5bfc\u822a\uff0c\u5e76\u4e14\u5c06\u7b80\u5355\u6587\u672c\u683c\u5f0f\u6e32\u67d3\u6210\u66f4\u52a0\u7f8e\u89c2\u7684\u5bcc\u6587\u672c\u683c\u5f0f\u3002\u5728Python\u7684\u4e16\u754c\u4e2d\uff0c\u6700\u91cd\u8981\u7684\u6587\u6863\u6784\u5efa\u5de5\u5177\u5c31\u662fSphinx\u548cMkdocs\u3002</p> <p>Sphinx\u662f\u59cb\u4e8e2008\u5e745\u6708\u7684\u4e00\u79cd\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u5f53\u524d\u7248\u672c3.3\u3002\u5176\u4e3b\u8981\u529f\u80fd\u662f\u901a\u8fc7\u4e3b\u63a7\u6587\u6863\u6765\u7edf\u5408\u5404\u4e2a\u5b50\u6587\u6863\uff0c\u751f\u6210\u6587\u6863\u7ed3\u6784(toctree)\u3001API\u6587\u6863\uff0c\u5b9e\u73b0\u6587\u6863\u5185\u53ca\u8de8\u6587\u4ef6\u3001\u8de8\u9879\u76ee\u7684\u5f15\u7528\uff0c\u4ee5\u53ca\u754c\u9762\u4e3b\u9898\u529f\u80fd\u3002</p> <p>\u5728\u65e9\u671f\u7684\u7248\u672c\u4e2d\uff0cSphinx\u5e76\u6ca1\u6709\u751f\u6210API\u6587\u6863\u7684\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u6bd4\u5982sphinx-apidoc\u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002\u5927\u7ea6\u4ece2018\u5e74\u8d77\uff0cSphinx\u901a\u8fc7autodoc\u8fd9\u4e00\u6269\u5c55\u6765\u5b9e\u73b0\u4e86\u751f\u6210API\u6587\u6863\u7684\u529f\u80fd\u3002\u73b0\u5728\u7684\u9879\u76ee\u4e2d\uff0c\u5df2\u7ecf\u6ca1\u6709\u5fc5\u8981\u518d\u4f7f\u7528sphinx-apidoc\u8fd9\u4e00\u5de5\u5177\u4e86(\u6ce8\uff1a\u5982\u679c\u4f60\u4f7f\u7528cookiecutter-pypackage\u6765\u751f\u6210\u9879\u76ee\uff0c\u5b83\u4ecd\u7136\u5728\u4f7f\u7528\u8fd9\u4e00\u5de5\u5177)\u3002</p> <p>intersphinx\u662f\u5176\u7279\u8272\u529f\u80fd\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u4e24\u4e2a\u4e0d\u540c\u7684\u6587\u6863\u4e2d\u76f8\u4e92\u94fe\u63a5\u3002\u6bd4\u5982\uff0c\u4f60\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u91cd\u8f7d\u4e86Python\u6807\u51c6\u5e93\u4e2d\u7684\u67d0\u4e2a\u5b9e\u73b0\uff0c\u5e76\u63d0\u4f9b\u4e86\u65b0\u589e\u5b9e\u73b0\u7684\u8fd9\u90e8\u5206\u6587\u6863\uff0c\u4f46\u5bf9\u4e8e\u672a\u505a\u6539\u53d8\u7684\u90a3\u90e8\u5206\u529f\u80fd\uff0c\u4f60\u5e76\u4e0d\u5e0c\u671b\u5c06\u5b83\u7684\u5e2e\u52a9\u6587\u6863\u91cd\u5199\u4e00\u904d\uff0c\u8fd9\u6837\u5c31\u6709\u4e86\u94fe\u63a5\u5230Python\u6807\u51c6\u5e93\u6587\u6863\u7684\u9700\u6c42\u3002\u6bd4\u5982\uff0c\u901a\u8fc7intersphinx\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 *:py:class:`zipfile.ZipFile`* \u6765\u8df3\u8f6c\u5230Python\u6807\u51c6\u5e93\u7684<code>ZipFile</code>\u7c7b\u7684\u6587\u6863\u4e0a\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u5916\u90e8\u94fe\u63a5\u6765\u5b9e\u73b0\u8fd9\u6837\u7684\u8df3\u8f6c\uff0c\u4f46\u6beb\u65e0\u7591\u95ee\uff0cintersphinx\u7684\u8bed\u6cd5\u66f4\u4e3a\u7b80\u6d01\u3002</p> <p>Mkdocs\u51fa\u73b0\u4e8e2014\u5e74\uff0c\u5f53\u524d\u7248\u672c1.4\u3002\u5176\u4e3b\u8981\u529f\u80fd\u9664\u4e86\u6784\u5efa\u9879\u76ee\u6587\u6863\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u6784\u5efa\u9759\u6001\u7ad9\u70b9\u3002\u5728\u6784\u5efa\u9879\u76ee\u6587\u6863\u65b9\u9762\uff0c\u5b83\u4e3b\u8981\u63d0\u4f9b\u6587\u6863\u7edf\u5408\u529f\u80fd\u3001\u754c\u9762\u4e3b\u9898\u548c\u63d2\u4ef6\u4f53\u7cfb\u3002\u4e0eSphinx\u76f8\u6bd4\uff0c\u5b83\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u5b9e\u65f6\u9884\u89c8\u80fd\u529b\u3002Sphinx\u81ea\u8eab\u6ca1\u6709\u63d0\u4f9b\u8fd9\u4e00\u80fd\u529b\uff0c\u6709\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5de5\u5177\uff08\u6bd4\u5982vscode\u4e2d\u7684rst\u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u5355\u7bc7\u6587\u7ae0\u7684\u9884\u89c8\u529f\u80fd\u3002\u7531\u4e8e\u7f3a\u4e4f\u6307\u4ee4\u6269\u5c55\uff0c\u5f88\u663e\u7136Mkdocs\u65e0\u6cd5\u63d0\u4f9bintersphinx\u7684\u529f\u80fd\uff0c\u4f46\u5728\u9879\u76ee\u5185\u7684\u76f8\u4e92\u5f15\u7528\u662f\u5b8c\u5168\u6ee1\u8db3\u8981\u6c42\u7684\u3002</p> <p>\u8fd9\u4e24\u79cd\u6587\u6863\u6784\u5efa\u5de5\u5177\u90fd\u5f97\u5230\u4e86\u6587\u6863\u6258\u7ba1\u5e73\u53f0readthedocs\u548cgit pages\u7684\u652f\u6301\u3002\u5728\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f5c\u8005\u66f4\u63a8\u8350\u4f7f\u7528mkdocs\u53caMarkdown\u8bed\u6cd5\uff0c\u8fd9\u4e5f\u662fppw\u6b63\u5728\u4f7f\u7528\u7684\u6280\u672f\u8def\u7ebf\u3002</p>"},{"location":"chap10/#4-\u4f7f\u7528sphinx\u6784\u5efa\u6587\u6863","title":"4. \u4f7f\u7528Sphinx\u6784\u5efa\u6587\u6863","text":""},{"location":"chap10/#41-\u521d\u59cb\u5316\u6587\u6863\u7ed3\u6784","title":"4.1. \u521d\u59cb\u5316\u6587\u6863\u7ed3\u6784","text":"<p>\u5728\u5b89\u88c5sphinx\u4e4b\u540e\uff0c\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u521d\u59cb\u5316\u6587\u6863:</p> <p><pre><code>pip install sphinx # \u4e0b\u9762\u7684\u547d\u4ee4\u53ea\u80fd\u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\uff01\nshpinx-quickstart\n</code></pre> Sphinx\u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u9879\u76ee\u540d\u79f0\u3001\u4f5c\u8005\u3001\u7248\u672c\u7b49\u4fe1\u606f\uff0c\u6700\u7ec8\u751f\u6210docs\u76ee\u5f55\u53ca\u4ee5\u4e0b\u6587\u4ef6\uff1a <pre><code>docs/\ndocs/conf.py\ndocs/index.rst\ndocs/Makefile\ndocs/make.bat\ndocs/_build\ndocs/_static\ndocs/_templates\n</code></pre> \u5982\u679c\u6587\u6863\u4e2d\u4f7f\u7528\u4e86\u56fe\u50cf\u6587\u4ef6\uff0c\u5e94\u8be5\u653e\u5728_static\u76ee\u5f55\u4e0b\u3002</p> <p>\u73b0\u5728\u8fd0\u884c <code>make html</code>\u5c31\u53ef\u4ee5\u751f\u6210\u4e00\u4efd\u6587\u6863\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00<code>_build/index.html</code>\u6765\u9605\u8bfb\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>python -m http.server -d _build/index</code>,\u7136\u540e\u518d\u901a\u8fc7\u6d4f\u89c8\u5668\u6765\u8bbf\u95ee\u9605\u8bfb\u3002</p>"},{"location":"chap10/#42-\u6587\u4ef6\u91cd\u5b9a\u5411","title":"4.2. \u6587\u4ef6\u91cd\u5b9a\u5411","text":"<p>\u6211\u4eec\u4e00\u822c\u628aREADME.rst, AUTHOR.rst, HISTORY.rst\u653e\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u5373\u4e0eSphinx\u7684\u6587\u6863\u6839\u76ee\u5f55\u540c\u7ea7\u3002\u800c\u6309Sphinx\u7684\u8981\u6c42\uff0c\u6587\u6863\u53c8\u5fc5\u987b\u653e\u7f6e\u5728docs\u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u5f53\u7136\u4e0d\u60f3\u540c\u6837\u7684\u6587\u4ef6\uff0c\u5728\u4e24\u4e2a\u76ee\u5f55\u4e0b\u5404\u653e\u7f6e\u4e00\u4efd\u62f7\u8d1d\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528<code>include</code>\u8bed\u6cd5\uff0c\u6765\u5c06\u7236\u76ee\u5f55\u4e2d\u7684\u540c\u540d\u6587\u4ef6\u5305\u542b\u8fdb\u6765\u3002\u6bd4\u5982\u4e0a\u8ff0index.rst\u4e2d\u7684history\u6587\u4ef6\uff1a <pre><code># content of docs/history.rst\n\n.. include:: ../HISTORY.rst\n</code></pre> \u8fd9\u6837\u5c31\u907f\u514d\u4e86\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u51fa\u73b0\u591a\u4e2a\u62f7\u8d1d\u7684\u60c5\u51b5\u3002</p>"},{"location":"chap10/#43-\u4e3b\u63a7\u6587\u6863\u548c\u5de5\u5177\u94fe","title":"4.3. \u4e3b\u63a7\u6587\u6863\u548c\u5de5\u5177\u94fe","text":"<p>\u5982\u679c\u60a8\u662f\u901a\u8fc7Sphinx-quickstart\u6765\u8fdb\u884c\u521d\u59cb\u5316\u7684\uff0c\u5b83\u7684\u5411\u5bfc\u4f1a\u5f15\u60a8\u8fdb\u884c\u4e00\u4e9b\u5de5\u5177\u94fe\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u8c61autodoc(\u7528\u4e8e\u751f\u6210API\u6587\u6863)\u3002\u4e3a\u4e86\u5b8c\u5907\u8d77\u89c1\uff0c\u6211\u4eec\u8fd8\u662f\u518d\u63d0\u4e00\u4e0b\u8fd9\u4e2a\u8bdd\u9898\u3002</p> <p>Sphinx\u5728\u6784\u5efa\u6587\u6863\u65f6\uff0c\u9700\u8981\u4e00\u4e2a\u4e3b\u63a7\u6587\u6863\uff0c\u4e00\u822c\u662findex.rst:</p> <pre><code>\u6587\u6863Title\n==========\n\n.. toctree::\n   :maxdepth: 2\n\n   deployment\n   usage\n   api\n   contributing\n   authors\n   history\n\nIndices and tables\n==================\n* :ref:`genindex`\n* :ref:`modindex`\n* :ref:`search`\n</code></pre> <p>Sphinx\u901a\u8fc7\u4e3b\u63a7\u6587\u6863\uff0c\u628a\u5355\u4e2a\u6587\u6863\u4e32\u8054\u8d77\u6765\u3002 \u4e0a\u9762\u7684toctree\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5165\u53e3\uff08\u6bd4\u5982deployment)\uff0c\u90fd\u5bf9\u5e94\u5230\u4e00\u7bc7\u6587\u6863\uff08\u6bd4\u5982deployment.rst)\u3002\u6b64\u5916\uff0c\u8fd8\u5305\u542b\u4e86\u7d22\u5f15\u548c\u641c\u7d22\u5165\u53e3\u3002</p> <p>\u8c61deployment, usage\u8fd9\u6837\u7684\u6587\u6863\uff0c\u6211\u4eec\u4f9d\u7167rst\u7684\u8bed\u6cd5\u6765\u64b0\u5199\u5c31\u597d\uff0c\u8fd9\u90e8\u5206\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u7279\u522b\u4ecb\u7ecd\u7684\u662fapi\u6587\u6863\uff0c\u5b83\u662f\u901a\u8fc7autodoc\u6765\u751f\u6210\u7684\uff0c\u6709\u81ea\u5df1\u7684\u7279\u6b8a\u8bed\u6cd5\u8981\u6c42\u3002</p>"},{"location":"chap10/#44-\u751f\u6210api\u6587\u6863","title":"4.4. \u751f\u6210API\u6587\u6863","text":"<p>\u8981\u81ea\u52a8\u751f\u6210API\u6587\u6863\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6eautodoc\u6269\u5c55\u3002Sphinx\u7684\u914d\u7f6e\u6587\u6863\u662fdocs/conf.py\uff1a</p> <p><pre><code># from conf.py\n\n# \u8981\u5b9e\u73b0autodoc\u7684\u529f\u80fd\uff0c\u4f60\u7684\u6a21\u5757\u5fc5\u987b\u80fd\u591f\u5bfc\u5165\uff0c\u56e0\u6b64\u5148\u58f0\u660e\u5bfc\u5165\u8def\u5f84\nsys.path.insert(0, os.path.abspath('../src'))\n\n# \u58f0\u660eautodoc\u6269\u5c55\nextensions = [\n  'sphinx.ext.intersphinx',\n  'sphinx.ext.autodoc',\n  'sphinx.ext.doctest'\n]\n</code></pre> \u6ce8\u610f\u5230\u5728<code>index.rst</code>\u4e2d\u6211\u4eec\u58f0\u660e\u4e86\u5bf9<code>api</code>\u6587\u6863\u7684\u5f15\u7528\u3002\u8fd9\u4e2a\u6587\u6863\u7528\u4f5cautodoc\u7684\u6587\u6863\u5165\u53e3\u3002\u4e0b\u9762\u662fapi.rst\u7684\u4e00\u4f8b\uff1a</p> <p><pre><code>Crawler Python API\n==================\n\nGetting started with Crawler is easy.\nThe main class you need to care about is :class:`~crawler.main.Crawler`\n\ncrawler.main\n------------\n\n.. automodule:: crawler.main\n   :members:\n\ncrawler.utils\n-------------\n\n.. testsetup:: *\n\n   from crawler.utils import should_ignore, log\n\n.. automethod:: crawler.utils.should_ignore\n\n.. doctest::\n\n    &gt;&gt;&gt; should_ignore(['blog/$'], 'http://example.com/blog/')\n    True\n</code></pre> \u8fd9\u91cc\u865a\u6784\u4e86\u4e00\u4e2a\u540d\u4e3aCrawler\u7684\u7a0b\u5e8f\uff0c\u5b83\u5171\u6709<code>main</code>\u548c<code>util</code>\u4e24\u4e2a\u6a21\u5757\u3002</p> <p>\u5728\u4e00\u7bc7\u6587\u6863\u91cc\uff0c\u666e\u901arst\u8bed\u6cd5\u3001autodoc\u6307\u4ee4\u548cdoctest\u6307\u4ee4\u662f\u53ef\u4ee5\u76f8\u4e92\u6df7\u7528\u7684\uff0c\u5728\u4e0a\u9762\u7684\u6587\u6863\u91cc\uff0c\u6211\u4eec\u770b\u5230\u4e86\u4e00\u4e9b\u5df2\u7ecf\u719f\u6089\u7684rst\u8bed\u6cd5\uff0c\u6bd4\u5982\u4e00\u7ea7\u6807\u9898\"Crawler Python API\"\u548c\u4e8c\u7ea7\u6807\u9898\"crawler.main\"\u7b49\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u770b\u5230\u4e86autodoc\u7684\u4e00\u4e9b\u6307\u4ee4\u548cdoctest\u7684\u6307\u4ee4\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u6269\u5c55\u6307\u4ee4<code>automodule</code>\u5c06<code>crawler.main</code>\u6a21\u5757\u5f15\u5165, \u8fd9\u6837autodoc\u5c31\u4f1a\u81ea\u52a8\u63d0\u53d6\u8be5\u6a21\u5757\u7684docstring\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u8fd8\u901a\u8fc7\":members:\"\u9009\u9879\u8fdb\u884c\u4e86\u7b5b\u9009\uff0c\u5373\u5c06\u5bfc\u81f4main\u6a21\u5757\u4e2d\u7684\u6210\u5458\uff08\u9012\u5f52\uff09\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\":undoc-members:\"\u6765\u6392\u9664\u90a3\u4e9b\u4e0d\u8fdb\u884c\u6587\u6863\u6ce8\u91ca\u7684\u6210\u5458\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u7684\u6307\u4ee4\u9664\u4e86automodule\u4e4b\u5916\uff0c\u8fd8\u6709autoclass, autodata, autoattribute, autofunction, automethod\u7b49\u3002\u8fd9\u4e9b\u6307\u4ee4\u7684\u7528\u6cd5\u4e0eautomodule\u7c7b\u4f3c\uff0c\u53ea\u662f\u5b83\u4eec\u5206\u522b\u7528\u4e8e\u7c7b\uff0c\u6570\u636e\uff0c\u5c5e\u6027\uff0c\u51fd\u6570\u548c\u65b9\u6cd5\u7684\u6587\u6863\u751f\u6210\u3002</p> <p>\u7b2c16\u884c\u8d77\uff0c\u8fd9\u91cc\u6df7\u6742\u4e86autodoc\u4e0edoctest\u6307\u4ee4\u3002testsetup\u6307\u4ee4\u7528\u4e8e\u5728doctest\u4e2d\u8fdb\u884c\u6d4b\u8bd5\u524d\u7684\u51c6\u5907\u5de5\u4f5c\uff0c\u8fd9\u91cc\u7684\u51c6\u5907\u5de5\u4f5c\u662f\u5bfc\u5165crawler.utils\u6a21\u5757\u3002doctest\u6307\u4ee4\u7528\u4e8e\u6267\u884cdoctest\uff0c\u8fd9\u91cc\u6211\u4eec\u6267\u884c\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u4e86crawler.utils.should_ignore\u51fd\u6570\u7684\u529f\u80fd\u3002</p> <p>\u6700\u540e\uff0c\u5728Sphinx\u8fdb\u884c\u6587\u6863\u6784\u5efa\u65f6\uff0c\u5c31\u4f1a\u5728\u89e3\u6790api.rst\u6587\u6863\u65f6\uff0c\u4f9d\u6b21\u6267\u884cautodoc\u548cdoctest\u6307\u4ee4\uff0c\u5c06\u751f\u6210\u7684\u6587\u6863\u63d2\u5165\u5230api.rst\u6587\u6863\u4e2d\u3002</p> <p>Sphinx\u7684\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u5176\u5b66\u4e60\u66f2\u7ebf\u4e5f\u6bd4\u8f83\u9661\u5ced\u3002\u5728\u5b66\u4e60\u65f6\uff0c\u53ef\u4ee5\u5c06\u5176sphinx\u6559\u7a0b\u4e0esphinx\u6559\u7a0b\u7684\u6e90\u7801\u5bf9\u7167\u8d77\u6765\u770b\uff0c\u8fd9\u6837\u66f4\u5bb9\u6613\u7406\u89e3\u3002</p> <p>\u4f7f\u7528Autodoc\u751f\u6210\u7684API\u6587\u6863\uff0c\u9700\u8981\u6211\u4eec\u9010\u4e2a\u624b\u52a8\u6dfb\u52a0\u5165\u53e3\uff0c\u5c31\u8c61\u4e0a\u9762\u7684<code>.. automodules:: cralwer.main</code>\u90a3\u6837\u3002\u5bf9\u6bd4\u8f83\u5927\u7684\u5de5\u7a0b\uff0c\u8fd9\u6837\u65e0\u7591\u4f1a\u5f15\u5165\u4e00\u5b9a\u7684\u5de5\u4f5c\u91cf\u3002Sphinx\u7684\u5b98\u65b9\u63a8\u8350\u4f7f\u7528sphinx.ext.autosummary\u6269\u5c55\u6765\u81ea\u52a8\u5316\u8fd9\u4e00\u4efb\u52a1\u3002\u524d\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u5728\u8f83\u65e9\u7684\u65f6\u5019\uff0cSphinx\u8fd8\u6709\u4e00\u4e2acli\u5de5\u5177\uff0c\u53ebsphinx-apidoc\u53ef\u4ee5\u7528\u6765\u5b8c\u6210\u8fd9\u4e00\u4efb\u52a1\u3002\u4f46\u6839\u636e\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u4eec\u5e94\u8be5\u8f6c\u800c\u4f7f\u7528<code>sphinx-ext.autosummary</code>\u8fd9\u4e2a\u6269\u5c55\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0creadthedocs\u5b98\u65b9\u8fd8\u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3asphinx-autoapi\u7684\u6269\u5c55\u3002\u4e0eautosummary\u4e0d\u540c\uff0c\u5b83\u5728\u6784\u5efaAPI\u6587\u6863\u65f6\uff0c\u5e76\u4e0d\u9700\u8981\u5bfc\u5165\u6211\u4eec\u7684\u9879\u76ee\u3002\u76ee\u524d\u770b\uff0c\u9664\u4e86\u4e0d\u9700\u8981\u5bfc\u5165\u9879\u76ee\u4e4b\u5916\uff0c\u6ca1\u6709\u4eba\u7279\u522b\u63d0\u5230\u8fd9\u4e2a\u6269\u5c55\u4e0eautosummary\u76f8\u6bd4\u6709\u4f55\u4f18\u52bf\uff0c\u8fd9\u91cc\u4e5f\u5c31\u7b80\u5355\u63d0\u4e00\u4e0b\uff0c\u5927\u5bb6\u53ef\u4ee5\u6301\u7eed\u8ddf\u8e2a\u8fd9\u4e2a\u9879\u76ee\u7684\u8fdb\u5c55\u3002</p>"},{"location":"chap10/#45-docstring\u7684\u6837\u5f0f","title":"4.5. docstring\u7684\u6837\u5f0f","text":"<p>\u5982\u679c\u4e0d\u505a\u4efb\u4f55\u914d\u7f6e\uff0cSphinx\u4f1a\u4f7f\u7528rst\u7684docstring\u6837\u5f0f\u3002\u4e0b\u9762\u662frst\u98ce\u683c\u7684docstring\u793a\u4f8b: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    :param a: _description_\n    :type a: int\n    :param c: _description_, defaults to [1,2]\n    :type c: list, optional\n    :raises AssertionError: _description_\n    :return: _description_\n    :rtype: _type_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> rst\u98ce\u683c\u7684docstring\u7a0d\u663e\u5197\u957f\u3002\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528google style(\u6700\u7b80)\uff0c\u6216\u8005numpy style\u3002</p> <p>\u4e0b\u9762\u662fgoogle style\u7684docstring\u793a\u4f8b: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    Args:\n        a (int): _description_\n        c (list, optional): _description_. Defaults to [1,2].\n\n    Raises:\n        AssertionError: _description_\n\n    Returns:\n        _type_: _description_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> \u663e\u7136\uff0cgoogle style\u4f7f\u7528\u7684\u5b57\u6570\u66f4\u5c11\uff0c\u89c6\u89c9\u4e0a\u66f4\u7b80\u6d01\u3002google style\u4e5f\u662f\u53ef\u7f55\u5b66\u9662\uff08khan academy\uff09\u7684\u5b98\u65b9\u63a8\u8350\u98ce\u683c\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b\u770bnumpy\u98ce\u683c\u7684docstring: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    Parameters\n    ----------\n    a : int\n        _description_\n    c : list, optional\n        _description_, by default [1,2]\n\n    Returns\n    -------\n    _type_\n        _description_\n\n    Raises\n    ------\n    AssertionError\n        _description_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> \u8fd9\u79cd\u98ce\u683c\u4e5f\u6bd4google style\u8981\u7e41\u590d\u8bb8\u591a\u3002</p> <p>\u8981\u5728\u6587\u6863\u4e2d\u4f7f\u7528\u8fd9\u4e24\u79cd\u6837\u5f0f\u7684docstring\uff0c\u4f60\u9700\u8981\u542f\u7528Napolen\u6269\u5c55\u3002\u5173\u4e8e\u8fd9\u4e24\u79cd\u6837\u5f0f\u7684\u793a\u4f8b\uff0c\u6700\u597d\u7684\u4f8b\u5b50\u6765\u81ea\u4e8eMkApi\u7684\u6587\u6863\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u6ce8\u610f\u5728Sphinx 3.0\u4ee5\u540e\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86Type Hint\uff0c\u5219\u5728\u4e66\u5199docstring\u65f6\uff0c\u4e0d\u5fc5\u5728\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e0a\u58f0\u660e\u7c7b\u578b\u3002\u6269\u5c55\u5c06\u81ea\u52a8\u4e3a\u4f60\u52a0\u4e0a\u7c7b\u578b\u58f0\u660e\u3002</p>"},{"location":"chap10/#46-\u6df7\u5408\u4f7f\u7528markdown","title":"4.6. \u6df7\u5408\u4f7f\u7528Markdown","text":"<p>\u591a\u6570\u4eba\u4f1a\u89c9\u5f97rst\u7684\u8bed\u6cd5\u8fc7\u4e8e\u7e41\u7410\uff0c\u56e0\u6b64\u5f88\u81ea\u7136\u5730\uff0c\u6211\u4eec\u5e0c\u671b\u90e8\u5206\u6587\u6863\u4f7f\u7528Markdown\u6765\u4e66\u5199\uff08\u5982\u679c\u4e0d\u80fd\u5168\u90e8\u4f7f\u7528Markdown\u7684\u8bdd\uff09\u3002\u5927\u7ea6\u4ece2018\u5e74\u8d77\uff0creadthedocs\u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3arecommonmark\u7684\u6269\u5c55\uff0c\u4ee5\u652f\u6301\u5728Sphinx\u6784\u5efa\u8fc7\u7a0b\u4e2d\u90e8\u5206\u4f7f\u7528Markdown\u3002</p> <p>\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\u8981\u6ce8\u610f\u7684\u4e00\u4e2a\u95ee\u9898\u662f\uff0cMarkdown\u6587\u4ef6\u5fc5\u987b\u90fd\u5728docs\u76ee\u5f55\u53ca\u5176\u4e0b\u7ea7\u76ee\u5f55\u4e2d\uff0c\u800c\u4e0d\u80fd\u51fa\u73b0\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u8c61README\uff0cHISTORY\u8fd9\u6837\u7684\u6587\u6863\uff0c\u5c31\u5fc5\u987b\u4ecd\u7136\u4f7f\u7528rst\u6765\u5199\uff08\u4ee5\u5229\u7528<code>include</code>\u8bed\u6cd5\u6765\u5305\u542b\u6765\u81ea\u4e0a\u4e00\u7ea7\u7684README)\u3002\u5982\u679c\u8981\u4f7f\u7528Markdown\u7684\u8bdd\uff0c\u5c31\u5fc5\u987b\u4f7f\u7528\u7b26\u53f7\u8fde\u63a5\u5c06\u7236\u76ee\u5f55\u4e2d\u7684README.md\u8fde\u63a5\u5230docs\u76ee\u5f55\u4e0b\uff08recommenmark\u81ea\u5df1\u7684\u6587\u6863\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff09\uff1b\u6216\u8005\u901a\u8fc7Makefile\u7b49\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u5728sphinx build\u4e4b\u524d\uff0c\u5c06\u8fd9\u4e9b\u6587\u6863\u62f7\u8d1d\u5230docs\u76ee\u5f55\u3002</p> <p>\u5728github\u4e0a\u8fd8\u6709\u4e00\u4e2am2r\u7684\u9879\u76ee\uff0c\u53ca\u5176fork m2r2\uff0c\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4e0d\u8fc7\u5f00\u53d1\u8005\u6020\u4e8e\u7ef4\u62a4\uff0c\u968f\u7740Sphinx\u7248\u672c\u5347\u7ea7\uff0c\u57fa\u672c\u4e0a\u4e0d\u53ef\u7528\u4e86\u3002</p> <p>\u5982\u679c\u60a8\u7684\u9879\u76ee\u5fc5\u987b\u4f7f\u7528rst\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u542f\u7528recommonmark\uff0c\u5b9e\u73b0\u4e24\u79cd\u65b9\u5f0f\u7684\u6df7\u7528\u3002\u901a\u8fc7\u5728recommonmark\u4e2d\u542f\u7528\u4e00\u4e2a\u540d\u4e3aautostructify\u7684\u5b50\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5c06Markdown\u6587\u4ef6\u4e8b\u524d\u7f16\u8bd1\u6210rst\u6587\u4ef6\uff0c\u518d\u4f20\u7ed9Sphinx\u5904\u7406\uff1b\u66f4\u5999\u7684\u662f\uff0cautostructify\u7ec4\u4ef6\u652f\u6301\u5728Markdown\u4e2d\u5d4c\u5165rst\u8bed\u6cd5\uff0c\u6240\u4ee5\u5373\u4f7f\u4e00\u4e9b\u529f\u80fdMarkdown\u4e0d\u652f\u6301\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c40\u90e8\u4f7f\u7528rst\u6765\u8865\u6551\u3002</p>"},{"location":"chap10/#5-\u4f7f\u7528mkdocs\u6784\u5efa\u6587\u6863","title":"5. \u4f7f\u7528Mkdocs\u6784\u5efa\u6587\u6863","text":"<p>mkdocs\u662f\u4e00\u4e2a\u9ad8\u6548\u6613\u7528\u7684\u9759\u6001\u7f51\u7ad9\u6784\u5efa\u5de5\u5177\uff0c\u975e\u5e38\u9002\u5408\u6784\u5efa\u535a\u5ba2\u3001\u6280\u672f\u6587\u6863\u7ad9\u70b9\u3002\u5b83\u6784\u5efa\u7684\u6587\u6863\u7ad9\u70b9\u51e0\u4e4e\u53ef\u4ee5\u88ab\u4efb\u610f\u7f51\u7ad9\u6258\u7ba1\u670d\u52a1\u6240\u6258\u7ba1\uff0c\u5305\u62ecgithub pages\uff0creadthedocs\u7b49\u3002\u5b83\u4f7f\u7528Markdown\u4f5c\u4e3a\u6587\u6863\u683c\u5f0f\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u4e3b\u9898\uff0c\u652f\u6301\u5b9e\u65f6\u9884\u89c8\u3002Mkdocs\u6709\u5f3a\u5927\u7684\u81ea\u5b9a\u4e49\u529f\u80fd\uff08\u901a\u8fc7\u63d2\u4ef6\u548c\u4e3b\u9898\uff09\uff0c\u4ece\u800c\u53ef\u4ee5\u751f\u6210\u98ce\u683c\u591a\u6837\u7684\u7ad9\u70b9\u3002</p> <p>\u5b89\u88c5mkdocs\u4e4b\u540e\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u5b83\u7684\u57fa\u672c\u547d\u4ee4\uff1a</p> <p></p> <p>Mkdocs\u63d0\u4f9b\u4e86\u4e24\u79cd\u5f00\u7bb1\u5373\u7528\u7684\u4e3b\u9898\uff0creadthedocs\u548cmkdocs\u3002\u4f60\u4e5f\u53ef\u4ee5\u5728\u793e\u533a\u91cc\u5bfb\u627e\u66f4\u591a\u7684\u4e3b\u9898\uff0c\u6bd4\u5982material\u4e3b\u9898\u5c31\u662f\u5f53\u524d\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u6709\u4e9b\u4e3b\u9898\u5f88\u9002\u5408\u6784\u5efa\u9759\u6001\u7f51\u7ad9\u3002\u8fd9\u7bc7\u6587\u7ae0\u7ed9\u51fa\u4e86\u4e00\u4e2a\u4e0d\u9519\u7684\u6559\u7a0b\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5\u3002</p> <pre><code>pip install --upgrade pip\npip install mkdocs\n# \u5b89\u88c5material\u4e3b\u9898\u3002\u5982\u679c\u5ffd\u7565\uff0c\u5c06\u4f7f\u7528readthedocs\u9ed8\u8ba4\u4e3b\u9898\u3002\npip install mkdocs-material \n\n# \u521b\u5efa\u6587\u6863\u7ed3\u6784\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\nmkdocs new PROJECT_NAME\ncd PROJECT_NAME\n</code></pre> <p>\u73b0\u5728\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u5e94\u8be5\u591a\u4e86\u4e00\u4e2adocs\u76ee\u5f55\uff0c\u548c\u4e00\u4e2a\u540d\u4e3amkdocs.yaml\u7684\u6587\u4ef6\u3002docs\u76ee\u5f55\u4e0b\u8fd8\u6709\u4e00\u4e2a\u540d\u4e3aindex.md\u7684\u6587\u4ef6\u3002\u5982\u679c\u6b64\u65f6\u8fd0\u884c<code>mkdocs serve -a 0.0.0.0:8000</code>,\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\uff0c\u4f60\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u754c\u9762\uff1a</p> <p></p> <p>Tip</p> <p>\u8bf7\u6ce8\u610f\uff0cMkdocs\u80fd\u63d0\u4f9b\u5b9e\u65f6\u9884\u89c8\u6587\u6863\uff0c\u800c\u4e14\u6709\u5f88\u5feb\u7684\u54cd\u5e94\u901f\u5ea6\u3002\u56e0\u6b64\u5728\u60a8\u7f16\u5199\u6587\u6863\u65f6\uff0c\u53ef\u4ee5\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5b9e\u65f6\u9884\u89c8\u6587\u6863\u7684\u6548\u679c\u3002</p>"},{"location":"chap10/#51-mkdocs\u7684\u914d\u7f6e\u6587\u4ef6","title":"5.1. Mkdocs\u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4e0b\u9762\uff0c\u6211\u4eec\u901a\u8fc7<code>ppw</code>\u751f\u6210\u7684mkdocs.yml\u6587\u4ef6\u7684\u4f8b\u5b50\u6765\u770b\u770bmkdocs\u7684\u914d\u7f6e\u6587\u4ef6\u8bed\u6cd5\u3002</p> <pre><code>site_name: sample\nsite_url: http://www.sample.com\nrepo_url: \"https://github.com/zillionare/sample\"\nrepo_name: sample\nsite_description: A great mkdocs sample site\nsite_author: name of the author\n\nnav:\n- home: index.md\n- usage: usage.md\n- modules: api.md\ntheme:\nname: material\nlanguage: en\nlogo: assets/logo.png\nfavicon: assets/favicon.ico\nmarkdown_extensions:\n- pymdownx.emoji:\nemoji_index: !!python/name:materialx.emoji.twemoji\nemoji_generator: !!python/name:materialx.emoji.to_svg\n- pymdownx.critic\n- pymdownx.caret\n- pymdownx.mark\n- pymdownx.tilde\n- pymdownx.tabbed\n- attr_list\n- pymdownx.arithmatex:\ngeneric: true\n- pymdownx.highlight:\nlinenums: true\n- pymdownx.superfences\n- pymdownx.details\n- admonition\n- toc:\nbaselevel: 2\npermalink: true\nslugify: !!python/name:pymdownx.slugs.uslugify\n- meta\nplugins:\n- include-markdown\n- search:\nlang: en\n- mkdocstrings:\nwatch:\n- sample\nextra:\nversion:\nprovider: mike\n</code></pre> <p>mkdocs.yml\u7684\u914d\u7f6e\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u7ad9\u70b9\u8bbe\u7f6e\u3001\u6587\u6863\u5e03\u5c40\u3001\u4e3b\u9898\u8bbe\u7f6e\u3001\u6784\u5efa\u5de5\u5177\u8bbe\u7f6e\u548c\u9644\u52a0\u4fe1\u606f\u8fd9\u4e48\u51e0\u9879\u3002</p> <p>\u6587\u6863\u5e03\u5c40\u4ee5\u5173\u952e\u5b57<code>nav</code>\u5f15\u8d77\uff0c\u540e\u9762\u8ddf\u968f\u4e00\u4e2ayaml\u7684\u5217\u8868\uff0c\u5b9a\u4e49\u4e86\u5168\u5c40\u7ad9\u70b9\u5bfc\u822a\u83dc\u5355\u53ca\u5b50\u83dc\u5355\u7ed3\u6784\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u90fd\u662f\u4e00\u4e2a\u6587\u6863\u7684\u6807\u9898\u548c\u5bf9\u5e94\u7684\u6587\u4ef6\u540d\u3002\u8fd9\u91cc\u7684\u6587\u4ef6\u540d\u662f\u76f8\u5bf9\u4e8edocs\u76ee\u5f55\u7684\u3002\u4f8b\u5982\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>home</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f<code>docs/index.md</code>\uff0c<code>usage</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f<code>docs/usage.md</code>\uff0c\u7b49\u7b49\u3002</p> <p>\u6587\u6863\u5e03\u5c40\u652f\u6301\u591a\u7ea7\u5d4c\u5957\uff0c\u6bd4\u5982\uff1a <pre><code>nav:\n    - Home: 'index.md'\n    - 'User Guide':\n        - 'Writing your docs': 'writing-your-docs.md'\n        - 'Styling your docs': 'styling-your-docs.md'\n    - About:\n        - 'License': 'license.md'\n        - 'Release Notes': 'release-notes.md'\n</code></pre> \u4e0a\u8ff0\u914d\u7f6e\u5b9a\u4e49\u4e86\u4e09\u4e2a\u9876\u7ea7\u83dc\u5355\uff0c\u5206\u522b\u662fHome\u3001User Guide\u548cAbout\u3002User Guide\u548cAbout\u53c8\u5206\u522b\u5305\u542b\u4e24\u4e2a\u5b50\u83dc\u5355\u3002\u5f53\u7136\uff0c\u6700\u7ec8\u5982\u4f55\u5c55\u793a\u8fd9\u4e9b\u5185\u5bb9\uff0c\u7531\u4f60\u9009\u62e9\u7684\u4e3b\u9898\u6765\u51b3\u5b9a\u3002</p> <p>\u793a\u4f8b\u4e2d\u7684\u4e3b\u9898\u914d\u7f6e\u7531\u5173\u952e\u5b57'theme'\u5f15\u8d77\uff0c\u4e00\u822c\u5305\u62ec\u4e86\u4e3b\u9898\u540d\u3001\u8bed\u8a00\u3001\u7ad9\u70b9logo\u548c\u56fe\u6807\u7b49\u901a\u7528\u9009\u9879\uff0c\u4e5f\u6709\u4e00\u4e9b\u4e3b\u9898\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u9879\u3002</p> <p>\u6784\u5efa\u5de5\u5177\u8bbe\u7f6e\u4e3b\u8981\u662f\u542f\u7528markdown\u6269\u5c55\u7684\u4e00\u4e9b\u7279\u6027\u548c\u63d2\u4ef6\u3002</p> <p>Mkdocs\u4f7f\u7528\u4e86Python-Markdown\u6765\u6267\u884cmarkdown\u5230html\u7684\u8f6c\u6362\uff0c\u800cPython-Markdown\u672c\u8eab\u53c8\u901a\u8fc7\u6269\u5c55\u6765\u5b9e\u73b0markdown\u6838\u5fc3\u8bed\u6cd5\u4e4b\u5916\u7684\u4e00\u4e9b\u5e38\u7528\u529f\u80fd\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u6784\u5efa\u6280\u672f\u6587\u6863\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u4f7f\u7528\u8fd9\u4e9b\u8bed\u6cd5\u6269\u5c55\uff0c\u6211\u4eec\u9700\u8981\u5728\u8fd9\u4e00\u8282\u4e0b\u542f\u7528\u8fd9\u4e9b\u7279\u6027\u3002</p> <p>\u5728\u4e0a\u8ff0\u914d\u7f6e\u793a\u4f8b\u4e2d\uff0cattr_list, admonition, toc, meta\u662fPython-Markdown\u7684\u5185\u7f6e\u6269\u5c55\uff0c\u6211\u4eec\u76f4\u63a5\u8c61\u793a\u4f8b\u90a3\u6837\u542f\u7528\u5c31\u53ef\u4ee5\u4e86\u3002\u5173\u4e8ePython-Markdown\u63d0\u4f9b\u4e86\u54ea\u4e9b\u5b98\u65b9\u6269\u5c55\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc\u3002\u524d\u9762\u63d0\u5230\uff0cMarkdown\u4e2d\u7684\u56fe\u7247\u8981\u6307\u5b9a\u5bbd\u5ea6\uff0c\u8981\u4e48\u4f7f\u7528html\u6807\u7b7e\uff0c\u8981\u4e48\u901a\u8fc7python-markdown\u6269\u5c55\u3002\u8fd9\u91cc\u7684attr_list\u5c31\u662f\u7528\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\u3002\u5173\u4e8eadmonition\uff0c\u6211\u4eec\u5728markdown\u7684\u8bed\u6cd5\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u4e0d\u719f\u6089\u7684\u8bfb\u8005\u53ef\u4ee5\u56de\u5230\u90a3\u4e00\u8282\u518d\u770b\u4e00\u904d\u3002toc\u662f\u7528\u6765\u751f\u6210\u76ee\u5f55\u7684\uff0cmeta\u662f\u7528\u6765\u63d0\u53d6\u6587\u6863\u5143\u6570\u636e\u7684\u3002</p> <p>\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684\u6269\u5c55\u8ddf\u4f7f\u7528\u7b2c\u4e09\u65b9\u4e3b\u9898\u4e00\u6837\uff0c\u6211\u4eec\u5fc5\u987b\u5148\u5b89\u88c5\u8fd9\u4e9b\u6269\u5c55\u3002\u6bd4\u5982\uff0c\u7b2c22\u884c\u7684pymakdownx.critic\u5c31\u6765\u81ea\u4e8e\u7b2c\u4e09\u65b9\u6269\u5c55pymdown-extensions\uff0c\u6211\u4eec\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff0c\u7136\u540e\u624d\u80fd\u5728mkdocs.yml\u4e2d\u542f\u7528\u5b83\u3002critic\u7ed9\u6587\u6863\u63d0\u4f9b\u4e86\u6279\u6ce8\u529f\u80fd\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u793a\u4f8b\uff1a <pre><code>One~Only one thing is impossible for God: To find any sense in any\nDon\u2019t go around saying{\u2010\u2010 to people that\u2010\u2010} the world owes you a living. The\nworld owes you nothing. It was here first. OneOnly one thing is\nimpossible for God: To find any sense in any copyright law on the\nplanet. Truth is stranger than fictiontrue, but it is because\nFiction is obliged to stick to possibilities; Truth isn\u2019t.\n</code></pre></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u5b9a\u5236mkdocs\uff0c\u4f7f\u4e4b\u66f4\u9002\u5408\u751f\u6210\u6280\u672f\u6587\u6863\u3002\u8fd9\u4e9b\u5b9a\u5236\u4e3b\u8981\u5305\u62ec\uff1a 1. \u66f4\u6362\u4e3b\u9898 2. \u6587\u6863\u91cd\u5b9a\u5411 3. \u589e\u5f3amarkdown\u529f\u80fd 4. \u81ea\u52a8\u751f\u6210API\u6587\u6863</p>"},{"location":"chap10/#52-\u66f4\u6362\u4e3b\u9898","title":"5.2. \u66f4\u6362\u4e3b\u9898","text":"<p>mkdocs\u63d0\u4f9b\u4e86\u4e24\u79cd\u5f00\u7bb1\u5373\u7528\u7684\u4e3b\u9898\uff0c\u5373mkdocs\u548creadthedocs\u3002\u540e\u8005\u662f\u5bf9readthedocs\u7684\u4e3b\u9898\u7684\u590d\u5236\u3002Mkdocs\u7684\u5b98\u7f51\u4f7f\u7528\u7684\u4e3b\u9898\u5c31\u662fmkdocs\uff0c\u6240\u4ee5\uff0c\u8003\u8651\u9009\u62e9\u8fd9\u4e2a\u4e3b\u9898\u7684\u8bfb\u8005\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u7684\u5b98\u7f51\u6765\u4e86\u89e3\u8fd9\u79cd\u4e3b\u9898\u7684\u98ce\u683c\u548c\u6837\u5f0f\u3002</p> <p>\u9664\u4e86\u8fd9\u4e24\u79cd\u4e3b\u9898\u5916\uff0cmaterial\u662f\u5f53\u524d\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u8fd9\u4e2a\u4e3b\u9898\u4e5f\u5f97\u5230\u4e86FastAPI\u5f00\u53d1\u8005\u7684\u9ad8\u5ea6\u8bc4\u4ef7:</p> <p>Quote</p> <p>\u8bb8\u591a\u4eba\u559c\u6b22FastAPI, Typer\u548cSQLModel\u7684\u539f\u56e0\u4e4b\u4e00\u662f\u5176\u6587\u6863\u3002\u6211\u82b1\u4e86\u5f88\u591a\u65f6\u95f4\uff0c\u6765\u4f7f\u5f97\u8fd9\u4e9b\u9879\u76ee\u7684\u6587\u6863\u6613\u4e8e\u5b66\u4e60\u3001\u80fd\u88ab\u5feb\u901f\u7406\u89e3\u3002\u8fd9\u91cc\u7684\u5173\u952e\u56e0\u7d20\u662fMaterial for Mkdocs\u63d0\u4f9b\u4e86\u4e30\u5bcc\u591a\u6837\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u6211\u5f88\u5bb9\u6613\u5411\u8bfb\u8005\u89e3\u91ca\u548c\u5c55\u793a\u5404\u79cd\u5404\u6837\u7684\u5185\u5bb9\u3002\u540c\u6837\u5730\uff0c\u7ed3\u6784\u5316\u5728Material\u4e2d\u4e5f\u5f88\u5bb9\u6613\u3002\u4f7f\u7528\u7b80\u5355\u3001\u5929\u751f\u7f8e\u89c2\uff0c\u8ba9\u8bfb\u8005\u6c89\u6d78\u5176\u4e2d\u3002</p> <p>\u8981\u66f4\u6362\u4e3b\u9898\u4e3aMaterial\uff0c\u9996\u5148\u6211\u4eec\u5f97\u5b89\u88c5mkdocs-material\u5305\uff0c\u518d\u5728mkdocs.yaml\u4e2d\u6307\u5b9a\u4e3b\u9898\u4e3amaterial:</p> <p><pre><code>pip install mkdocs-material\n</code></pre> \u7136\u540e\u6211\u4eec\u9700\u8981\u5728mkdocs.yml\u4e2d\u6307\u5b9a\u4e3b\u9898\u4e3amaterial: <pre><code>site_name: An amazing site!\n\nnav: \n  - Home: index.md\n  - \u5b89\u88c5: installation.md\ntheme: readthedocs\n</code></pre></p> <p>Info</p> <p>\u5982\u679c\u60a8\u662f\u4f7f\u7528<code>ppw</code>\u521b\u5efa\u7684\u5de5\u7a0b\uff0c\u5219\u9ed8\u8ba4\u4e3b\u9898\u5df2\u7ecf\u662fmaterial\uff0c\u5e76\u4e14\u4f9d\u8d56\u90fd\u5df2\u5b89\u88c5\u597d\u4e86\u3002</p> <p>Material for Mkdocs\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9a\u5236\u9879\uff0c\u5305\u62ec\u66f4\u6539\u5b57\u4f53\u3001\u4e3b\u9898\u989c\u8272\u3001logo\u3001favicon\u3001\u5bfc\u822a\u3001\u9875\u5934(header)\u548c\u9875\u811a(footer)\u7b49\u3002\u5982\u679c\u9879\u76ee\u4f7f\u7528Github\u7684\u8bdd\uff0c\u8fd8\u53ef\u4ee5\u589e\u52a0Giscuss\u4f5c\u4e3a\u8bc4\u8bba\u7cfb\u7edf\u3002</p> <p>Material\u5929\u751f\u652f\u6301\u591a\u7248\u672c\u6587\u6863\u3002\u5b83\u7684\u591a\u7248\u672c\u6587\u6863\u662f\u901a\u8fc7mike\u6765\u5b9e\u73b0\u7684\u3002\u540e\u9762\u6211\u4eec\u8fd8\u8981\u4e13\u95e8\u4ecb\u7ecd\u8fd9\u4e2a\u5de5\u5177\u3002</p> <p>Material\u4e5f\u6709\u5b83\u7684\u4e0d\u8db3\u4e4b\u5904\u3002\u5bf9\u4e2d\u6587\u4f7f\u7528\u8005\u800c\u8a00\uff0c\u6700\u5927\u7684\u4e0d\u8db3\u4e4b\u5904\u662f\u5176\u514d\u8d39\u7248\u8fd8\u4e0d\u652f\u6301\u4e2d\u6587\u641c\u7d22\u3002\u4e2d\u6587\u641c\u7d22\u7684\u652f\u6301\u76ee\u524d\u53ea\u5bf9\u9879\u76ee\u7684\u8d5e\u52a9\u8005\u5f00\u653e\u3002</p>"},{"location":"chap10/#53-\u6587\u4ef6\u91cd\u5b9a\u5411","title":"5.3. \u6587\u4ef6\u91cd\u5b9a\u5411","text":"<p>\u5728Sphinx\u90a3\u4e00\u8282\uff0c\u6211\u4eec\u5df2\u7ecf\u9762\u4e34\u8fc7\u540c\u6837\u7684\u95ee\u9898\uff1a READEME, HISTORY, AUTHORS, LICENSE\u7b49\u51e0\u4e2a\u6587\u4ef6\uff0c\u901a\u5e38\u5fc5\u987b\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff0c\u800csphinx\u5728\u6784\u5efa\u6587\u6863\u65f6\uff0c\u53c8\u53ea\u8bfb\u53d6docs\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p>Mkdocs\u4e5f\u4e0d\u80fd\u652f\u6301\u8fd9\u79cd\u7ed3\u6784\uff0c\u4e0d\u8fc7\u597d\u5728\u6709\u4e00\u4e2a\u597d\u7528\u7684\u63d2\u4ef6\uff0cmkdocs-include-mkdown-plugin\uff0c\u5728\u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u4fee\u6539index.md\u6587\u4ef6\uff0c\u4f7f\u4e4b\u6307\u5411\u7236\u76ee\u5f55\u7684README:</p> <p><pre><code>&lt;!-- BEGIN INCLUDE ../README.md --&gt;\n\u591a\u5e74\u4ee5\u6765\uff0cPython\u4e00\u76f4\u5360\u636eTOBIE\u6700\u70ed\u95e8\u7f16\u7a0b\u8bed\u8a00\u7684\u699c\u5355\u524d\u4e09\uff0c\u6bcf\u5e74\u90fd\u5438\u5f15\u65e0\u6570\u4eba\u4ece\u5176\u5b83\u8bed\u8a00\u8f6c\u884c\u8fc7\u6765\u3002\u6b63\u6240\u8c13\u540d\u6ee1\u5929\u4e0b\uff0c\u8c24\u4ea6\u968f\u4e4b\uff0c\u4e00\u76f4\u4ee5\u6765\uff0c\u4e89\u8bae\u4e00\u76f4\u4f34\u968f\u7740Python\u3002\u5176\u4e00\u662f\u6027\u80fd\uff0c\u5176\u4e8c\u662f\u52a8\u6001\u7c7b\u578b\u5bfc\u81f4Python\u9879\u76ee\u65e0\u6cd5\u5927\u578b\u5316\u3002\u5728\u77e5\u4e4e\u4e0a\uff0c\u8bdd\u9898\"\u5927\u578b\u9879\u76ee\u4e0a\uff0cPython\u662f\u4e2a\u70c2\u8bed\u8a00\u5417\"\uff0c\u6700\u9ad8\u7684\u4e00\u4e2a\u56de\u7b54\uff0c\u70b9\u8d5e\u6570\u8fbe\u5230\u4e864700\u3002\u8bf4\u660e\u8fd9\u4e2a\u8bdd\u9898\uff0c\u65e0\u8bba\u89c2\u70b9\u662f\u5426\u6b63\u786e\uff0c\u8fd8\u662f\u5f88\u80fd\u5f15\u8d77\u5171\u9e23\u7684\u3002\n\n\u6211\u4ece2019\u5e74\u5f00\u59cb\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u5f00\u53d1\u8d77\uff0c\u5c31\u51b3\u5fc3\u628a\u5b83\u6253\u9020\u6210\u4e00\u6b3e\u5f00\u6e90\u4ea7\u54c1\u3002\u4e0d\u4ec5\u4ec5\u662f\u4ee3\u7801\u5f00\u6e90\uff0c\u800c\u662f\u8981\u8fbe\u5230\u5f00\u6e90\u793e\u533a\u7684\u4f18\u79c0\u54c1\u8d28\u6807\u51c6\u3002\u4e00\u8def\u63a2\u7d22\u4e0b\u6765\uff0c\u6211\u638c\u63e1\u4e86\u5982\u4f55\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\uff0c\u5982\u4f55\u4f7f\u7528\u7c7b\u578b\u6ce8\u91ca\uff0c\u5982\u4f55\u63d0\u9ad8\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u7387\uff0c\u5982\u4f55\u8bbe\u7f6e\u597d\u6301\u7eed\u96c6\u6210\u4ee5\u53ca\u5982\u4f55\u64b0\u5199\u9ad8\u8d28\u91cf\u7684\u6280\u672f\u6587\u6863\u3002\u73b0\u5728\uff0c\u5927\u5bcc\u7fc1\u6846\u67b6\u7684\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u7387\u8d85\u8fc7\u4e8690%\uff0c\u6bcf\u6b21\u4ee3\u7801\u63d0\u4ea4\u90fd\u5c06\u89e6\u53d1CI/CD\uff0c\u6211\u4eec\u7684\u6587\u6863\u4e0d\u4ec5\u5305\u542b\u4e86\u8f83\u8be6\u5c3d\u7684API\u6587\u6863\uff0c\u90e8\u5206\u6587\u6863\u8fd8\u8fdb\u884c\u4e86\u6587\u6863\u6d4b\u8bd5\u3002API\u4e4b\u95f4\u7684\u4ea4\u53c9\u5f15\u7528\u76f8\u4fe1\u4e5f\u6bd4\u56fd\u5185\u540c\u7c7b\u4ea7\u54c1\u66f4\u52a0\u5b8c\u5584\u3002\u6211\u8fd8\u4e13\u95e8\u6784\u5efa\u4e86\u4e00\u4e2a\u5411\u5bfc\u5de5\u5177\uff0cpython project wizard\uff0c\u6765\u4fdd\u8bc1\u6bcf\u4e2a\u65b0\u5efa\u7684\u9879\u76ee\uff0c\u90fd\u80fd\u591f\u9075\u5faa\u5f00\u53d1\u89c4\u8303\u7684\u6700\u4f73\u5b9e\u8df5\u3002\n\n\u73b0\u5728\uff0c\u6211\u60f3\u6211\u5df2\u7ecf\u6709\u8d44\u683c\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u3002\u5728\u5927\u578b\u9879\u76ee\u4e0a\uff0cPython\u662f\u4e2a\u70c2\u8bed\u8a00\u5417\uff1f\u6070\u6070\u76f8\u53cd\uff0c\u5982\u679c\u56e2\u961f\u90fd\u9075\u5faa\u793e\u533a\u6700\u4f73\u5b9e\u8df5\uff0cPython\u8ddf\u5176\u5b83\u8bed\u8a00\u4e00\u6837\uff0c\u90fd\u80fd\u591f\u5f00\u53d1\u51fa\u9ad8\u8d28\u91cf\u7684\u5927\u578b\u9879\u76ee\u3002\u5982\u679c\u4f60\u5728\u9879\u76ee\u4e2d\u4e25\u683c\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\uff0c\u505a\u597d\u5355\u5143\u6d4b\u8bd5\u3001\u6587\u6863\uff0c\u90a3\u4e48\u4ee3\u7801\u91cd\u6784\u548c\u9605\u8bfb\u4ed6\u4eba\u4ee3\u7801\u4f1a\u5f88\u5bb9\u6613\uff0c\u5e76\u4e14\u8d28\u91cf\u66f4\u6709\u4fdd\u8bc1\u3002Python\u7684\u6027\u80fd\u786e\u5b9e\u6709\u95ee\u9898\uff0c\u4f46\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u7684\u6027\u80fd\u4e3b\u8981\u6765\u81ea\u4e8e\u7cdf\u7cd5\u7684\u67b6\u6784\u3001\u7b56\u7565\u3001\u7b97\u6cd5\u548c\u4ee3\u7801\u3002\u6bd4\u5982\uff0cPython\u7684\u786e\u6ca1\u6709\u5229\u7528\u591a\u6838\u7684\u80fd\u529b\uff0c\u4f46\u662f\uff0c\u5982\u679c\u662f\u4e00\u4e2a\u5927\u578b\u9879\u76ee\uff0c\u96be\u9053\u4e0d\u5e94\u8be5\u4f7f\u7528\u5f02\u6b65\u52a0\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u4ee5\u5145\u5206\u5229\u7528CPU\u8d44\u6e90\u5417\uff1f\u591a\u8fdb\u7a0b\u56fa\u7136\u589e\u52a0\u4e86\u590d\u6742\u5ea6\uff0c\u4f46\u5bf9\u5927\u578b\u9879\u76ee\uff0c\u8fd9\u79cd\u590d\u6742\u5ea6\u7684\u589e\u52a0\u5fae\u4e0d\u8db3\u9053\u3002\n\n\n\n\n\n\n&lt;!-- END INCLUDE --&gt;\n</code></pre> \u4fee\u6539mkdocs.yaml,\u52a0\u8f7dinclude-markdown\u63d2\u4ef6\uff1a <pre><code>site_name: Omicron\n\nnav: \n  - Home: index.md\n  - \u5b89\u88c5: installation.md\n  - History: history.md\n\ntheme: readthedocs\n\nplugins:\n  - include-markdown\n</code></pre> index.md\u5c06\u8f6c\u6362\u6210\u7f51\u7ad9\u7684\u9996\u9875\u3002\u6211\u4eec\u8ba9index.md\u6307\u5411README.md\uff0c\u4ece\u800c\u4f7f\u5f97README.md\u6210\u4e3a\u7f51\u7ad9\u7684\u9996\u9875\u3002</p>"},{"location":"chap10/#54-\u9875\u9762\u5f15\u7528","title":"5.4. \u9875\u9762\u5f15\u7528","text":"<p>\u5728\u4ecb\u7ecdMarkdown\u8bed\u6cd5\u65f6\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u8d85\u94fe\u63a5\u8bed\u6cd5\u3002\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5728\u6587\u6863\u4e2d\u5f15\u7528\u5176\u4ed6\u9875\u9762\uff0c\u751a\u81f3\u662f\u9875\u9762\u5185\u7684\u6807\u9898\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u7528\u5230\u5185\u90e8\u94fe\u63a5\u3002\u5185\u90e8\u94fe\u63a5\u7684\u8bed\u6cd5\u662f\uff1a <pre><code>[\u9875\u9762\u6807\u9898](\u9875\u9762\u8def\u5f84#\u6807\u9898\u951a\u70b9)\n</code></pre> \u8981\u4f7f\u7528\u6807\u9898\u951a\u70b9\uff0c\u5fc5\u987b\u5728\u914d\u7f6e\u4e2d\u542f\u7528toc\u7684\u914d\u7f6e\u3002\u5982\u4e0b\u6240\u793a\uff1a <pre><code>markdown_extensions:\n  - toc:\n      permalink: true\n      toc_depth: 5\n      baselevel: 2\n      slugify: !!python/name:pymdownx.slugs.uslugify\n</code></pre> \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6ce8\u610fslugify\u9879\u7684\u914d\u7f6e\u3002\u8fd9\u4e2a\u914d\u7f6e\u7684\u4f5c\u7528\u662f\u5141\u8bb8\u5728\u951a\u70b9\u4e2d\u4f7f\u7528\u975e\u82f1\u6587\u5b57\u7b26\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5f15\u7528\u7b2c4\u7ae0ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\uff1a <pre><code>[ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868](chap04.md#ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868)\n</code></pre> \u8fd9\u5c06\u751f\u6210\u4e00\u4e2a\u94fe\u63a5\u3002\u70b9\u51fb\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5c06\u8df3\u8f6c\u5230\u7b2c4\u7ae0\u7684ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\u7684\u6807\u9898\u5904\u3002</p>"},{"location":"chap10/#55-api\u6587\u6863\u548cmkdocstrings","title":"5.5. API\u6587\u6863\u548cmkdocstrings","text":"<p>\u524d\u9762\u5df2\u7ecf\u63d0\u5230\u8fc7\u8fd9\u4e2a\u63d2\u4ef6\uff0c MkApi\u3002\u4f46\u5728\u6211\u4eec\u8bd5\u7528\u4e2d\uff0cMkdocstrings\u7684\u7a33\u5b9a\u6027\u66f4\u597d\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u4e5f\u66f4\u9ad8\u4e00\u4e9b\u3002\u56e0\u6b64\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ecb\u7ecdmkdocstrings\u3002</p> <p>Mkdocstrings\u53ea\u652f\u6301google style\u7684docstring, \u5728\u6837\u5f0f\u4e0a\u652f\u6301\u4e86Material, Readthedocs\u548cmkdocs\u4e09\u79cd\u4e3b\u9898\u3002\u8981\u4f7f\u7528mkdocstrings\uff0c\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55: <pre><code>poetry add mkdocstrings\n</code></pre> \u518d\u5728mkdocs.yaml\u4e2d\u914d\u7f6e\uff1a <pre><code>plugins:\n  - mkdocstrings:\n      watch:\n        - sample\n</code></pre> mkdocstrings\u6709\u4ee5\u4e0b\u529f\u80fd\u7279\u6027\uff1a</p>"},{"location":"chap10/#551-\u4ea4\u53c9\u5f15\u7528","title":"5.5.1. \u4ea4\u53c9\u5f15\u7528","text":"<p>\u6211\u4eec\u5728\u9875\u9762\u5f15\u7528\u91cc\u8bb2\u5230\u7684\u90a3\u4e9b\u5f15\u7528\u5728mkdocstrings\u4e2d\u4e5f\u662f\u652f\u6301\u7684\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u9700\u8981\u5b89\u88c5\u4e00\u4e2a\u540d\u4e3aauto-refs\u7684\u63d2\u4ef6\uff0c\u5e76\u8fdb\u884c\u914d\u7f6e\uff1a <pre><code>plugins:\n    - search\n    - autorefs\n    - mkdocstrings:\n</code></pre> autorefs\u5e76\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u5b83\u4f1a\u968fmkdocstrings\u5b89\u88c5\u800c\u5b89\u88c5\u3002</p> <p>\u63a5\u4e0b\u6765\u4e3b\u8981\u8bb2\u89e3\u4e00\u4e0b\uff0c\u5982\u4f55\u5f15\u7528\u5230\u51fd\u6570\u3001\u7c7b\u3001\u6a21\u5757\u7684\u6587\u6863\u4e2d\u6765\u3002\u5728mkdocstrings\u4e2d\uff0c\u6b64\u7c7b\u5f15\u7528\u7c7b\u4f3c\u4f7f\u7528markdown\u7684\u5f15\u7528\u8bed\u6cd5\u7684\u98ce\u683c\uff0c\u4f46\u7565\u6709\u4e0d\u540c\u3002\u4e3e\u4f8b\u5982\u4e0b\uff1a <pre><code>With a custom title:\n[`Object 1`][full.path.object1]\n\nWith the identifier as title:\n[full.path.object2][]\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u6b64\u7c7b\u5f15\u7528\u662f\u7531\u4e24\u5bf9\u65b9\u62ec\u53f7\uff0c\u800c\u4e0d\u662f\u7531\u4e00\u5bf9\u65b9\u62ec\u53f7\u52a0\u4e00\u5bf9\u5706\u62ec\u53f7\u7ec4\u6210\u3002\u5176\u4e2d\u7b2c\u4e00\u5bf9\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u6807\u9898\uff0c\u7b2c\u4e8c\u5bf9\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u5f15\u7528\u7684\u5bf9\u8c61\u7684\u8def\u5f84\u3002\u4e5f\u53ef\u4ee5\u53ea\u4f7f\u7528\u7f3a\u7701\u7684\u94fe\u63a5\u6587\u5b57\uff0c\u5373\u5bf9\u8c61\u5b57\u9762\u540d\u3002\u6211\u4eec\u518d\u6765\u89e3\u91ca\u4e00\u4e0b\uff0c\u5f15\u7528\u5bf9\u8c61\u7684\u8def\u5f84\u7684\u542b\u4e49\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5e93\uff0c\u540d\u4e3afoo\uff0c\u4e0b\u9762\u6709\u4e00\u4e2a\u6a21\u5757bar, \u8fd9\u4e2a\u6a21\u5757\u5b9a\u4e49\u4e86\u7c7bBaz\uff0c\u800c\u7c7bBaz\u53c8\u5305\u542b\u4e86\u65b9\u6cd5bark\uff0c\u5219\u5982\u679c\u6211\u4eec\u8981\u5728\u67d0\u4e2a\u65b9\u6cd5\uff08\u6bd4\u5982dog_bark\uff09\u4e2d\u5f15\u7528bark\u65b9\u6cd5\u7684\u6587\u6863\uff0c\u5219dog_bark\u7684\u6587\u6863\u5e94\u8be5\u5982\u4e0b\uff1a <pre><code>def dog_bark(msg: str) -&gt; None:\n\"\"\" Bark like a dog\n\n        See Also:\n            [Baz.bark][foo.bar.Baz.bark]\n        Args:\n            msg: The message to bark\n    \"\"\"\n    ...\n</code></pre> \u8fd9\u91cc\u5404\u5c42\u7ea7\u5bf9\u8c61\u4e4b\u95f4\u7684\u8fde\u63a5\u7b26\u90fd\u662f\".\"\u3002\u8fd9\u65e2\u7b80\u5316\u4e86\u8bb0\u5fc6\u91cf\uff0c\u4e5f\u7b26\u5408Python\u7684\u52a8\u6001\u7c7b\u578b\u7279\u5f81 -- \u5728Python\u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\u3002</p> <p>Attention</p> <p>\u5982\u679cfoo.bar.Baz.bark\u8fd9\u4e2a\u51fd\u6570\u5e76\u6ca1\u6709\u6587\u6863\uff0c\u90a3\u4e48\u5c06\u4ea7\u751f\u4e00\u4e2a\u65e0\u6548\u94fe\u63a5\u3002</p> <p>\u5982\u679c\u4f7f\u7528mkdocstrings\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9884\u671f\u4e4b\u5916\u7684\u7ed3\u679c\uff0c\u6bd4\u5982\u65e0\u6cd5\u751f\u6210API\u6587\u6863\uff0c\u8bf7\u68c0\u67e5\u5e76\u786e\u4fdd\u4f60\u7684\u4ee3\u7801\u672c\u8eab\u4e0d\u5b58\u5728\u5bfc\u5165\u9519\u8bef\u7b49\u95ee\u9898\u3002</p> <p>\u5728mkdocstrings 0.14\u4e4b\u540e\uff0c\u8df3\u8f6c\u5230\u67d0\u4e2a\u51fd\u6570\u6587\u6863\u5185\u90e8\u7684\u5b50\u6807\u9898\u7684\u80fd\u529b\u4e5f\u5177\u5907\u4e86\u3002\u57280.16\u4e4b\u540e\uff0c\u5b83\u53c8\u6709\u4e86\u7c7b\u4f3cintersphinx\u90a3\u6837\u8de8\u5de5\u7a0b\u5f15\u7528\u7684\u80fd\u529b\u3002\u5177\u4f53\u5982\u4f55\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"chap10/#552-\u94fe\u63a5\u5230\u4e3b\u63a7\u6587\u6863","title":"5.5.2. \u94fe\u63a5\u5230\u4e3b\u63a7\u6587\u6863","text":"<p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u8981\u5728docs\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u540d\u4e3aapi.md\u7684\u6587\u6863\uff08\u6587\u4ef6\u540d\u53ef\u4ee5\u4efb\u610f\uff09\uff0c\u5e76\u5728mkdocs.yml\u4e2d<code>nav</code>\u4e00\u8282\u4e2d\u914d\u7f6e\uff1a <pre><code>nav:\n  - home: index.md\n  - installation: installation.md\n  - usage: usage.md\n  - modules: api.md\n</code></pre> \u7136\u540e\uff0c\u5728api.md\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u9700\u8981\u751f\u6210\u6587\u6863\u7684\u5404\u4e2a\u6a21\u5757\uff1a <pre><code>::: my_package.my_module.MyClass\n    handler: python\n    options:\n      members:\n        - method_a\n        - method_b\n      show_root_heading: false\n      show_source: false\n</code></pre> \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u914d\u7f6e\u9879\u6bd4\u8f83\u5b8c\u5168\u7684\u4f8b\u5b50\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u8c61\u8fd9\u6837\u914d\u7f6e\uff1a <pre><code>::: sample.models.security\n    rendering:\n        heading_level: 1\n</code></pre> \u8fd9\u6837\u5728\u6a21\u5757omicron.models.security\u4e0b\u7684\u6240\u6709\u7c7b\u548c\u51fd\u6570\u90fd\u4f1a\u88ab\u751f\u6210\u6587\u6863\u3002</p> <p>\u5bf9\u4e8e\u5927\u578b\u5de5\u7a0b\uff0c\u6211\u4eec\u503e\u5411\u4e8e\u5c06API\u6587\u6863\u62c6\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u518d\u901a\u8fc7mkdocs.yml\u5173\u8054\u8d77\u6765\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code># mkdocs.yml\nnav:\n  - \u7b80\u4ecb: index.md\n  - \u5b89\u88c5: installation.md\n  - \u6559\u7a0b: usage.md\n  - API\u6587\u6863:\n    - timeframe: api/timeframe.md\n    - triggers: api/triggers.md\n    - security: api/security.md\n</code></pre> \u5bf9\u5e94\u5730\uff0c\u6211\u4eec\u5728docs/api\u76ee\u5f55\u4e0b\u751f\u6210\u4e86security.md\u7b49\u51e0\u4e2a\u6587\u6863\uff0c\u6bcf\u4e2a\u6587\u6863\u4e2d\u90fd\u53ea\u5f15\u5165\u4e86\u81ea\u5df1\u5173\u5fc3\u7684\u6a21\u5757\u3002</p>"},{"location":"chap10/#56-\u591a\u7248\u672c\u53d1\u5e03","title":"5.6. \u591a\u7248\u672c\u53d1\u5e03","text":"<p>\u6211\u4eec\u7684\u8f6f\u4ef6\u59cb\u7ec8\u5728\u4e0d\u65ad\u5730\u8fed\u4ee3\uff0c\u800c\u7528\u6237\u53ef\u80fd\u5e76\u4e0d\u4f1a\u968f\u7740\u6211\u4eec\u7684\u6b65\u4f10\u5347\u7ea7\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u63d0\u4f9b\u591a\u4e2a\u7248\u672c\u7684\u6587\u6863\uff0c\u4ee5\u4fbf\u7528\u6237\u80fd\u591f\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002\u5728mkdocs\u4e2d\uff0c\u8fd9\u4e00\u529f\u80fd\u662f\u7531Mike\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528mkdocs-material\u4e3b\u9898\uff0c\u5219\u53ea\u9700\u8981\u5728mkdocs.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\u5373\u53ef\uff1a <pre><code>extra:\n  version:\n    provider: mike\n</code></pre> \u8fd9\u4f1a\u4f7f\u5f97\u5728\u6587\u6863\u7684header\u533a\u57df\u51fa\u73b0\u4e00\u4e2a\u7248\u672c\u9009\u62e9\u5668\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"chap10/#6-\u5728\u7ebf\u6258\u7ba1\u6587\u6863","title":"6. \u5728\u7ebf\u6258\u7ba1\u6587\u6863","text":"<p>\u6700\u597d\u7684\u6587\u6863\u5206\u53d1\u65b9\u5f0f\u662f\u4f7f\u7528\u5728\u7ebf\u6258\u7ba1\uff0c\u5e76\u4e14\u4e00\u65e6\u6709\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u6587\u6863\u80fd\u7acb\u5373\u5f97\u5230\u66f4\u65b0\uff1b\u5e76\u4e14\uff0c\u65e7\u7684\u7248\u672c\u5bf9\u5e94\u7684\u6587\u6863\u4e5f\u80fd\u5f97\u5230\u4fdd\u7559\u3002Readethedocs\uff08\u4ee5\u4e0b\u79f0RTD\uff09\u662fPython\u6587\u6863\u6700\u91cd\u8981\u7684\u6258\u7ba1\u7f51\u7ad9\uff0c\u4e5f\u662f\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\uff0c\u800cgithub pages\u5219\u662f\u540e\u8d77\u4e4b\u79c0\u3002\u7531\u4e8e\u5b83\u4e0egithub\u6709\u8f83\u597d\u7684\u96c6\u6210\u6027\uff0c\u90e8\u7f72\u66f4\u4e3a\u7b80\u5355\u65b9\u4fbf\uff0c\u56e0\u6b64\u6211\u4eec\u4ee5\u4ecb\u7ecdgithub pages\u4e3a\u4e3b\u3002</p>"},{"location":"chap10/#601-read-the-docs","title":"6.0.1. Read the docs","text":"<p>\u5173\u4e8e\u5982\u4f55\u4f7f\u7528read the docs, \u8bf7\u53c2\u8003\u5b83\u7684\u5e2e\u52a9\u6587\u6863\u3002\u8fd9\u91cc\u63d0\u793a\u4e00\u4e0b\u9700\u8981\u6ce8\u610f\u7684\u51e0\u4e2a\u6838\u5fc3\u6982\u5ff5\uff1a</p> <ol> <li>read the docs\u6784\u5efa\u6587\u6863\u7684\u65b9\u5f0f\u662f\uff0c\u5b83\u4ecegithub\u6216\u8005\u5176\u5b83\u5728\u7ebf\u6258\u7ba1\u5e73\u53f0\u62c9\u53d6\u4f60\u7684\u4ee3\u7801\uff0c\u5728\u5b83\u7684\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u6784\u5efa\u3002\u6240\u4ee5\uff0c\u5b83\u5bf9\u6587\u6863\u6784\u5efa\u6280\u672f\u6709\u9009\u62e9\u6027\uff0c\u76ee\u524d\u5b83\u652f\u6301\u7684\u5de5\u5177\u6709Sphinx\u548cMkDocs\u4e24\u79cd\u3002</li> <li>\u6211\u4eec\u5728\u64b0\u5199\u6587\u6863\u65f6\uff0c\u5f80\u5f80\u4f1a\u751f\u6210\u672c\u5730\u9884\u89c8\u6587\u6863\u3002\u4f46\u8fd9\u4efd\u6587\u6863\u4e0eread the docs\u4e0a\u7684\u6587\u6863\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\u672c\u5730\u9884\u89c8\u6b63\u786e\u4e0d\u4ee3\u8868read the docs\u80fd\u751f\u6210\u540c\u6837\u7684\u6587\u4ef6\u3002</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e86read the docs\u81ea\u52a8\u540c\u6b65\u4ee3\u7801\u5e76build\uff0c\u90a3\u4e48\u6bcf\u6b21\u5f80github\u4e0apush\u4ee3\u7801\u65f6\uff0c\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21build\uff0c\u5e76\u5bfc\u81f4\u6587\u6863\u66f4\u65b0\u3002\u6240\u4ee5\u6b63\u786e\u7684\u505a\u6cd5\u662f\u5c06read the docs\u7ed1\u5b9a\u5230\u7279\u5b9a\u7684\u5206\u652f\u4e0a\uff08\u6bd4\u5982release\u548cmain\uff09\uff0c\u53ea\u6709\u91cd\u8981\u7684\u7248\u672c\u53d1\u5e03\u65f6\uff0c\u624d\u5f80\u8fd9\u4e2a\u5206\u652f\u4e0apush\u4ee3\u7801\uff0c\u4ece\u800c\u89e6\u53d1\u6587\u6863\u7f16\u8bd1\u3002read the docs\u76ee\u524d\u5e76\u4e0d\u652f\u6301tags\u3002</li> <li>read the docs\u7f16\u8bd1\u6587\u6863\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u4f9d\u8d56\u95ee\u9898\u3002\u9996\u5148\u5e94\u8be5\u7ed1\u5b9a\u6784\u5efa\u5de5\u5177(Sphinx\u548cMkdocs)\u7684\u7248\u672c\u3002read the docs\u63d0\u4f9b\u4e86readthedocs.yml\u4ee5\u4f9b\u914d\u7f6e\uff08\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff09\u3002\u6839\u636e\u4f60\u4f7f\u7528\u7684API\u6587\u6863\u751f\u6210\u5de5\u5177\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u5bfc\u5165\u4f60\u7684package\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u4e3a\u4f60\u7684\u6784\u5efa\u5de5\u5177\u6307\u5b9a\u4f9d\u8d56\u3002\u5728\u8fd9\u91cc\u6709\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u677f\u3002</li> <li>\u5728\u6587\u6863\u6784\u5efa\u4e2d\u53ef\u80fd\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u4e3a\u4e86\u5e2e\u52a9\u8c03\u8bd5\uff0cread the docs\u53d1\u5e03\u4e86\u5b98\u65b9docker image\uff0c\u4f9b\u5927\u5bb6\u5728\u672c\u5730\u4f7f\u7528\u3002</li> </ol> <p>\u57fa\u4e8e\u4e0a\u8ff0\u539f\u56e0\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528github pages\u6765\u6258\u7ba1\u6587\u6863\uff0c\u5b83\u7684\u7b80\u5355\u6613\u7528\uff0c\u672c\u5730\u4e0e\u670d\u52a1\u7aef\u7684\u4e00\u81f4\u6027\u5c06\u4f1a\u4e3a\u4f60\u8282\u7701\u4e0d\u5c11\u65f6\u95f4\u3002</p>"},{"location":"chap10/#602-github-pages","title":"6.0.2. Github Pages","text":"<p>Github Pages\u662fGithub\u63d0\u4f9b\u7684\u9759\u6001\u7ad9\u70b9\u6258\u7ba1\u670d\u52a1\uff0c\u5b83\u7684\u539f\u7406\u662f\uff0c\u7531\u7528\u6237\u5728\u672c\u5730\uff08\u6216\u8005CI\u670d\u52a1\u5668\u4e0a\uff09\u7f16\u8bd1\u597d\u9759\u6001\u7ad9\u70b9\u6587\u4ef6\uff0c\u7b7e\u5165github\u670d\u52a1\u5668\u7684\u67d0\u4e2a\u5206\u652f\uff0c\u518d\u8bbe\u7f6e\u8be5\u5206\u652f\u4e3agithub pages\u8bfb\u53d6\u7684\u5206\u652f\u5373\u53ef\u3002\u8fd9\u6837\u751f\u6210\u7684\u7f51\u7ad9\u4f7f\u7528github.io\u7684\u57df\u540d\uff0c\u652f\u6301https\u8bbf\u95ee\u3002\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u81ea\u5df1\u7684\u57df\u540d\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4fee\u6539\u65b9\u5f0f\u3002</p> <p>\u5728github\u4e0a\u8bbe\u7f6egit pages\uff1a</p> <p></p> <p>\u5f53\u4f7f\u7528\u4e86mkdocs\u4e4b\u540e\uff0c\u5982\u679c\u6211\u4eec\u8981\u4ece\u672c\u5730\u53d1\u5e03\u6587\u6863\uff0c\u53ef\u4ee5\u6267\u884c\uff1a <pre><code>mkdocs gh-deploy\n</code></pre> \u5982\u679c\u4f60\u4f7f\u7528mike\u8fdb\u884c\u591a\u7248\u672c\u53d1\u5e03\uff0c\u5219\u6211\u4eec\u4e0d\u5e94\u8be5\u4f7f\u7528mkdocs\u6765\u8fdb\u884c\u672c\u5730\u53d1\u5e03\uff0c\u800c\u662f\u5e94\u8be5\u4f7f\u7528mike: <pre><code>mike deploy [version] [alias] --push\nmike set-default [version-or-alias]\n</code></pre> \u7b2c1\u884c\u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u6307\u5b9a\u4e86\u7248\u672c\u53f7\uff0c\u8fd8\u7ed9\u5b83\u6307\u5b9a\u4e86\u4e00\u4e2a\u522b\u540d\u3002\u522b\u540d\u6709\u7740\u975e\u5e38\u5b9e\u7528\u7684\u529f\u80fd\u3002\u5728\u542f\u7528\u591a\u7248\u672c\u90e8\u7f72\u4e4b\u540e\uff0c\u94fe\u63a5\u90fd\u4f1a\u5e26\u4e0a\u7248\u672c\u53f7\uff0c\u6bd4\u5982\uff0chttp://.../myproject/0.1.0/topic\u3002\u65b0\u7248\u672c\u53d1\u5e03\u540e\uff0c\u8fd9\u4e9b\u94fe\u63a5\u5fc5\u987b\u8981\u5168\u90e8\u66f4\u6539\uff0c\u5426\u5219\u5c31\u4f1a\u6307\u5411\u8fc7\u65f6\u7684\u6587\u6863\uff08\u5f53\u7136\u4e2a\u522b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u786e\u5b9e\u9700\u8981\u6307\u5411\u65e7\u7684\u7248\u672c\u53f7\uff0c\u4f46\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u90fd\u9700\u8981\u6307\u5411\u6700\u65b0\u7684\u7248\u672c\uff09\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4ece\u4e00\u5f00\u59cb\uff0c\u94fe\u63a5\u5c31\u662fhttps://.../myproject/latest/topic\uff0c\u968f\u7740\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u5b83\u603b\u662f\u6307\u5411\u6700\u65b0\u7684\u90a3\u4e2a\u7248\u672c\u3002</p> <p>\u7b2c2\u884c\u4e2d\uff0c\u6211\u4eec\u6307\u5b9a\u4e86\u9ed8\u8ba4\u7248\u672c\u3002\u5728\u591a\u7248\u672c\u90e8\u7f72\u4e0b\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u7248\u672c\uff0c\u5219\u7528\u6237\u5fc5\u987b\u6307\u5b9a\u660e\u786e\u7684\u7248\u672c\u53f7\u624d\u80fd\u8bbf\u95ee\u6587\u6863\u3002\u4f46\u7528\u6237\u53ef\u80fd\u4e8b\u5148\u5e76\u4e0d\u77e5\u9053\u6700\u65b0\u7684\u7248\u672c\u662f\u54ea\u4e00\u4e2a\u3002</p>"},{"location":"chap10/#7-\u7ed3\u8bba","title":"7. \u7ed3\u8bba","text":"<p>Sphinx + rst\u8fd9\u6761\u6280\u672f\u6808\u6bd4\u8f83\u6210\u719f\u7a33\u5b9a\uff0c\u4f46\u5b66\u4e60\u66f2\u7ebf\u6bd4\u8f83\u9661\u5ced\uff0crst\u7684\u4e00\u4e9b\u8bed\u6cd5\u8fc7\u4e8e\u7e41\u7410\uff0c\u6587\u6863\u751f\u6210\u6548\u7387\u4e0d\u9ad8\u3002Mkdocs\u6b63\u5728\u6210\u4e3a\u6784\u5efa\u9759\u6001\u7ad9\u70b9\u548c\u6280\u672f\u6587\u6863\u7684\u65b0\u5de5\u5177\uff0c\u76f8\u5173\u529f\u80fd\u3001\u7279\u6027\u9010\u6e10\u4e30\u5bcc\uff0c\u7248\u672c\u4e5f\u8d8b\u4e8e\u7a33\u5b9a\uff0c\u5efa\u8bae\u8bfb\u8005\u5c1d\u8bd5\u4f7f\u7528\u3002</p> <p></p> <p>\u4e24\u79cd\u6280\u672f\u6808\u7684\u6bd4\u8f83\u5982\u4e0b\uff1a</p> \u9879\u76ee Sphinx Mkdocs \u8bf4\u660e \u4e3b\u63a7\u6587\u6863 index.rst mkdocs.yml - API\u6587\u6863 autodoc+autosummary mkdocstrings mkdocstrings\u5bf9material\u652f\u6301\u8f83\u597d\uff0c\u8fd8\u672a\u8fbe\u52301.0\u91cc\u7a0b\u7891 \u6587\u6863\u91cd\u5b9a\u5411 rst\u53ef\u652f\u6301 \u901a\u8fc7\u63d2\u4ef6\u652f\u6301 - \u8b66\u793a\u6587\u672c \u652f\u6301 \u901a\u8fc7\u6269\u5c55\u548c\u4e3b\u9898\u652f\u6301 - \u94fe\u63a5 \u6587\u6863\u5185+\u8de8\u9879\u76ee \u4f7f\u7528mkdocstrings\u540e \u540cSphinx \u5b9e\u65f6\u9884\u89c8 \u7b2c\u4e09\u65b9 \u5185\u7f6e mkdocs\u5b9e\u65f6\u9884\u89c8\u66f4\u9ad8\u6548 \u8868\u8fbe\u80fd\u529b \u975e\u5e38\u5f3a\uff0c\u591f\u7528 - \u751f\u4ea7\u6548\u7387 \u4e00\u822c \u9ad8\u6548 -"},{"location":"chap11/","title":"\u7b2c\u5341\u4e00\u7ae0 \u53d1\u5e03\u5e94\u7528","text":""},{"location":"chap11/#\u53d1\u5e03\u5e94\u7528","title":"\u53d1\u5e03\u5e94\u7528","text":""},{"location":"chap11/#\u901a\u8fc7pypi\u53d1\u5e03\u5e94\u7528","title":"\u901a\u8fc7PyPI\u53d1\u5e03\u5e94\u7528","text":""},{"location":"chap11/#testpypi","title":"TestPyPI","text":""},{"location":"chap11/#pypi","title":"PyPI","text":""},{"location":"chap11/#\u6848\u4f8b\u53d1\u5e03\u4e00\u4e2a\u5305\u5230testpypi","title":"\u6848\u4f8b\uff1a\u53d1\u5e03\u4e00\u4e2a\u5305\u5230TestPyPI","text":""},{"location":"chap11/#whl\u683c\u5f0f\u7684\u5c40\u9650","title":"Whl\u683c\u5f0f\u7684\u5c40\u9650","text":""},{"location":"chap11/#\u5236\u4f5cnative\u7684\u5b89\u88c5\u5305","title":"\u5236\u4f5cNative\u7684\u5b89\u88c5\u5305","text":""},{"location":"chap11/#makeself\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305\u5185\u542b\u6848\u4f8b","title":"makeself\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305\uff08\u5185\u542b\u6848\u4f8b\uff09","text":""},{"location":"chap11/#\u57fa\u4e8epyinstaller\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305","title":"\u57fa\u4e8ePyInstaller\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305","text":""},{"location":"chap11/#nuitka","title":"Nuitka","text":""},{"location":"outline/","title":"Outline","text":"<p>\u7b2c1\u7ae0 \u9ad8\u6548\u7684\u8f6f\u4ef6\u5f00\u53d1\u8bed\u8a00\u2014\u2014Python 1.1 Python\u8f6f\u4ef6\u5f00\u53d1\u7684\u4f18\u52bf 1.2 Python\u8f6f\u4ef6\u5f00\u53d1\u7684\u8fc7\u7a0b 1.3 Python\u9ad8\u8d28\u91cf\u8f6f\u4ef6\u5f00\u53d1\u7684\u5173\u952e\u70b9 1.3.1\u4e25\u683c\u6267\u884c\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b  1.3.2\u91cd\u89c6\u5f00\u53d1\u4e2d3\u4e2a\u6838\u5fc3\u6b65\u9aa4  1.3.3\u9009\u7528\u9ad8\u6548\u7684\u5f00\u53d1\u5de5\u5177</p> <p>\u7b2c2\u7ae0 Python\u7684\u7f16\u7a0b\u5f00\u53d1\u73af\u5883 2.1 Python\u5f00\u53d1\u73af\u5883 2.2Windows\u4e0b\u7684\u865a\u62dfLinux\u73af\u5883 2.2.1 WSL\u65b9\u6848 2.2.2 Docker\u65b9\u6848 2.2.3\u865a\u62df\u673a\u65b9\u6848 2.3\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09 2.3.1VSCodevsPycharm:\u4f7f\u7528\u54ea\u4e00\u4e2aIDE\uff1f 2.3.2VSCode\u53ca\u6269\u5c55 2.4\u5176\u4ed6\u5f00\u53d1\u73af\u5883 2.4.1Jupyter Notebook 2.4.2Spyder</p> <p>\u7b2c3\u7ae0 \u6784\u5efaPython\u865a\u62df\u73af\u5883 3.1Python\u865a\u62df\u73af\u5883\uff1a\u6d88\u706d\u4f9d\u8d56\u5730\u72f1 3.2 Anaconda\uff1a\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u865a\u62df\u73af\u5883 3.2.1\u5b89\u88c5Anaconda 3.2.2\u914d\u7f6econda 3.2.3\u521b\u5efa\u548c\u7ba1\u7406\u865a\u62df\u73af\u5883 3.3\u8f7b\u91cf\u7684Python\u5305\u5b89\u88c5\u5de5\u5177Pip 3.4\u914d\u7f6eVSCode\u4e2d\u7684\u89e3\u91ca\u5668</p> <p>\u7b2c4\u7ae0 \u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc 4.1\u6807\u51c6\u9879\u76ee\u5e03\u5c40 4.1.1\u6587\u6863 4.1.2\u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6 4.1.3\u4ee3\u7801\u76ee\u5f55 4.1.4\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55 4.1.5\u6301\u7eed\u96c6\u6210\u914d\u7f6e\u6587\u4ef6 4.2\u9879\u76ee\u751f\u6210\u5411\u5bfc\u2014\u2014Python Project Wizard 4.2.1\u5b89\u88c5Python Project Wizard 4.2.2\u521b\u5efa\u865a\u62df\u73af\u5883 4.2.3\u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56 4.2.4\u521b\u5efaGithub Repo 4.2.5\u8fd0\u884c\u53d1\u5e03\u6d4b\u8bd5 4.2.6\u8bbe\u7f6eGithub CI 4.2.7\u8bbe\u7f6eCodecov</p> <p>\u7b2c5\u7ae0 \u7ba1\u7406\u7248\u672c\u3001\u4f9d\u8d56\u548c\u6784\u5efa\u2014\u2014\u57fa\u4e8ePoetry 5.1 Poetry\uff1a\u7b80\u6d01\u6e05\u6670\u7684\u9879\u76ee\u7ba1\u7406\u5de5\u5177 5.2\u7248\u672c\u7ba1\u7406 5.2.1Semantic Versioning 5.2.2\u5982\u4f55\u4f7f\u7528Poetry\u8fdb\u884c\u7248\u672c\u7ba1\u7406 5.3\u4f9d\u8d56\u7ba1\u7406 5.3.1\u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u7684\u610f\u4e49 5.3.2Poetry\u4f9d\u8d56\u7ba1\u7406\u76f8\u5173\u547d\u4ee4 5.3.3 Poetry \u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406 5.4\u6784\u5efa\u53d1\u884c\u5305 5.4.1 Python\u6784\u5efa\u6807\u51c6\u548c\u5de5\u5177\u7684\u53d8\u5316 5.4.2 \u57fa\u4e8ePoetry\u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa 5.5 \u5176\u4ed6\u91cd\u8981\u7684Poetry\u547d\u4ee4 5.6 \u6848\u4f8b\uff1a\u57fa\u4e8epoetry\u521b\u5efa\u5e76\u53d1\u5e03\u4e00\u4e2a\u9879\u76ee</p> <p>\u7b2c6\u7ae0 \u5b9e\u73b0\u9ad8\u6548\u7684Python\u7f16\u7801 6.1Kite\uff1aAI\u8d4b\u80fd\u7684\u81ea\u52a8\u5b8c\u6210\u548c\u6587\u6863\u63d0\u793a 6.2\u7ed9\u4ee3\u7801\u52a0\u4e0a\u7c7b\u578b\u6807\u6ce8 6.3\u8fd0\u7528Lint\u5de5\u5177 6.3.1 Lint\u5de5\u5177\u7684\u4f5c\u7528 6.3.2 Python Lint\u5de5\u5177\u6bd4\u8f83 6.3.3 Flake8\u7684\u914d\u7f6e\u548c\u4f7f\u7528 6.3.4 \u6848\u4f8b\uff1aFlake8\u67e5\u9519\u529f\u80fd\u6f14\u793a\u53ca\u9519\u8bef\u89e3\u6790 6.4Formatter\u5de5\u5177 6.4.1 \u4ec0\u4e48\u6837\u7684\u4ee3\u7801\uff0c\u624d\u7b26\u5408Zen of Python 6.4.2 Python formatter\u5de5\u5177\u6bd4\u8f83 6.4.3Black\uff1a\u4e0d\u59a5\u534f\u7684\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177 6.4.4iSort\uff1a\u5bfc\u5165\u683c\u5f0f\u5316\u5de5\u5177 6.4.5 \u6848\u4f8b\uff1a\u57fa\u4e8eBlack\u548ciSort\u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316 6.5\u4ee3\u7801\u63d0\u4ea4\u94a9\u5b50\uff1a\u628a\u4e0d\u89c4\u8303\u7684\u4ee3\u7801\u6321\u5728\u95e8\u5916 6.5.1 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u4ee3\u7801\u63d0\u4ea4\u94a9\u5b50\uff1f 6.5.2 \u5b89\u88c5\u548c\u914d\u7f6e\u5e38\u7528\u7684\u4ee3\u7801\u63d0\u4ea4\u94a9\u5b50 6.5.2 \u6848\u4f8b\uff1a\u4ee3\u7801\u94a9\u5b50\u963b\u6b62\u4e0d\u5408\u89c4\u8303\u7684\u4ee3\u7801\u5165\u5e93</p> <p>\u7b2c7\u7ae0 \u4ee3\u7801\u5355\u5143\u6d4b\u8bd5\u2014\u2014\u57fa\u4e8eUnittest\u3001Pytest\u3001Pycoverage\u548cTox 7.1\u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7\u7ed3\u6784 7.2Unittest\u6846\u67b6 7.2.1\u6d4b\u8bd5\u6587\u4ef6\u7684\u57fa\u672c\u7ed3\u6784 7.2.2\u5982\u4f55\u4f7f\u7528Mock\uff08\u5185\u542b\u6848\u4f8b\uff09 7.2.3\u4f7f\u7528\u65ad\u8a00\uff08\u5185\u542b\u6848\u4f8b\uff09 7.3Pytest\u6d4b\u8bd5\u5e93 7.4 \u8861\u91cf\u6d4b\u8bd5\u7684\u8986\u76d6\u7387 7.4.1\u914d\u7f6ePycoverage 7.4.2\u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a 7.4.3 \u6848\u4f8b\uff1a\u63d0\u9ad8\u6d4b\u8bd5\u8986\u76d6\u7387 7.5 Tox\u73af\u5883\u77e9\u9635\u52a0\u901f\u6d4b\u8bd5   7.5.1\u4ec0\u4e48\u662fTox\uff1f   7.5.2 Tox\u7684\u5de5\u4f5c\u539f\u7406   7.5.3\u5982\u4f55\u914d\u7f6eTox</p> <p>\u7b2c8\u7ae0 \u4ee3\u7801\u7248\u672c\u7ba1\u7406\u2014\u2014\u57fa\u4e8eGit\u548cGithub 8.1\u4ee3\u7801\u7248\u672c\u7ba1\u7406\u7684\u610f\u4e49 8.2\u7248\u672c\u7ba1\u7406\u5de5\u5177Git 8.2.1Git\u4e2d\u7684\u57fa\u7840\u64cd\u4f5c 8.2.2Git\u4e2d\u7684\u9ad8\u7ea7\u64cd\u4f5c 8.2.3\u8c01\u5f15\u5165\u4e86\u9519\u8bef\uff1a\u5982\u4f55\u8ffd\u8e2a\u4ee3\u7801\u53d8\u5316\uff08\u6848\u4f8b\uff09 8.3\u5206\u652f\u7ba1\u7406 8.4\u4ee3\u7801\u5728\u5206\u652f\u4e4b\u95f4\u7684\u6d41\u52a8 8.5Github/Gitlab</p> <p>\u7b2c9\u7ae0 \u6301\u7eed\u96c6\u6210\u2014\u2014\u57fa\u4e8eGithub CI\u548cTravis CI 9.1\u6301\u7eed\u96c6\u6210\u7684\u610f\u4e49 9.2\u5e38\u89c1\u7684\u5728\u7ebfCI\u670d\u52a1 9.3Github CI 9.3.1Github CI\u6982\u8ff0 9.3.2\u914d\u7f6e\u6587\u4ef6\u8bed\u6cd5\u6982\u89c8 9.3.3\u8fde\u63a5\u5176\u4ed6\u670d\u52a1 9.3.4\u5e38\u7528\u7684GithubActions 9.3.5 \u6848\u4f8b\uff1a\u4f7f\u7528\u5916\u90e8\u670d\u52a1\u7684Github CI\u9ad8\u7ea7\u914d\u7f6e\u5b9e\u4f8b 9.4Travis CI</p> <p>\u7b2c10\u7ae0 \u64b0\u5199\u6280\u672f\u6587\u6863 10.1\u6280\u672f\u6587\u6863\u7684\u7ec4\u6210 10.2\u4e24\u79cd\u4e3b\u8981\u7684\u6587\u6863\u683c\u5f0f 10.2.1reStructured Text 10.2.2Markdown 10.3\u4e24\u79cd\u4e3b\u8981\u7684\u6587\u6863\u6784\u5efa\u5de5\u5177 10.3.1Sphinx 10.3.2Mkdocs 10.4\u4f7f\u7528Sphinx\u6784\u5efa\u6587\u6863 10.4.1\u6587\u6863\u7ed3\u6784\u4e0e\u4e3b\u63a7\u6587\u6863 10.4.2\u5de5\u5177\u94fe 10.4.3\u6df7\u5408\u4f7f\u7528Markdown 10.5\u4f7f\u7528Mkdocs\u6784\u5efa\u6587\u6863 10.5.1\u6587\u6863\u7ed3\u6784 10.5.2API\u6587\u6863 10.6\u6587\u6863\u5728\u7ebf\u6258\u7ba1\u670d\u52a1 10.6.1 Read the Docs 10.6.2 Github Pages 10.7 \u6848\u4f8b\uff1a\u57fa\u4e8eMkdocs\u7684\u6587\u6863\u6784\u5efa\u53ca\u53d1\u5e03</p> <p>\u7b2c11\u7ae0 \u53d1\u5e03\u5e94\u7528 11.1\u901a\u8fc7PyPI\u53d1\u5e03\u5e94\u7528 11.1.1 TestPyPI 11.1.2 PyPI 11.1.3\u6848\u4f8b\uff1a\u53d1\u5e03\u4e00\u4e2a\u5305\u5230TestPyPI 11.2Whl\u683c\u5f0f\u7684\u5c40\u9650 11.3\u5236\u4f5cNative\u7684\u5b89\u88c5\u5305 11.3.1 makeself\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305\uff08\u5185\u542b\u6848\u4f8b\uff09 11.3.2 \u57fa\u4e8ePyInstaller\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305</p>"}]}