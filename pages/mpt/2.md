---
clicks: 6
---

# 基本概念
<hr>

<show at="0">

$$
R_p = w_1R_1 + w_2R_2 + w_3R_3 + w_4R_4
$$
</show>

<show at="1">

```python
w = np.ones() / 4
portfolio_returns = (w * returns).sum(axis=1)
```
</show>

<show at="2">


| 日期                | 600519 | 300750 | 300059 | 601398 |
| ------------------- | ------ | ------ | ------ | ------ |
| 2022-12-13 00:00:00 | 0.65%  | -2.17% | 0.12%  | 0.76%  |
| 2022-12-14 00:00:00 | 1.23%  | -0.77% | 1.64%  | -0.25% |
| 2022-12-15 00:00:00 | 0.94%  | 5.38%  | -2.21% | -0.75% |
| 2022-12-16 00:00:00 | -0.01% | -1.37% | -0.43% | 0.76%  |
| 2022-12-19 00:00:00 | -0.80% | 0.58%  | -3.38% | -0.75% |

</show>

<show at="3">

|            | daily port returns |
| ---------- | ------------------ |
| 2022-12-13 | 0.001301           |
| 2022-12-14 | 0.009514           |
| 2022-12-15 | 0.006015           |
| 2022-12-16 | -0.002498          |
| 2022-12-19 | -0.012801          |

</show>

<show at="4">

```python
from empyrical import sharpe_ratio
sr = sharpe_ratio(port_returns)
```
</show>

<show at="5">

$$
\sigma_p = \sqrt{w_1^2\sigma_1^2 + w_2^2\sigma_2^2 + 2w_1w_2Cov(R_1, R_2)}\newline 
        =\sqrt{w_1^2\sigma_1^2 + w_2^2\sigma_2^2 + 2w_1w_2\rho_{1,2}\sigma_1\sigma_2}
$$
</show>

<show at="6">

```python

cov = np.cov(port_returns.T)
port_vol = np.sqrt(np.dot(np.dot(weights, cov), weights.T))

```
</show>

<!--
我们先从一些简单的概念入手。比如计算组合的收益、方差和夏普率。

假设我们有2个资产，这个公式用来计算它们的组合收益率。

# CLK1
用代码表示，就是一个简单的乘法。

# CLK2
这是每个资产的每日收益率

# CLK3
这是按等权重计算出来的组合的每日收益率

# CLK4

有了组合的日收益率，我们就可以计算它的sharpe

# CLK5
波动率的计算复杂一点。我们先来看公式：

# CLK6
这是python的实现

-->
